var vf=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var ui=(t,e,r)=>(vf(t,e,"read from private field"),r?r.call(t):e.get(t)),Uo=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ho=(t,e,r,n)=>(vf(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);const p$1=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}};p$1();const scriptRel="modulepreload",seen={},base$3="/",__vitePreload=function(e,r){return!r||r.length===0?e():Promise.all(r.map(n=>{if(n=`${base$3}${n}`,n in seen)return;seen[n]=!0;const o=n.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${s}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":scriptRel,o||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),o)return new Promise((c,d)=>{a.addEventListener("load",c),a.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e())};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}var dist$1={},bufferPolyfill={},base64Js$2={};base64Js$2.byteLength=byteLength$2;var toByteArray_1=base64Js$2.toByteArray=toByteArray$2,fromByteArray_1=base64Js$2.fromByteArray=fromByteArray$2,lookup$2=[],revLookup$2=[],Arr$2=typeof Uint8Array<"u"?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$3=0,len$2=code$2.length;i$3<len$2;++i$3)lookup$2[i$3]=code$2[i$3],revLookup$2[code$2.charCodeAt(i$3)]=i$3;revLookup$2["-".charCodeAt(0)]=62;revLookup$2["_".charCodeAt(0)]=63;function getLens$2(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function byteLength$2(t){var e=getLens$2(t),r=e[0],n=e[1];return(r+n)*3/4-n}function _byteLength$2(t,e,r){return(e+r)*3/4-r}function toByteArray$2(t){var e,r=getLens$2(t),n=r[0],o=r[1],s=new Arr$2(_byteLength$2(t,n,o)),a=0,c=o>0?n-4:n,d;for(d=0;d<c;d+=4)e=revLookup$2[t.charCodeAt(d)]<<18|revLookup$2[t.charCodeAt(d+1)]<<12|revLookup$2[t.charCodeAt(d+2)]<<6|revLookup$2[t.charCodeAt(d+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return o===2&&(e=revLookup$2[t.charCodeAt(d)]<<2|revLookup$2[t.charCodeAt(d+1)]>>4,s[a++]=e&255),o===1&&(e=revLookup$2[t.charCodeAt(d)]<<10|revLookup$2[t.charCodeAt(d+1)]<<4|revLookup$2[t.charCodeAt(d+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function tripletToBase64$2(t){return lookup$2[t>>18&63]+lookup$2[t>>12&63]+lookup$2[t>>6&63]+lookup$2[t&63]}function encodeChunk$2(t,e,r){for(var n,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),o.push(tripletToBase64$2(n));return o.join("")}function fromByteArray$2(t){for(var e,r=t.length,n=r%3,o=[],s=16383,a=0,c=r-n;a<c;a+=s)o.push(encodeChunk$2(t,a,a+s>c?c:a+s));return n===1?(e=t[r-1],o.push(lookup$2[e>>2]+lookup$2[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(lookup$2[e>>10]+lookup$2[e>>4&63]+lookup$2[e<<2&63]+"=")),o.join("")}var ieee754$2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$2.read=function(t,e,r,n,o){var s,a,c=o*8-n-1,d=(1<<c)-1,m=d>>1,gr=-7,vr=r?o-1:0,Ar=r?-1:1,Tr=t[e+vr];for(vr+=Ar,s=Tr&(1<<-gr)-1,Tr>>=-gr,gr+=c;gr>0;s=s*256+t[e+vr],vr+=Ar,gr-=8);for(a=s&(1<<-gr)-1,s>>=-gr,gr+=n;gr>0;a=a*256+t[e+vr],vr+=Ar,gr-=8);if(s===0)s=1-m;else{if(s===d)return a?NaN:(Tr?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-m}return(Tr?-1:1)*a*Math.pow(2,s-n)};ieee754$2.write=function(t,e,r,n,o,s){var a,c,d,m=s*8-o-1,gr=(1<<m)-1,vr=gr>>1,Ar=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,Tr=n?0:s-1,Rr=n?1:-1,kr=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=gr):(a=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+vr>=1?e+=Ar/d:e+=Ar*Math.pow(2,1-vr),e*d>=2&&(a++,d/=2),a+vr>=gr?(c=0,a=gr):a+vr>=1?(c=(e*d-1)*Math.pow(2,o),a=a+vr):(c=e*Math.pow(2,vr-1)*Math.pow(2,o),a=0));o>=8;t[r+Tr]=c&255,Tr+=Rr,c/=256,o-=8);for(a=a<<o|c,m+=o;m>0;t[r+Tr]=a&255,Tr+=Rr,a/=256,m-=8);t[r+Tr-Rr]|=kr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js$2,r=ieee754$2,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=Ur,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const wr=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(wr,y),wr.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function a(wr){if(wr>o)throw new RangeError('The value "'+wr+'" is invalid for option "size"');const y=new Uint8Array(wr);return Object.setPrototypeOf(y,c.prototype),y}function c(wr,y,_r){if(typeof wr=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return vr(wr)}return d(wr,y,_r)}c.poolSize=8192;function d(wr,y,_r){if(typeof wr=="string")return Ar(wr,y);if(ArrayBuffer.isView(wr))return Rr(wr);if(wr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof wr);if(Un(wr,ArrayBuffer)||wr&&Un(wr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Un(wr,SharedArrayBuffer)||wr&&Un(wr.buffer,SharedArrayBuffer)))return kr(wr,y,_r);if(typeof wr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $r=wr.valueOf&&wr.valueOf();if($r!=null&&$r!==wr)return c.from($r,y,_r);const Br=xr(wr);if(Br)return Br;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof wr[Symbol.toPrimitive]=="function")return c.from(wr[Symbol.toPrimitive]("string"),y,_r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof wr)}c.from=function(wr,y,_r){return d(wr,y,_r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function m(wr){if(typeof wr!="number")throw new TypeError('"size" argument must be of type number');if(wr<0)throw new RangeError('The value "'+wr+'" is invalid for option "size"')}function gr(wr,y,_r){return m(wr),wr<=0?a(wr):y!==void 0?typeof _r=="string"?a(wr).fill(y,_r):a(wr).fill(y):a(wr)}c.alloc=function(wr,y,_r){return gr(wr,y,_r)};function vr(wr){return m(wr),a(wr<0?0:Dr(wr)|0)}c.allocUnsafe=function(wr){return vr(wr)},c.allocUnsafeSlow=function(wr){return vr(wr)};function Ar(wr,y){if((typeof y!="string"||y==="")&&(y="utf8"),!c.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const _r=Cr(wr,y)|0;let $r=a(_r);const Br=$r.write(wr,y);return Br!==_r&&($r=$r.slice(0,Br)),$r}function Tr(wr){const y=wr.length<0?0:Dr(wr.length)|0,_r=a(y);for(let $r=0;$r<y;$r+=1)_r[$r]=wr[$r]&255;return _r}function Rr(wr){if(Un(wr,Uint8Array)){const y=new Uint8Array(wr);return kr(y.buffer,y.byteOffset,y.byteLength)}return Tr(wr)}function kr(wr,y,_r){if(y<0||wr.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(wr.byteLength<y+(_r||0))throw new RangeError('"length" is outside of buffer bounds');let $r;return y===void 0&&_r===void 0?$r=new Uint8Array(wr):_r===void 0?$r=new Uint8Array(wr,y):$r=new Uint8Array(wr,y,_r),Object.setPrototypeOf($r,c.prototype),$r}function xr(wr){if(c.isBuffer(wr)){const y=Dr(wr.length)|0,_r=a(y);return _r.length===0||wr.copy(_r,0,0,y),_r}if(wr.length!==void 0)return typeof wr.length!="number"||Fn(wr.length)?a(0):Tr(wr);if(wr.type==="Buffer"&&Array.isArray(wr.data))return Tr(wr.data)}function Dr(wr){if(wr>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return wr|0}function Ur(wr){return+wr!=wr&&(wr=0),c.alloc(+wr)}c.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==c.prototype},c.compare=function(y,_r){if(Un(y,Uint8Array)&&(y=c.from(y,y.offset,y.byteLength)),Un(_r,Uint8Array)&&(_r=c.from(_r,_r.offset,_r.byteLength)),!c.isBuffer(y)||!c.isBuffer(_r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===_r)return 0;let $r=y.length,Br=_r.length;for(let Wr=0,Qr=Math.min($r,Br);Wr<Qr;++Wr)if(y[Wr]!==_r[Wr]){$r=y[Wr],Br=_r[Wr];break}return $r<Br?-1:Br<$r?1:0},c.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(y,_r){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return c.alloc(0);let $r;if(_r===void 0)for(_r=0,$r=0;$r<y.length;++$r)_r+=y[$r].length;const Br=c.allocUnsafe(_r);let Wr=0;for($r=0;$r<y.length;++$r){let Qr=y[$r];if(Un(Qr,Uint8Array))Wr+Qr.length>Br.length?(c.isBuffer(Qr)||(Qr=c.from(Qr)),Qr.copy(Br,Wr)):Uint8Array.prototype.set.call(Br,Qr,Wr);else if(c.isBuffer(Qr))Qr.copy(Br,Wr);else throw new TypeError('"list" argument must be an Array of Buffers');Wr+=Qr.length}return Br};function Cr(wr,y){if(c.isBuffer(wr))return wr.length;if(ArrayBuffer.isView(wr)||Un(wr,ArrayBuffer))return wr.byteLength;if(typeof wr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof wr);const _r=wr.length,$r=arguments.length>2&&arguments[2]===!0;if(!$r&&_r===0)return 0;let Br=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return _r;case"utf8":case"utf-8":return An(wr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _r*2;case"hex":return _r>>>1;case"base64":return kn(wr).length;default:if(Br)return $r?-1:An(wr).length;y=(""+y).toLowerCase(),Br=!0}}c.byteLength=Cr;function Nr(wr,y,_r){let $r=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((_r===void 0||_r>this.length)&&(_r=this.length),_r<=0)||(_r>>>=0,y>>>=0,_r<=y))return"";for(wr||(wr="utf8");;)switch(wr){case"hex":return Jr(this,y,_r);case"utf8":case"utf-8":return Er(this,y,_r);case"ascii":return Gr(this,y,_r);case"latin1":case"binary":return qr(this,y,_r);case"base64":return Lr(this,y,_r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return en(this,y,_r);default:if($r)throw new TypeError("Unknown encoding: "+wr);wr=(wr+"").toLowerCase(),$r=!0}}c.prototype._isBuffer=!0;function Hr(wr,y,_r){const $r=wr[y];wr[y]=wr[_r],wr[_r]=$r}c.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _r=0;_r<y;_r+=2)Hr(this,_r,_r+1);return this},c.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _r=0;_r<y;_r+=4)Hr(this,_r,_r+3),Hr(this,_r+1,_r+2);return this},c.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _r=0;_r<y;_r+=8)Hr(this,_r,_r+7),Hr(this,_r+1,_r+6),Hr(this,_r+2,_r+5),Hr(this,_r+3,_r+4);return this},c.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?Er(this,0,y):Nr.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(y){if(!c.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:c.compare(this,y)===0},c.prototype.inspect=function(){let y="";const _r=t.INSPECT_MAX_BYTES;return y=this.toString("hex",0,_r).replace(/(.{2})/g,"$1 ").trim(),this.length>_r&&(y+=" ... "),"<Buffer "+y+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(y,_r,$r,Br,Wr){if(Un(y,Uint8Array)&&(y=c.from(y,y.offset,y.byteLength)),!c.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(_r===void 0&&(_r=0),$r===void 0&&($r=y?y.length:0),Br===void 0&&(Br=0),Wr===void 0&&(Wr=this.length),_r<0||$r>y.length||Br<0||Wr>this.length)throw new RangeError("out of range index");if(Br>=Wr&&_r>=$r)return 0;if(Br>=Wr)return-1;if(_r>=$r)return 1;if(_r>>>=0,$r>>>=0,Br>>>=0,Wr>>>=0,this===y)return 0;let Qr=Wr-Br,In=$r-_r;const Bn=Math.min(Qr,In),Cn=this.slice(Br,Wr),Hn=y.slice(_r,$r);for(let Mn=0;Mn<Bn;++Mn)if(Cn[Mn]!==Hn[Mn]){Qr=Cn[Mn],In=Hn[Mn];break}return Qr<In?-1:In<Qr?1:0};function Mr(wr,y,_r,$r,Br){if(wr.length===0)return-1;if(typeof _r=="string"?($r=_r,_r=0):_r>2147483647?_r=2147483647:_r<-2147483648&&(_r=-2147483648),_r=+_r,Fn(_r)&&(_r=Br?0:wr.length-1),_r<0&&(_r=wr.length+_r),_r>=wr.length){if(Br)return-1;_r=wr.length-1}else if(_r<0)if(Br)_r=0;else return-1;if(typeof y=="string"&&(y=c.from(y,$r)),c.isBuffer(y))return y.length===0?-1:Fr(wr,y,_r,$r,Br);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?Br?Uint8Array.prototype.indexOf.call(wr,y,_r):Uint8Array.prototype.lastIndexOf.call(wr,y,_r):Fr(wr,[y],_r,$r,Br);throw new TypeError("val must be string, number or Buffer")}function Fr(wr,y,_r,$r,Br){let Wr=1,Qr=wr.length,In=y.length;if($r!==void 0&&($r=String($r).toLowerCase(),$r==="ucs2"||$r==="ucs-2"||$r==="utf16le"||$r==="utf-16le")){if(wr.length<2||y.length<2)return-1;Wr=2,Qr/=2,In/=2,_r/=2}function Bn(Hn,Mn){return Wr===1?Hn[Mn]:Hn.readUInt16BE(Mn*Wr)}let Cn;if(Br){let Hn=-1;for(Cn=_r;Cn<Qr;Cn++)if(Bn(wr,Cn)===Bn(y,Hn===-1?0:Cn-Hn)){if(Hn===-1&&(Hn=Cn),Cn-Hn+1===In)return Hn*Wr}else Hn!==-1&&(Cn-=Cn-Hn),Hn=-1}else for(_r+In>Qr&&(_r=Qr-In),Cn=_r;Cn>=0;Cn--){let Hn=!0;for(let Mn=0;Mn<In;Mn++)if(Bn(wr,Cn+Mn)!==Bn(y,Mn)){Hn=!1;break}if(Hn)return Cn}return-1}c.prototype.includes=function(y,_r,$r){return this.indexOf(y,_r,$r)!==-1},c.prototype.indexOf=function(y,_r,$r){return Mr(this,y,_r,$r,!0)},c.prototype.lastIndexOf=function(y,_r,$r){return Mr(this,y,_r,$r,!1)};function Vr(wr,y,_r,$r){_r=Number(_r)||0;const Br=wr.length-_r;$r?($r=Number($r),$r>Br&&($r=Br)):$r=Br;const Wr=y.length;$r>Wr/2&&($r=Wr/2);let Qr;for(Qr=0;Qr<$r;++Qr){const In=parseInt(y.substr(Qr*2,2),16);if(Fn(In))return Qr;wr[_r+Qr]=In}return Qr}function Xr(wr,y,_r,$r){return En(An(y,wr.length-_r),wr,_r,$r)}function Yr(wr,y,_r,$r){return En(Ln(y),wr,_r,$r)}function tn(wr,y,_r,$r){return En(kn(y),wr,_r,$r)}function an(wr,y,_r,$r){return En(pn(y,wr.length-_r),wr,_r,$r)}c.prototype.write=function(y,_r,$r,Br){if(_r===void 0)Br="utf8",$r=this.length,_r=0;else if($r===void 0&&typeof _r=="string")Br=_r,$r=this.length,_r=0;else if(isFinite(_r))_r=_r>>>0,isFinite($r)?($r=$r>>>0,Br===void 0&&(Br="utf8")):(Br=$r,$r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Wr=this.length-_r;if(($r===void 0||$r>Wr)&&($r=Wr),y.length>0&&($r<0||_r<0)||_r>this.length)throw new RangeError("Attempt to write outside buffer bounds");Br||(Br="utf8");let Qr=!1;for(;;)switch(Br){case"hex":return Vr(this,y,_r,$r);case"utf8":case"utf-8":return Xr(this,y,_r,$r);case"ascii":case"latin1":case"binary":return Yr(this,y,_r,$r);case"base64":return tn(this,y,_r,$r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return an(this,y,_r,$r);default:if(Qr)throw new TypeError("Unknown encoding: "+Br);Br=(""+Br).toLowerCase(),Qr=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Lr(wr,y,_r){return y===0&&_r===wr.length?e.fromByteArray(wr):e.fromByteArray(wr.slice(y,_r))}function Er(wr,y,_r){_r=Math.min(wr.length,_r);const $r=[];let Br=y;for(;Br<_r;){const Wr=wr[Br];let Qr=null,In=Wr>239?4:Wr>223?3:Wr>191?2:1;if(Br+In<=_r){let Bn,Cn,Hn,Mn;switch(In){case 1:Wr<128&&(Qr=Wr);break;case 2:Bn=wr[Br+1],(Bn&192)===128&&(Mn=(Wr&31)<<6|Bn&63,Mn>127&&(Qr=Mn));break;case 3:Bn=wr[Br+1],Cn=wr[Br+2],(Bn&192)===128&&(Cn&192)===128&&(Mn=(Wr&15)<<12|(Bn&63)<<6|Cn&63,Mn>2047&&(Mn<55296||Mn>57343)&&(Qr=Mn));break;case 4:Bn=wr[Br+1],Cn=wr[Br+2],Hn=wr[Br+3],(Bn&192)===128&&(Cn&192)===128&&(Hn&192)===128&&(Mn=(Wr&15)<<18|(Bn&63)<<12|(Cn&63)<<6|Hn&63,Mn>65535&&Mn<1114112&&(Qr=Mn))}}Qr===null?(Qr=65533,In=1):Qr>65535&&(Qr-=65536,$r.push(Qr>>>10&1023|55296),Qr=56320|Qr&1023),$r.push(Qr),Br+=In}return jr($r)}const Or=4096;function jr(wr){const y=wr.length;if(y<=Or)return String.fromCharCode.apply(String,wr);let _r="",$r=0;for(;$r<y;)_r+=String.fromCharCode.apply(String,wr.slice($r,$r+=Or));return _r}function Gr(wr,y,_r){let $r="";_r=Math.min(wr.length,_r);for(let Br=y;Br<_r;++Br)$r+=String.fromCharCode(wr[Br]&127);return $r}function qr(wr,y,_r){let $r="";_r=Math.min(wr.length,_r);for(let Br=y;Br<_r;++Br)$r+=String.fromCharCode(wr[Br]);return $r}function Jr(wr,y,_r){const $r=wr.length;(!y||y<0)&&(y=0),(!_r||_r<0||_r>$r)&&(_r=$r);let Br="";for(let Wr=y;Wr<_r;++Wr)Br+=Kn[wr[Wr]];return Br}function en(wr,y,_r){const $r=wr.slice(y,_r);let Br="";for(let Wr=0;Wr<$r.length-1;Wr+=2)Br+=String.fromCharCode($r[Wr]+$r[Wr+1]*256);return Br}c.prototype.slice=function(y,_r){const $r=this.length;y=~~y,_r=_r===void 0?$r:~~_r,y<0?(y+=$r,y<0&&(y=0)):y>$r&&(y=$r),_r<0?(_r+=$r,_r<0&&(_r=0)):_r>$r&&(_r=$r),_r<y&&(_r=y);const Br=this.subarray(y,_r);return Object.setPrototypeOf(Br,c.prototype),Br};function Kr(wr,y,_r){if(wr%1!==0||wr<0)throw new RangeError("offset is not uint");if(wr+y>_r)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=this[y],Wr=1,Qr=0;for(;++Qr<_r&&(Wr*=256);)Br+=this[y+Qr]*Wr;return Br},c.prototype.readUintBE=c.prototype.readUIntBE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=this[y+--_r],Wr=1;for(;_r>0&&(Wr*=256);)Br+=this[y+--_r]*Wr;return Br},c.prototype.readUint8=c.prototype.readUInt8=function(y,_r){return y=y>>>0,_r||Kr(y,1,this.length),this[y]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(y,_r){return y=y>>>0,_r||Kr(y,2,this.length),this[y]|this[y+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(y,_r){return y=y>>>0,_r||Kr(y,2,this.length),this[y]<<8|this[y+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},c.prototype.readBigUInt64LE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=_r+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,Wr=this[++y]+this[++y]*2**8+this[++y]*2**16+$r*2**24;return BigInt(Br)+(BigInt(Wr)<<BigInt(32))}),c.prototype.readBigUInt64BE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=_r*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],Wr=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+$r;return(BigInt(Br)<<BigInt(32))+BigInt(Wr)}),c.prototype.readIntLE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=this[y],Wr=1,Qr=0;for(;++Qr<_r&&(Wr*=256);)Br+=this[y+Qr]*Wr;return Wr*=128,Br>=Wr&&(Br-=Math.pow(2,8*_r)),Br},c.prototype.readIntBE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=_r,Wr=1,Qr=this[y+--Br];for(;Br>0&&(Wr*=256);)Qr+=this[y+--Br]*Wr;return Wr*=128,Qr>=Wr&&(Qr-=Math.pow(2,8*_r)),Qr},c.prototype.readInt8=function(y,_r){return y=y>>>0,_r||Kr(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},c.prototype.readInt16LE=function(y,_r){y=y>>>0,_r||Kr(y,2,this.length);const $r=this[y]|this[y+1]<<8;return $r&32768?$r|4294901760:$r},c.prototype.readInt16BE=function(y,_r){y=y>>>0,_r||Kr(y,2,this.length);const $r=this[y+1]|this[y]<<8;return $r&32768?$r|4294901760:$r},c.prototype.readInt32LE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},c.prototype.readInt32BE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},c.prototype.readBigInt64LE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+($r<<24);return(BigInt(Br)<<BigInt(32))+BigInt(_r+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),c.prototype.readBigInt64BE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=(_r<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(Br)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+$r)}),c.prototype.readFloatLE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),r.read(this,y,!0,23,4)},c.prototype.readFloatBE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),r.read(this,y,!1,23,4)},c.prototype.readDoubleLE=function(y,_r){return y=y>>>0,_r||Kr(y,8,this.length),r.read(this,y,!0,52,8)},c.prototype.readDoubleBE=function(y,_r){return y=y>>>0,_r||Kr(y,8,this.length),r.read(this,y,!1,52,8)};function Ir(wr,y,_r,$r,Br,Wr){if(!c.isBuffer(wr))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>Br||y<Wr)throw new RangeError('"value" argument is out of bounds');if(_r+$r>wr.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,$r=$r>>>0,!Br){const In=Math.pow(2,8*$r)-1;Ir(this,y,_r,$r,In,0)}let Wr=1,Qr=0;for(this[_r]=y&255;++Qr<$r&&(Wr*=256);)this[_r+Qr]=y/Wr&255;return _r+$r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,$r=$r>>>0,!Br){const In=Math.pow(2,8*$r)-1;Ir(this,y,_r,$r,In,0)}let Wr=$r-1,Qr=1;for(this[_r+Wr]=y&255;--Wr>=0&&(Qr*=256);)this[_r+Wr]=y/Qr&255;return _r+$r},c.prototype.writeUint8=c.prototype.writeUInt8=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,1,255,0),this[_r]=y&255,_r+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,65535,0),this[_r]=y&255,this[_r+1]=y>>>8,_r+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,65535,0),this[_r]=y>>>8,this[_r+1]=y&255,_r+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,4294967295,0),this[_r+3]=y>>>24,this[_r+2]=y>>>16,this[_r+1]=y>>>8,this[_r]=y&255,_r+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,4294967295,0),this[_r]=y>>>24,this[_r+1]=y>>>16,this[_r+2]=y>>>8,this[_r+3]=y&255,_r+4};function zr(wr,y,_r,$r,Br){sn(y,$r,Br,wr,_r,7);let Wr=Number(y&BigInt(4294967295));wr[_r++]=Wr,Wr=Wr>>8,wr[_r++]=Wr,Wr=Wr>>8,wr[_r++]=Wr,Wr=Wr>>8,wr[_r++]=Wr;let Qr=Number(y>>BigInt(32)&BigInt(4294967295));return wr[_r++]=Qr,Qr=Qr>>8,wr[_r++]=Qr,Qr=Qr>>8,wr[_r++]=Qr,Qr=Qr>>8,wr[_r++]=Qr,_r}function un(wr,y,_r,$r,Br){sn(y,$r,Br,wr,_r,7);let Wr=Number(y&BigInt(4294967295));wr[_r+7]=Wr,Wr=Wr>>8,wr[_r+6]=Wr,Wr=Wr>>8,wr[_r+5]=Wr,Wr=Wr>>8,wr[_r+4]=Wr;let Qr=Number(y>>BigInt(32)&BigInt(4294967295));return wr[_r+3]=Qr,Qr=Qr>>8,wr[_r+2]=Qr,Qr=Qr>>8,wr[_r+1]=Qr,Qr=Qr>>8,wr[_r]=Qr,_r+8}c.prototype.writeBigUInt64LE=jn(function(y,_r=0){return zr(this,y,_r,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=jn(function(y,_r=0){return un(this,y,_r,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,!Br){const Bn=Math.pow(2,8*$r-1);Ir(this,y,_r,$r,Bn-1,-Bn)}let Wr=0,Qr=1,In=0;for(this[_r]=y&255;++Wr<$r&&(Qr*=256);)y<0&&In===0&&this[_r+Wr-1]!==0&&(In=1),this[_r+Wr]=(y/Qr>>0)-In&255;return _r+$r},c.prototype.writeIntBE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,!Br){const Bn=Math.pow(2,8*$r-1);Ir(this,y,_r,$r,Bn-1,-Bn)}let Wr=$r-1,Qr=1,In=0;for(this[_r+Wr]=y&255;--Wr>=0&&(Qr*=256);)y<0&&In===0&&this[_r+Wr+1]!==0&&(In=1),this[_r+Wr]=(y/Qr>>0)-In&255;return _r+$r},c.prototype.writeInt8=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,1,127,-128),y<0&&(y=255+y+1),this[_r]=y&255,_r+1},c.prototype.writeInt16LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,32767,-32768),this[_r]=y&255,this[_r+1]=y>>>8,_r+2},c.prototype.writeInt16BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,32767,-32768),this[_r]=y>>>8,this[_r+1]=y&255,_r+2},c.prototype.writeInt32LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,2147483647,-2147483648),this[_r]=y&255,this[_r+1]=y>>>8,this[_r+2]=y>>>16,this[_r+3]=y>>>24,_r+4},c.prototype.writeInt32BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[_r]=y>>>24,this[_r+1]=y>>>16,this[_r+2]=y>>>8,this[_r+3]=y&255,_r+4},c.prototype.writeBigInt64LE=jn(function(y,_r=0){return zr(this,y,_r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=jn(function(y,_r=0){return un(this,y,_r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function vn(wr,y,_r,$r,Br,Wr){if(_r+$r>wr.length)throw new RangeError("Index out of range");if(_r<0)throw new RangeError("Index out of range")}function _n(wr,y,_r,$r,Br){return y=+y,_r=_r>>>0,Br||vn(wr,y,_r,4),r.write(wr,y,_r,$r,23,4),_r+4}c.prototype.writeFloatLE=function(y,_r,$r){return _n(this,y,_r,!0,$r)},c.prototype.writeFloatBE=function(y,_r,$r){return _n(this,y,_r,!1,$r)};function dn(wr,y,_r,$r,Br){return y=+y,_r=_r>>>0,Br||vn(wr,y,_r,8),r.write(wr,y,_r,$r,52,8),_r+8}c.prototype.writeDoubleLE=function(y,_r,$r){return dn(this,y,_r,!0,$r)},c.prototype.writeDoubleBE=function(y,_r,$r){return dn(this,y,_r,!1,$r)},c.prototype.copy=function(y,_r,$r,Br){if(!c.isBuffer(y))throw new TypeError("argument should be a Buffer");if($r||($r=0),!Br&&Br!==0&&(Br=this.length),_r>=y.length&&(_r=y.length),_r||(_r=0),Br>0&&Br<$r&&(Br=$r),Br===$r||y.length===0||this.length===0)return 0;if(_r<0)throw new RangeError("targetStart out of bounds");if($r<0||$r>=this.length)throw new RangeError("Index out of range");if(Br<0)throw new RangeError("sourceEnd out of bounds");Br>this.length&&(Br=this.length),y.length-_r<Br-$r&&(Br=y.length-_r+$r);const Wr=Br-$r;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_r,$r,Br):Uint8Array.prototype.set.call(y,this.subarray($r,Br),_r),Wr},c.prototype.fill=function(y,_r,$r,Br){if(typeof y=="string"){if(typeof _r=="string"?(Br=_r,_r=0,$r=this.length):typeof $r=="string"&&(Br=$r,$r=this.length),Br!==void 0&&typeof Br!="string")throw new TypeError("encoding must be a string");if(typeof Br=="string"&&!c.isEncoding(Br))throw new TypeError("Unknown encoding: "+Br);if(y.length===1){const Qr=y.charCodeAt(0);(Br==="utf8"&&Qr<128||Br==="latin1")&&(y=Qr)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(_r<0||this.length<_r||this.length<$r)throw new RangeError("Out of range index");if($r<=_r)return this;_r=_r>>>0,$r=$r===void 0?this.length:$r>>>0,y||(y=0);let Wr;if(typeof y=="number")for(Wr=_r;Wr<$r;++Wr)this[Wr]=y;else{const Qr=c.isBuffer(y)?y:c.from(y,Br),In=Qr.length;if(In===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(Wr=0;Wr<$r-_r;++Wr)this[Wr+_r]=Qr[Wr%In]}return this};const gn={};function yn(wr,y,_r){gn[wr]=class extends _r{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${wr}]`,this.stack,delete this.name}get code(){return wr}set code(Br){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Br,writable:!0})}toString(){return`${this.name} [${wr}]: ${this.message}`}}}yn("ERR_BUFFER_OUT_OF_BOUNDS",function(wr){return wr?`${wr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),yn("ERR_INVALID_ARG_TYPE",function(wr,y){return`The "${wr}" argument must be of type number. Received type ${typeof y}`},TypeError),yn("ERR_OUT_OF_RANGE",function(wr,y,_r){let $r=`The value of "${wr}" is out of range.`,Br=_r;return Number.isInteger(_r)&&Math.abs(_r)>2**32?Br=Tn(String(_r)):typeof _r=="bigint"&&(Br=String(_r),(_r>BigInt(2)**BigInt(32)||_r<-(BigInt(2)**BigInt(32)))&&(Br=Tn(Br)),Br+="n"),$r+=` It must be ${y}. Received ${Br}`,$r},RangeError);function Tn(wr){let y="",_r=wr.length;const $r=wr[0]==="-"?1:0;for(;_r>=$r+4;_r-=3)y=`_${wr.slice(_r-3,_r)}${y}`;return`${wr.slice(0,_r)}${y}`}function Dn(wr,y,_r){cn(y,"offset"),(wr[y]===void 0||wr[y+_r]===void 0)&&fn(y,wr.length-(_r+1))}function sn(wr,y,_r,$r,Br,Wr){if(wr>_r||wr<y){const Qr=typeof y=="bigint"?"n":"";let In;throw Wr>3?y===0||y===BigInt(0)?In=`>= 0${Qr} and < 2${Qr} ** ${(Wr+1)*8}${Qr}`:In=`>= -(2${Qr} ** ${(Wr+1)*8-1}${Qr}) and < 2 ** ${(Wr+1)*8-1}${Qr}`:In=`>= ${y}${Qr} and <= ${_r}${Qr}`,new gn.ERR_OUT_OF_RANGE("value",In,wr)}Dn($r,Br,Wr)}function cn(wr,y){if(typeof wr!="number")throw new gn.ERR_INVALID_ARG_TYPE(y,"number",wr)}function fn(wr,y,_r){throw Math.floor(wr)!==wr?(cn(wr,_r),new gn.ERR_OUT_OF_RANGE(_r||"offset","an integer",wr)):y<0?new gn.ERR_BUFFER_OUT_OF_BOUNDS:new gn.ERR_OUT_OF_RANGE(_r||"offset",`>= ${_r?1:0} and <= ${y}`,wr)}const Sn=/[^+/0-9A-Za-z-_]/g;function On(wr){if(wr=wr.split("=")[0],wr=wr.trim().replace(Sn,""),wr.length<2)return"";for(;wr.length%4!==0;)wr=wr+"=";return wr}function An(wr,y){y=y||1/0;let _r;const $r=wr.length;let Br=null;const Wr=[];for(let Qr=0;Qr<$r;++Qr){if(_r=wr.charCodeAt(Qr),_r>55295&&_r<57344){if(!Br){if(_r>56319){(y-=3)>-1&&Wr.push(239,191,189);continue}else if(Qr+1===$r){(y-=3)>-1&&Wr.push(239,191,189);continue}Br=_r;continue}if(_r<56320){(y-=3)>-1&&Wr.push(239,191,189),Br=_r;continue}_r=(Br-55296<<10|_r-56320)+65536}else Br&&(y-=3)>-1&&Wr.push(239,191,189);if(Br=null,_r<128){if((y-=1)<0)break;Wr.push(_r)}else if(_r<2048){if((y-=2)<0)break;Wr.push(_r>>6|192,_r&63|128)}else if(_r<65536){if((y-=3)<0)break;Wr.push(_r>>12|224,_r>>6&63|128,_r&63|128)}else if(_r<1114112){if((y-=4)<0)break;Wr.push(_r>>18|240,_r>>12&63|128,_r>>6&63|128,_r&63|128)}else throw new Error("Invalid code point")}return Wr}function Ln(wr){const y=[];for(let _r=0;_r<wr.length;++_r)y.push(wr.charCodeAt(_r)&255);return y}function pn(wr,y){let _r,$r,Br;const Wr=[];for(let Qr=0;Qr<wr.length&&!((y-=2)<0);++Qr)_r=wr.charCodeAt(Qr),$r=_r>>8,Br=_r%256,Wr.push(Br),Wr.push($r);return Wr}function kn(wr){return e.toByteArray(On(wr))}function En(wr,y,_r,$r){let Br;for(Br=0;Br<$r&&!(Br+_r>=y.length||Br>=wr.length);++Br)y[Br+_r]=wr[Br];return Br}function Un(wr,y){return wr instanceof y||wr!=null&&wr.constructor!=null&&wr.constructor.name!=null&&wr.constructor.name===y.name}function Fn(wr){return wr!==wr}const Kn=function(){const wr="0123456789abcdef",y=new Array(256);for(let _r=0;_r<16;++_r){const $r=_r*16;for(let Br=0;Br<16;++Br)y[$r+Br]=wr[_r]+wr[Br]}return y}();function jn(wr){return typeof BigInt>"u"?zn:wr}function zn(){throw new Error("BigInt not supported")}})(bufferPolyfill);var browser$4={exports:{}},process=browser$4.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch{try{return cachedSetTimeout.call(null,t,0)}catch{return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch{try{return cachedClearTimeout.call(null,t)}catch{return cachedClearTimeout.call(this,t)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue$1.length;e;){for(currentQueue=queue$1,queue$1=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(t)}}process.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];queue$1.push(new Item(t,e)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$7(){}process.on=noop$7;process.addListener=noop$7;process.once=noop$7;process.off=noop$7;process.removeListener=noop$7;process.removeAllListeners=noop$7;process.emit=noop$7;process.prependListener=noop$7;process.prependOnceListener=noop$7;process.listeners=function(t){return[]};process.binding=function(t){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(t){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bufferPolyfill,r=browser$4.exports,n=a=>a&&a.__esModule?a:{default:a},o=n(r),s=globalThis||void 0||self;Object.defineProperty(t,"Buffer",{enumerable:!0,get:()=>e.Buffer}),Object.defineProperty(t,"process",{enumerable:!0,get:()=>o.default}),t.global=s})(dist$1);function makeMap(t,e){const r=Object.create(null),n=t.split(",");for(let o=0;o<n.length;o++)r[n[o]]=!0;return e?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP$1=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend$1=Object.assign,remove$1=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hasOwnProperty$5=Object.prototype.hasOwnProperty,hasOwn$2=(t,e)=>hasOwnProperty$5.call(t,e),isArray$3=Array.isArray,isMap$1=t=>toTypeString(t)==="[object Map]",isSet$1=t=>toTypeString(t)==="[object Set]",isDate$4=t=>toTypeString(t)==="[object Date]",isRegExp$4=t=>toTypeString(t)==="[object RegExp]",isFunction$5=t=>typeof t=="function",isString$4=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$6=t=>t!==null&&typeof t=="object",isPromise$1=t=>(isObject$6(t)||isFunction$5(t))&&isFunction$5(t.then)&&isFunction$5(t.catch),objectToString$2=Object.prototype.toString,toTypeString=t=>objectToString$2.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$3=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString$4(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},def=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},looseToNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e},toNumber=t=>{const e=isString$4(t)?Number(t):NaN;return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof dist$1.global<"u"?dist$1.global:{}),GLOBALS_ALLOWED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",isGloballyAllowed=makeMap(GLOBALS_ALLOWED);function normalizeStyle(t){if(isArray$3(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],o=isString$4(n)?parseStringStyle(n):normalizeStyle(n);if(o)for(const s in o)e[s]=o[s]}return e}else if(isString$4(t)||isObject$6(t))return t}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const n=r.split(propertyDelimiterRE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function normalizeClass(t){let e="";if(isString$4(t))e=t;else if(isArray$3(t))for(let r=0;r<t.length;r++){const n=normalizeClass(t[r]);n&&(e+=n+" ")}else if(isObject$6(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function normalizeProps(t){if(!t)return null;let{class:e,style:r}=t;return e&&!isString$4(e)&&(t.class=normalizeClass(e)),r&&(t.style=normalizeStyle(r)),t}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function looseCompareArrays(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=looseEqual(t[n],e[n]);return r}function looseEqual(t,e){if(t===e)return!0;let r=isDate$4(t),n=isDate$4(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=isSymbol(t),n=isSymbol(e),r||n)return t===e;if(r=isArray$3(t),n=isArray$3(e),r||n)return r&&n?looseCompareArrays(t,e):!1;if(r=isObject$6(t),n=isObject$6(e),r||n){if(!r||!n)return!1;const o=Object.keys(t).length,s=Object.keys(e).length;if(o!==s)return!1;for(const a in t){const c=t.hasOwnProperty(a),d=e.hasOwnProperty(a);if(c&&!d||!c&&d||!looseEqual(t[a],e[a]))return!1}}return String(t)===String(e)}function looseIndexOf(t,e){return t.findIndex(r=>looseEqual(r,e))}const toDisplayString=t=>isString$4(t)?t:t==null?"":isArray$3(t)||isObject$6(t)&&(t.toString===objectToString$2||!isFunction$5(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap$1(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,o])=>(r[`${n} =>`]=o,r),{})}:isSet$1(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$6(e)&&!isArray$3(e)&&!isPlainObject$3(e)?String(e):e;let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(t){return new EffectScope(t)}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t){activeEffectScope&&activeEffectScope.cleanups.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const o=e[n];wasTracked(o)&&!newTracked(o)?o.delete(t):e[r++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}function effect(t,e){t.effect instanceof ReactiveEffect&&(t=t.effect.fn);const r=new ReactiveEffect(t);e&&(extend$1(r,e),e.scope&&recordEffectScope(r,e.scope)),(!e||!e.lazy)&&r.run();const n=r.run.bind(r);return n.effect=r,n}function stop$1(t){t.effect.stop()}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,r){if(shouldTrack&&activeEffect){let n=targetMap.get(t);n||targetMap.set(t,n=new Map);let o=n.get(r);o||n.set(r,o=createDep()),trackEffects(o)}}function trackEffects(t,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,r=!wasTracked(t)):r=!t.has(activeEffect),r&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,r,n,o,s){const a=targetMap.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(r==="length"&&isArray$3(t)){const d=Number(n);a.forEach((m,gr)=>{(gr==="length"||!isSymbol(gr)&&gr>=d)&&c.push(m)})}else switch(r!==void 0&&c.push(a.get(r)),e){case"add":isArray$3(t)?isIntegerKey(r)&&c.push(a.get("length")):(c.push(a.get(ITERATE_KEY)),isMap$1(t)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$3(t)||(c.push(a.get(ITERATE_KEY)),isMap$1(t)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(t)&&c.push(a.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const d=[];for(const m of c)m&&d.push(...m);triggerEffects(createDep(d))}}function triggerEffects(t,e){const r=isArray$3(t)?t:[...t];for(const n of r)n.computed&&triggerEffect(n);for(const n of r)n.computed||triggerEffect(n)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function getDepFromReactive(t,e){var r;return(r=targetMap.get(t))==null?void 0:r.get(e)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=toRaw(this);for(let s=0,a=this.length;s<a;s++)track(n,"get",s+"");const o=n[e](...r);return o===-1||o===!1?n[e](...r.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){pauseTracking();const n=toRaw(this)[e].apply(this,r);return resetTracking(),n}}),t}function hasOwnProperty$4(t){const e=toRaw(this);return track(e,"has",t),e.hasOwnProperty(t)}class BaseReactiveHandler{constructor(e=!1,r=!1){this._isReadonly=e,this._shallow=r}get(e,r,n){const o=this._isReadonly,s=this._shallow;if(r==="__v_isReactive")return!o;if(r==="__v_isReadonly")return o;if(r==="__v_isShallow")return s;if(r==="__v_raw"&&n===(o?s?shallowReadonlyMap:readonlyMap:s?shallowReactiveMap:reactiveMap).get(e))return e;const a=isArray$3(e);if(!o){if(a&&hasOwn$2(arrayInstrumentations,r))return Reflect.get(arrayInstrumentations,r,n);if(r==="hasOwnProperty")return hasOwnProperty$4}const c=Reflect.get(e,r,n);return(isSymbol(r)?builtInSymbols.has(r):isNonTrackableKeys(r))||(o||track(e,"get",r),s)?c:isRef(c)?a&&isIntegerKey(r)?c:c.value:isObject$6(c)?o?readonly(c):reactive(c):c}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,r,n,o){let s=e[r];if(isReadonly(s)&&isRef(s)&&!isRef(n))return!1;if(!this._shallow&&(!isShallow(n)&&!isReadonly(n)&&(s=toRaw(s),n=toRaw(n)),!isArray$3(e)&&isRef(s)&&!isRef(n)))return s.value=n,!0;const a=isArray$3(e)&&isIntegerKey(r)?Number(r)<e.length:hasOwn$2(e,r),c=Reflect.set(e,r,n,o);return e===toRaw(o)&&(a?hasChanged(n,s)&&trigger(e,"set",r,n):trigger(e,"add",r,n)),c}deleteProperty(e,r){const n=hasOwn$2(e,r);e[r];const o=Reflect.deleteProperty(e,r);return o&&n&&trigger(e,"delete",r,void 0),o}has(e,r){const n=Reflect.has(e,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(e,"has",r),n}ownKeys(e){return track(e,"iterate",isArray$3(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=t=>t,getProto$2=t=>Reflect.getPrototypeOf(t);function get$2(t,e,r=!1,n=!1){t=t.__v_raw;const o=toRaw(t),s=toRaw(e);r||(hasChanged(e,s)&&track(o,"get",e),track(o,"get",s));const{has:a}=getProto$2(o),c=n?toShallow:r?toReadonly:toReactive;if(a.call(o,e))return c(t.get(e));if(a.call(o,s))return c(t.get(s));t!==o&&t.get(e)}function has$2(t,e=!1){const r=this.__v_raw,n=toRaw(r),o=toRaw(t);return e||(hasChanged(t,o)&&track(n,"has",t),track(n,"has",o)),t===o?r.has(t):r.has(t)||r.has(o)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add$1(t){t=toRaw(t);const e=toRaw(this);return getProto$2(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set$1(t,e){e=toRaw(e);const r=toRaw(this),{has:n,get:o}=getProto$2(r);let s=n.call(r,t);s||(t=toRaw(t),s=n.call(r,t));const a=o.call(r,t);return r.set(t,e),s?hasChanged(e,a)&&trigger(r,"set",t,e):trigger(r,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:r,get:n}=getProto$2(e);let o=r.call(e,t);o||(t=toRaw(t),o=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return o&&trigger(e,"delete",t,void 0),s}function clear(){const t=toRaw(this),e=t.size!==0,r=t.clear();return e&&trigger(t,"clear",void 0,void 0),r}function createForEach(t,e){return function(n,o){const s=this,a=s.__v_raw,c=toRaw(a),d=e?toShallow:t?toReadonly:toReactive;return!t&&track(c,"iterate",ITERATE_KEY),a.forEach((m,gr)=>n.call(o,d(m),d(gr),s))}}function createIterableMethod(t,e,r){return function(...n){const o=this.__v_raw,s=toRaw(o),a=isMap$1(s),c=t==="entries"||t===Symbol.iterator&&a,d=t==="keys"&&a,m=o[t](...n),gr=r?toShallow:e?toReadonly:toReactive;return!e&&track(s,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:vr,done:Ar}=m.next();return Ar?{value:vr,done:Ar}:{value:c?[gr(vr[0]),gr(vr[1])]:gr(vr),done:Ar}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(s){return get$2(this,s)},get size(){return size(this)},has:has$2,add:add$1,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(s){return get$2(this,s,!1,!0)},get size(){return size(this)},has:has$2,add:add$1,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(s){return get$2(this,s,!0)},get size(){return size(this,!0)},has(s){return has$2.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(s){return get$2(this,s,!0,!0)},get size(){return size(this,!0)},has(s){return has$2.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=createIterableMethod(s,!1,!1),r[s]=createIterableMethod(s,!0,!1),e[s]=createIterableMethod(s,!1,!0),n[s]=createIterableMethod(s,!0,!0)}),[t,r,e,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const r=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(n,o,s)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?n:Reflect.get(hasOwn$2(r,o)&&o in n?r:n,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(t){return createReactiveObject(t,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(t,e,r,n,o){if(!isObject$6(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=o.get(t);if(s)return s;const a=getTargetType(t);if(a===0)return t;const c=new Proxy(t,a===2?n:r);return o.set(t,c),c}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$6(t)?reactive(t):t,toReadonly=t=>isObject$6(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t);const r=t.dep;r&&triggerEffects(r)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:toReactive(e),triggerRefValue(this))}}function triggerRef(t){triggerRefValue(t)}function unref(t){return isRef(t)?t.value:t}function toValue$1(t){return isFunction$5(t)?t():unref(t)}const shallowUnwrapHandlers={get:(t,e,r)=>unref(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const o=t[e];return isRef(o)&&!isRef(r)?(o.value=r,!0):Reflect.set(t,e,r,n)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class CustomRefImpl{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=e(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=r,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function customRef(t){return new CustomRefImpl(t)}function toRefs(t){const e=isArray$3(t)?new Array(t.length):{};for(const r in t)e[r]=propertyToRef(t,r);return e}class ObjectRefImpl{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(t,e,r){return isRef(t)?t:isFunction$5(t)?new GetterRefImpl(t):isObject$6(t)&&arguments.length>1?propertyToRef(t,e,r):ref(t)}function propertyToRef(t,e,r){const n=t[e];return isRef(n)?n:new ObjectRefImpl(t,e,r)}class ComputedRefImpl{constructor(e,r,n,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$2(t,e,r=!1){let n,o;const s=isFunction$5(t);return s?(n=t,o=NOOP$1):(n=t.get,o=t.set),new ComputedRefImpl(n,o,s||!o,r)}function warn(t,...e){}function assertNumber(t,e){}function callWithErrorHandling(t,e,r,n){let o;try{o=n?t(...n):t()}catch(s){handleError(s,e,r)}return o}function callWithAsyncErrorHandling(t,e,r,n){if(isFunction$5(t)){const s=callWithErrorHandling(t,e,r,n);return s&&isPromise$1(s)&&s.catch(a=>{handleError(a,e,r)}),s}const o=[];for(let s=0;s<t.length;s++)o.push(callWithAsyncErrorHandling(t[s],e,r,n));return o}function handleError(t,e,r,n=!0){const o=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,c=r;for(;s;){const m=s.ec;if(m){for(let gr=0;gr<m.length;gr++)if(m[gr](t,a,c)===!1)return}s=s.parent}const d=e.appContext.config.errorHandler;if(d){callWithErrorHandling(d,null,10,[t,a,c]);return}}logError$1(t,r,o,n)}function logError$1(t,e,r,n=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,r=queue.length;for(;e<r;){const n=e+r>>>1,o=queue[n],s=getId(o);s<t||s===t&&o.pre?e=n+1:r=n}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray$3(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const r=queue[e];r&&r.pre&&(queue.splice(e,1),e--,r())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,n)=>getId(r)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const r=getId(t)-getId(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP$1;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let devtools,buffer$2=[];function setDevtoolsHook(t,e){var r,n;devtools=t,devtools?(devtools.enabled=!0,buffer$2.forEach(({event:o,args:s})=>devtools.emit(o,...s)),buffer$2=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{setDevtoolsHook(s,e)}),setTimeout(()=>{devtools||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer$2=[])},3e3)):buffer$2=[]}function emit(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||EMPTY_OBJ;let o=r;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in n){const gr=`${a==="modelValue"?"model":a}Modifiers`,{number:vr,trim:Ar}=n[gr]||EMPTY_OBJ;Ar&&(o=r.map(Tr=>isString$4(Tr)?Tr.trim():Tr)),vr&&(o=r.map(looseToNumber))}let c,d=n[c=toHandlerKey(e)]||n[c=toHandlerKey(camelize(e))];!d&&s&&(d=n[c=toHandlerKey(hyphenate(e))]),d&&callWithAsyncErrorHandling(d,t,6,o);const m=n[c+"Once"];if(m){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,callWithAsyncErrorHandling(m,t,6,o)}}function normalizeEmitsOptions(t,e,r=!1){const n=e.emitsCache,o=n.get(t);if(o!==void 0)return o;const s=t.emits;let a={},c=!1;if(!isFunction$5(t)){const d=m=>{const gr=normalizeEmitsOptions(m,e,!0);gr&&(c=!0,extend$1(a,gr))};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!s&&!c?(isObject$6(t)&&n.set(t,null),null):(isArray$3(s)?s.forEach(d=>a[d]=null):extend$1(a,s),isObject$6(t)&&n.set(t,a),a)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn$2(t,e[0].toLowerCase()+e.slice(1))||hasOwn$2(t,hyphenate(e))||hasOwn$2(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}const withScopeId=t=>withCtx;function withCtx(t,e=currentRenderingInstance,r){if(!e||t._n)return t;const n=(...o)=>{n._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(e);let a;try{a=t(...o)}finally{setCurrentRenderingInstance(s),n._d&&setBlockTracking(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:r,proxy:n,withProxy:o,props:s,propsOptions:[a],slots:c,attrs:d,emit:m,render:gr,renderCache:vr,data:Ar,setupState:Tr,ctx:Rr,inheritAttrs:kr}=t;let xr,Dr;const Ur=setCurrentRenderingInstance(t);try{if(r.shapeFlag&4){const Nr=o||n;xr=normalizeVNode(gr.call(Nr,Nr,vr,s,Tr,Ar,Rr)),Dr=d}else{const Nr=e;xr=normalizeVNode(Nr.length>1?Nr(s,{attrs:d,slots:c,emit:m}):Nr(s,null)),Dr=e.props?d:getFunctionalFallthrough(d)}}catch(Nr){blockStack.length=0,handleError(Nr,t,1),xr=createVNode(Comment)}let Cr=xr;if(Dr&&kr!==!1){const Nr=Object.keys(Dr),{shapeFlag:Hr}=Cr;Nr.length&&Hr&7&&(a&&Nr.some(isModelListener)&&(Dr=filterModelListeners(Dr,a)),Cr=cloneVNode(Cr,Dr))}return r.dirs&&(Cr=cloneVNode(Cr),Cr.dirs=Cr.dirs?Cr.dirs.concat(r.dirs):r.dirs),r.transition&&(Cr.transition=r.transition),xr=Cr,setCurrentRenderingInstance(Ur),xr}function filterSingleRoot(t){let e;for(let r=0;r<t.length;r++){const n=t[r];if(isVNode(n)){if(n.type!==Comment||n.children==="v-if"){if(e)return;e=n}}else return}return e}const getFunctionalFallthrough=t=>{let e;for(const r in t)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=t[r]);return e},filterModelListeners=(t,e)=>{const r={};for(const n in t)(!isModelListener(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function shouldUpdateComponent(t,e,r){const{props:n,children:o,component:s}=t,{props:a,children:c,patchFlag:d}=e,m=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return n?hasPropsChanged(n,a,m):!!a;if(d&8){const gr=e.dynamicProps;for(let vr=0;vr<gr.length;vr++){const Ar=gr[vr];if(a[Ar]!==n[Ar]&&!isEmitListener(m,Ar))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:n===a?!1:n?a?hasPropsChanged(n,a,m):!0:!!a;return!1}function hasPropsChanged(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const s=n[o];if(e[s]!==t[s]&&!isEmitListener(r,s))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(t){return isString$4(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveDirective(t){return resolveAsset(DIRECTIVES,t)}function resolveAsset(t,e,r=!0,n=!1){const o=currentRenderingInstance||currentInstance;if(o){const s=o.type;if(t===COMPONENTS){const c=getComponentName(s,!1);if(c&&(c===e||c===camelize(e)||c===capitalize(camelize(e))))return s}const a=resolve$1(o[t]||s[t],e)||resolve$1(o.appContext[t],e);return!a&&n?s:a}}function resolve$1(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}const isSuspense=t=>t.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(t,e,r,n,o,s,a,c,d,m){t==null?mountSuspense(e,r,n,o,s,a,c,d,m):patchSuspense(t,e,r,n,o,a,c,d,m)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(t,e){const r=t.props&&t.props[e];isFunction$5(r)&&r()}function mountSuspense(t,e,r,n,o,s,a,c,d){const{p:m,o:{createElement:gr}}=d,vr=gr("div"),Ar=t.suspense=createSuspenseBoundary(t,o,n,e,vr,r,s,a,c,d);m(null,Ar.pendingBranch=t.ssContent,vr,null,n,Ar,s,a),Ar.deps>0?(triggerEvent(t,"onPending"),triggerEvent(t,"onFallback"),m(null,t.ssFallback,e,r,n,null,s,a),setActiveBranch(Ar,t.ssFallback)):Ar.resolve(!1,!0)}function patchSuspense(t,e,r,n,o,s,a,c,{p:d,um:m,o:{createElement:gr}}){const vr=e.suspense=t.suspense;vr.vnode=e,e.el=t.el;const Ar=e.ssContent,Tr=e.ssFallback,{activeBranch:Rr,pendingBranch:kr,isInFallback:xr,isHydrating:Dr}=vr;if(kr)vr.pendingBranch=Ar,isSameVNodeType(Ar,kr)?(d(kr,Ar,vr.hiddenContainer,null,o,vr,s,a,c),vr.deps<=0?vr.resolve():xr&&(d(Rr,Tr,r,n,o,null,s,a,c),setActiveBranch(vr,Tr))):(vr.pendingId++,Dr?(vr.isHydrating=!1,vr.activeBranch=kr):m(kr,o,vr),vr.deps=0,vr.effects.length=0,vr.hiddenContainer=gr("div"),xr?(d(null,Ar,vr.hiddenContainer,null,o,vr,s,a,c),vr.deps<=0?vr.resolve():(d(Rr,Tr,r,n,o,null,s,a,c),setActiveBranch(vr,Tr))):Rr&&isSameVNodeType(Ar,Rr)?(d(Rr,Ar,r,n,o,vr,s,a,c),vr.resolve(!0)):(d(null,Ar,vr.hiddenContainer,null,o,vr,s,a,c),vr.deps<=0&&vr.resolve()));else if(Rr&&isSameVNodeType(Ar,Rr))d(Rr,Ar,r,n,o,vr,s,a,c),setActiveBranch(vr,Ar);else if(triggerEvent(e,"onPending"),vr.pendingBranch=Ar,vr.pendingId++,d(null,Ar,vr.hiddenContainer,null,o,vr,s,a,c),vr.deps<=0)vr.resolve();else{const{timeout:Ur,pendingId:Cr}=vr;Ur>0?setTimeout(()=>{vr.pendingId===Cr&&vr.fallback(Tr)},Ur):Ur===0&&vr.fallback(Tr)}}function createSuspenseBoundary(t,e,r,n,o,s,a,c,d,m,gr=!1){const{p:vr,m:Ar,um:Tr,n:Rr,o:{parentNode:kr,remove:xr}}=m;let Dr;const Ur=isVNodeSuspensible(t);Ur&&e!=null&&e.pendingBranch&&(Dr=e.pendingId,e.deps++);const Cr=t.props?toNumber(t.props.timeout):void 0,Nr={vnode:t,parent:e,parentComponent:r,isSVG:a,container:n,hiddenContainer:o,anchor:s,deps:0,pendingId:0,timeout:typeof Cr=="number"?Cr:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:gr,isUnmounted:!1,effects:[],resolve(Hr=!1,Mr=!1){const{vnode:Fr,activeBranch:Vr,pendingBranch:Xr,pendingId:Yr,effects:tn,parentComponent:an,container:Lr}=Nr;let Er=!1;if(Nr.isHydrating)Nr.isHydrating=!1;else if(!Hr){Er=Vr&&Xr.transition&&Xr.transition.mode==="out-in",Er&&(Vr.transition.afterLeave=()=>{Yr===Nr.pendingId&&(Ar(Xr,Lr,Gr,0),queuePostFlushCb(tn))});let{anchor:Gr}=Nr;Vr&&(Gr=Rr(Vr),Tr(Vr,an,Nr,!0)),Er||Ar(Xr,Lr,Gr,0)}setActiveBranch(Nr,Xr),Nr.pendingBranch=null,Nr.isInFallback=!1;let Or=Nr.parent,jr=!1;for(;Or;){if(Or.pendingBranch){Or.effects.push(...tn),jr=!0;break}Or=Or.parent}!jr&&!Er&&queuePostFlushCb(tn),Nr.effects=[],Ur&&e&&e.pendingBranch&&Dr===e.pendingId&&(e.deps--,e.deps===0&&!Mr&&e.resolve()),triggerEvent(Fr,"onResolve")},fallback(Hr){if(!Nr.pendingBranch)return;const{vnode:Mr,activeBranch:Fr,parentComponent:Vr,container:Xr,isSVG:Yr}=Nr;triggerEvent(Mr,"onFallback");const tn=Rr(Fr),an=()=>{!Nr.isInFallback||(vr(null,Hr,Xr,tn,Vr,null,Yr,c,d),setActiveBranch(Nr,Hr))},Lr=Hr.transition&&Hr.transition.mode==="out-in";Lr&&(Fr.transition.afterLeave=an),Nr.isInFallback=!0,Tr(Fr,Vr,null,!0),Lr||an()},move(Hr,Mr,Fr){Nr.activeBranch&&Ar(Nr.activeBranch,Hr,Mr,Fr),Nr.container=Hr},next(){return Nr.activeBranch&&Rr(Nr.activeBranch)},registerDep(Hr,Mr){const Fr=!!Nr.pendingBranch;Fr&&Nr.deps++;const Vr=Hr.vnode.el;Hr.asyncDep.catch(Xr=>{handleError(Xr,Hr,0)}).then(Xr=>{if(Hr.isUnmounted||Nr.isUnmounted||Nr.pendingId!==Hr.suspenseId)return;Hr.asyncResolved=!0;const{vnode:Yr}=Hr;handleSetupResult(Hr,Xr,!1),Vr&&(Yr.el=Vr);const tn=!Vr&&Hr.subTree.el;Mr(Hr,Yr,kr(Vr||Hr.subTree.el),Vr?null:Rr(Hr.subTree),Nr,a,d),tn&&xr(tn),updateHOCHostEl(Hr,Yr.el),Fr&&--Nr.deps===0&&Nr.resolve()})},unmount(Hr,Mr){Nr.isUnmounted=!0,Nr.activeBranch&&Tr(Nr.activeBranch,r,Hr,Mr),Nr.pendingBranch&&Tr(Nr.pendingBranch,r,Hr,Mr)}};return Nr}function hydrateSuspense(t,e,r,n,o,s,a,c,d){const m=e.suspense=createSuspenseBoundary(e,n,r,t.parentNode,document.createElement("div"),null,o,s,a,c,!0),gr=d(t,m.pendingBranch=e.ssContent,r,m,s,a);return m.deps===0&&m.resolve(!1,!0),gr}function normalizeSuspenseChildren(t){const{shapeFlag:e,children:r}=t,n=e&32;t.ssContent=normalizeSuspenseSlot(n?r.default:r),t.ssFallback=n?normalizeSuspenseSlot(r.fallback):createVNode(Comment)}function normalizeSuspenseSlot(t){let e;if(isFunction$5(t)){const r=isBlockTreeEnabled&&t._c;r&&(t._d=!1,openBlock()),t=t(),r&&(t._d=!0,e=currentBlock,closeBlock())}return isArray$3(t)&&(t=filterSingleRoot(t)),t=normalizeVNode(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$3(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function setActiveBranch(t,e){t.activeBranch=e;const{vnode:r,parentComponent:n}=t,o=r.el=e.el;n&&n.subTree===r&&(n.vnode.el=o,updateHOCHostEl(n,o))}function isVNodeSuspensible(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function watchEffect(t,e){return doWatch(t,null,e)}function watchPostEffect(t,e){return doWatch(t,null,{flush:"post"})}function watchSyncEffect(t,e){return doWatch(t,null,{flush:"sync"})}const INITIAL_WATCHER_VALUE={};function watch(t,e,r){return doWatch(t,e,r)}function doWatch(t,e,{immediate:r,deep:n,flush:o,onTrack:s,onTrigger:a}=EMPTY_OBJ){var c;const d=getCurrentScope()===((c=currentInstance)==null?void 0:c.scope)?currentInstance:null;let m,gr=!1,vr=!1;if(isRef(t)?(m=()=>t.value,gr=isShallow(t)):isReactive(t)?(m=()=>t,n=!0):isArray$3(t)?(vr=!0,gr=t.some(Nr=>isReactive(Nr)||isShallow(Nr)),m=()=>t.map(Nr=>{if(isRef(Nr))return Nr.value;if(isReactive(Nr))return traverse(Nr);if(isFunction$5(Nr))return callWithErrorHandling(Nr,d,2)})):isFunction$5(t)?e?m=()=>callWithErrorHandling(t,d,2):m=()=>{if(!(d&&d.isUnmounted))return Ar&&Ar(),callWithAsyncErrorHandling(t,d,3,[Tr])}:m=NOOP$1,e&&n){const Nr=m;m=()=>traverse(Nr())}let Ar,Tr=Nr=>{Ar=Ur.onStop=()=>{callWithErrorHandling(Nr,d,4)}},Rr;if(isInSSRComponentSetup)if(Tr=NOOP$1,e?r&&callWithAsyncErrorHandling(e,d,3,[m(),vr?[]:void 0,Tr]):m(),o==="sync"){const Nr=useSSRContext();Rr=Nr.__watcherHandles||(Nr.__watcherHandles=[])}else return NOOP$1;let kr=vr?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const xr=()=>{if(!!Ur.active)if(e){const Nr=Ur.run();(n||gr||(vr?Nr.some((Hr,Mr)=>hasChanged(Hr,kr[Mr])):hasChanged(Nr,kr)))&&(Ar&&Ar(),callWithAsyncErrorHandling(e,d,3,[Nr,kr===INITIAL_WATCHER_VALUE?void 0:vr&&kr[0]===INITIAL_WATCHER_VALUE?[]:kr,Tr]),kr=Nr)}else Ur.run()};xr.allowRecurse=!!e;let Dr;o==="sync"?Dr=xr:o==="post"?Dr=()=>queuePostRenderEffect(xr,d&&d.suspense):(xr.pre=!0,d&&(xr.id=d.uid),Dr=()=>queueJob(xr));const Ur=new ReactiveEffect(m,Dr);e?r?xr():kr=Ur.run():o==="post"?queuePostRenderEffect(Ur.run.bind(Ur),d&&d.suspense):Ur.run();const Cr=()=>{Ur.stop(),d&&d.scope&&remove$1(d.scope.effects,Ur)};return Rr&&Rr.push(Cr),Cr}function instanceWatch(t,e,r){const n=this.proxy,o=isString$4(t)?t.includes(".")?createPathGetter(n,t):()=>n[t]:t.bind(n,n);let s;isFunction$5(e)?s=e:(s=e.handler,r=e);const a=currentInstance;setCurrentInstance(this);const c=doWatch(o,s.bind(n),r);return a?setCurrentInstance(a):unsetCurrentInstance(),c}function createPathGetter(t,e){const r=e.split(".");return()=>{let n=t;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}function traverse(t,e){if(!isObject$6(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray$3(t))for(let r=0;r<t.length;r++)traverse(t[r],e);else if(isSet$1(t)||isMap$1(t))t.forEach(r=>{traverse(r,e)});else if(isPlainObject$3(t))for(const r in t)traverse(t[r],e);return t}function withDirectives(t,e){const r=currentRenderingInstance;if(r===null)return t;const n=getExposeProxy(r)||r.proxy,o=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,c,d,m=EMPTY_OBJ]=e[s];a&&(isFunction$5(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(c),o.push({dir:a,instance:n,value:c,oldValue:void 0,arg:d,modifiers:m}))}return t}function invokeDirectiveHook(t,e,r,n){const o=t.dirs,s=e&&e.dirs;for(let a=0;a<o.length;a++){const c=o[a];s&&(c.oldValue=s[a].value);let d=c.dir[n];d&&(pauseTracking(),callWithAsyncErrorHandling(d,r,8,[t.el,c,t,e]),resetTracking())}}const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(t,{slots:e}){const r=getCurrentInstance(),n=useTransitionState();let o;return()=>{const s=e.default&&getTransitionRawChildren(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const kr of s)if(kr.type!==Comment){a=kr;break}}const c=toRaw(t),{mode:d}=c;if(n.isLeaving)return emptyPlaceholder(a);const m=getKeepAliveChild(a);if(!m)return emptyPlaceholder(a);const gr=resolveTransitionHooks(m,c,n,r);setTransitionHooks(m,gr);const vr=r.subTree,Ar=vr&&getKeepAliveChild(vr);let Tr=!1;const{getTransitionKey:Rr}=m.type;if(Rr){const kr=Rr();o===void 0?o=kr:kr!==o&&(o=kr,Tr=!0)}if(Ar&&Ar.type!==Comment&&(!isSameVNodeType(m,Ar)||Tr)){const kr=resolveTransitionHooks(Ar,c,n,r);if(setTransitionHooks(Ar,kr),d==="out-in")return n.isLeaving=!0,kr.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(a);d==="in-out"&&m.type!==Comment&&(kr.delayLeave=(xr,Dr,Ur)=>{const Cr=getLeavingNodesForType(n,Ar);Cr[String(Ar.key)]=Ar,xr[leaveCbKey]=()=>{Dr(),xr[leaveCbKey]=void 0,delete gr.delayedLeave},gr.delayedLeave=Ur})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function resolveTransitionHooks(t,e,r,n){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:m,onEnterCancelled:gr,onBeforeLeave:vr,onLeave:Ar,onAfterLeave:Tr,onLeaveCancelled:Rr,onBeforeAppear:kr,onAppear:xr,onAfterAppear:Dr,onAppearCancelled:Ur}=e,Cr=String(t.key),Nr=getLeavingNodesForType(r,t),Hr=(Vr,Xr)=>{Vr&&callWithAsyncErrorHandling(Vr,n,9,Xr)},Mr=(Vr,Xr)=>{const Yr=Xr[1];Hr(Vr,Xr),isArray$3(Vr)?Vr.every(tn=>tn.length<=1)&&Yr():Vr.length<=1&&Yr()},Fr={mode:s,persisted:a,beforeEnter(Vr){let Xr=c;if(!r.isMounted)if(o)Xr=kr||c;else return;Vr[leaveCbKey]&&Vr[leaveCbKey](!0);const Yr=Nr[Cr];Yr&&isSameVNodeType(t,Yr)&&Yr.el[leaveCbKey]&&Yr.el[leaveCbKey](),Hr(Xr,[Vr])},enter(Vr){let Xr=d,Yr=m,tn=gr;if(!r.isMounted)if(o)Xr=xr||d,Yr=Dr||m,tn=Ur||gr;else return;let an=!1;const Lr=Vr[enterCbKey$1]=Er=>{an||(an=!0,Er?Hr(tn,[Vr]):Hr(Yr,[Vr]),Fr.delayedLeave&&Fr.delayedLeave(),Vr[enterCbKey$1]=void 0)};Xr?Mr(Xr,[Vr,Lr]):Lr()},leave(Vr,Xr){const Yr=String(t.key);if(Vr[enterCbKey$1]&&Vr[enterCbKey$1](!0),r.isUnmounting)return Xr();Hr(vr,[Vr]);let tn=!1;const an=Vr[leaveCbKey]=Lr=>{tn||(tn=!0,Xr(),Lr?Hr(Rr,[Vr]):Hr(Tr,[Vr]),Vr[leaveCbKey]=void 0,Nr[Yr]===t&&delete Nr[Yr])};Nr[Yr]=t,Ar?Mr(Ar,[Vr,an]):an()},clone(Vr){return resolveTransitionHooks(Vr,e,r,n)}};return Fr}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,r){let n=[],o=0;for(let s=0;s<t.length;s++){let a=t[s];const c=r==null?a.key:String(r)+String(a.key!=null?a.key:s);a.type===Fragment?(a.patchFlag&128&&o++,n=n.concat(getTransitionRawChildren(a.children,e,c))):(e||a.type!==Comment)&&n.push(c!=null?cloneVNode(a,{key:c}):a)}if(o>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(t,e){return isFunction$5(t)?(()=>extend$1({name:t.name},e,{setup:t}))():t}const isAsyncWrapper=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function defineAsyncComponent(t){isFunction$5(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:n,delay:o=200,timeout:s,suspensible:a=!0,onError:c}=t;let d=null,m,gr=0;const vr=()=>(gr++,d=null,Ar()),Ar=()=>{let Tr;return d||(Tr=d=e().catch(Rr=>{if(Rr=Rr instanceof Error?Rr:new Error(String(Rr)),c)return new Promise((kr,xr)=>{c(Rr,()=>kr(vr()),()=>xr(Rr),gr+1)});throw Rr}).then(Rr=>Tr!==d&&d?d:(Rr&&(Rr.__esModule||Rr[Symbol.toStringTag]==="Module")&&(Rr=Rr.default),m=Rr,Rr)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:Ar,get __asyncResolved(){return m},setup(){const Tr=currentInstance;if(m)return()=>createInnerComp(m,Tr);const Rr=Ur=>{d=null,handleError(Ur,Tr,13,!n)};if(a&&Tr.suspense||isInSSRComponentSetup)return Ar().then(Ur=>()=>createInnerComp(Ur,Tr)).catch(Ur=>(Rr(Ur),()=>n?createVNode(n,{error:Ur}):null));const kr=ref(!1),xr=ref(),Dr=ref(!!o);return o&&setTimeout(()=>{Dr.value=!1},o),s!=null&&setTimeout(()=>{if(!kr.value&&!xr.value){const Ur=new Error(`Async component timed out after ${s}ms.`);Rr(Ur),xr.value=Ur}},s),Ar().then(()=>{kr.value=!0,Tr.parent&&isKeepAlive(Tr.parent.vnode)&&queueJob(Tr.parent.update)}).catch(Ur=>{Rr(Ur),xr.value=Ur}),()=>{if(kr.value&&m)return createInnerComp(m,Tr);if(xr.value&&n)return createVNode(n,{error:xr.value});if(r&&!Dr.value)return createVNode(r)}}})}function createInnerComp(t,e){const{ref:r,props:n,children:o,ce:s}=e.vnode,a=createVNode(t,n,o);return a.ref=r,a.ce=s,delete e.vnode.ce,a}const isKeepAlive=t=>t.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=getCurrentInstance(),n=r.ctx;if(!n.renderer)return()=>{const Ur=e.default&&e.default();return Ur&&Ur.length===1?Ur[0]:Ur};const o=new Map,s=new Set;let a=null;const c=r.suspense,{renderer:{p:d,m,um:gr,o:{createElement:vr}}}=n,Ar=vr("div");n.activate=(Ur,Cr,Nr,Hr,Mr)=>{const Fr=Ur.component;m(Ur,Cr,Nr,0,c),d(Fr.vnode,Ur,Cr,Nr,Fr,c,Hr,Ur.slotScopeIds,Mr),queuePostRenderEffect(()=>{Fr.isDeactivated=!1,Fr.a&&invokeArrayFns(Fr.a);const Vr=Ur.props&&Ur.props.onVnodeMounted;Vr&&invokeVNodeHook(Vr,Fr.parent,Ur)},c)},n.deactivate=Ur=>{const Cr=Ur.component;m(Ur,Ar,null,1,c),queuePostRenderEffect(()=>{Cr.da&&invokeArrayFns(Cr.da);const Nr=Ur.props&&Ur.props.onVnodeUnmounted;Nr&&invokeVNodeHook(Nr,Cr.parent,Ur),Cr.isDeactivated=!0},c)};function Tr(Ur){resetShapeFlag(Ur),gr(Ur,r,c,!0)}function Rr(Ur){o.forEach((Cr,Nr)=>{const Hr=getComponentName(Cr.type);Hr&&(!Ur||!Ur(Hr))&&kr(Nr)})}function kr(Ur){const Cr=o.get(Ur);!a||!isSameVNodeType(Cr,a)?Tr(Cr):a&&resetShapeFlag(a),o.delete(Ur),s.delete(Ur)}watch(()=>[t.include,t.exclude],([Ur,Cr])=>{Ur&&Rr(Nr=>matches(Ur,Nr)),Cr&&Rr(Nr=>!matches(Cr,Nr))},{flush:"post",deep:!0});let xr=null;const Dr=()=>{xr!=null&&o.set(xr,getInnerChild(r.subTree))};return onMounted(Dr),onUpdated(Dr),onBeforeUnmount(()=>{o.forEach(Ur=>{const{subTree:Cr,suspense:Nr}=r,Hr=getInnerChild(Cr);if(Ur.type===Hr.type&&Ur.key===Hr.key){resetShapeFlag(Hr);const Mr=Hr.component.da;Mr&&queuePostRenderEffect(Mr,Nr);return}Tr(Ur)})}),()=>{if(xr=null,!e.default)return null;const Ur=e.default(),Cr=Ur[0];if(Ur.length>1)return a=null,Ur;if(!isVNode(Cr)||!(Cr.shapeFlag&4)&&!(Cr.shapeFlag&128))return a=null,Cr;let Nr=getInnerChild(Cr);const Hr=Nr.type,Mr=getComponentName(isAsyncWrapper(Nr)?Nr.type.__asyncResolved||{}:Hr),{include:Fr,exclude:Vr,max:Xr}=t;if(Fr&&(!Mr||!matches(Fr,Mr))||Vr&&Mr&&matches(Vr,Mr))return a=Nr,Cr;const Yr=Nr.key==null?Hr:Nr.key,tn=o.get(Yr);return Nr.el&&(Nr=cloneVNode(Nr),Cr.shapeFlag&128&&(Cr.ssContent=Nr)),xr=Yr,tn?(Nr.el=tn.el,Nr.component=tn.component,Nr.transition&&setTransitionHooks(Nr,Nr.transition),Nr.shapeFlag|=512,s.delete(Yr),s.add(Yr)):(s.add(Yr),Xr&&s.size>parseInt(Xr,10)&&kr(s.values().next().value)),Nr.shapeFlag|=256,a=Nr,isSuspense(Cr.type)?Cr:Nr}}},KeepAlive=KeepAliveImpl;function matches(t,e){return isArray$3(t)?t.some(r=>matches(r,e)):isString$4(t)?t.split(",").includes(e):isRegExp$4(t)?t.test(e):!1}function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,r=currentInstance){const n=t.__wdc||(t.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(injectHook(e,n,r),r){let o=r.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(n,e,r,o),o=o.parent}}function injectToKeepAliveRoot(t,e,r,n){const o=injectHook(e,t,n,!0);onUnmounted(()=>{remove$1(n[e],o)},r)}function resetShapeFlag(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function getInnerChild(t){return t.shapeFlag&128?t.ssContent:t}function injectHook(t,e,r=currentInstance,n=!1){if(r){const o=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const c=callWithAsyncErrorHandling(e,r,t,a);return unsetCurrentInstance(),resetTracking(),c});return n?o.unshift(s):o.push(s),s}}const createHook=t=>(e,r=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...n)=>e(...n),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}function renderList(t,e,r,n){let o;const s=r&&r[n];if(isArray$3(t)||isString$4(t)){o=new Array(t.length);for(let a=0,c=t.length;a<c;a++)o[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,s&&s[a])}else if(isObject$6(t))if(t[Symbol.iterator])o=Array.from(t,(a,c)=>e(a,c,void 0,s&&s[c]));else{const a=Object.keys(t);o=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const m=a[c];o[c]=e(t[m],m,c,s&&s[c])}}else o=[];return r&&(r[n]=o),o}function createSlots(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(isArray$3(n))for(let o=0;o<n.length;o++)t[n[o].name]=n[o].fn;else n&&(t[n.name]=n.key?(...o)=>{const s=n.fn(...o);return s&&(s.key=n.key),s}:n.fn)}return t}function renderSlot(t,e,r={},n,o){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(r.name=e),createVNode("slot",r,n&&n());let s=t[e];s&&s._c&&(s._d=!1),openBlock();const a=s&&ensureValidVNode(s(r)),c=createBlock(Fragment,{key:r.key||a&&a.key||`_${e}`},a||(n?n():[]),a&&t._===1?64:-2);return!o&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function ensureValidVNode(t){return t.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?t:null}function toHandlers(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:toHandlerKey(n)]=t[n];return r}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn$2(t,e),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:r,setupState:n,data:o,props:s,accessCache:a,type:c,appContext:d}=t;let m;if(e[0]!=="$"){const Tr=a[e];if(Tr!==void 0)switch(Tr){case 1:return n[e];case 2:return o[e];case 4:return r[e];case 3:return s[e]}else{if(hasSetupBinding(n,e))return a[e]=1,n[e];if(o!==EMPTY_OBJ&&hasOwn$2(o,e))return a[e]=2,o[e];if((m=t.propsOptions[0])&&hasOwn$2(m,e))return a[e]=3,s[e];if(r!==EMPTY_OBJ&&hasOwn$2(r,e))return a[e]=4,r[e];shouldCacheAccess&&(a[e]=0)}}const gr=publicPropertiesMap[e];let vr,Ar;if(gr)return e==="$attrs"&&track(t,"get",e),gr(t);if((vr=c.__cssModules)&&(vr=vr[e]))return vr;if(r!==EMPTY_OBJ&&hasOwn$2(r,e))return a[e]=4,r[e];if(Ar=d.config.globalProperties,hasOwn$2(Ar,e))return Ar[e]},set({_:t},e,r){const{data:n,setupState:o,ctx:s}=t;return hasSetupBinding(o,e)?(o[e]=r,!0):n!==EMPTY_OBJ&&hasOwn$2(n,e)?(n[e]=r,!0):hasOwn$2(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:o,propsOptions:s}},a){let c;return!!r[a]||t!==EMPTY_OBJ&&hasOwn$2(t,a)||hasSetupBinding(e,a)||(c=s[0])&&hasOwn$2(c,a)||hasOwn$2(n,a)||hasOwn$2(publicPropertiesMap,a)||hasOwn$2(o.config.globalProperties,a)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:hasOwn$2(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},RuntimeCompiledPublicInstanceProxyHandlers=extend$1({},PublicInstanceProxyHandlers,{get(t,e){if(e!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(t,e,t)},has(t,e){return e[0]!=="_"&&!isGloballyAllowed(e)}});function defineProps(){return null}function defineEmits(){return null}function defineExpose(t){}function defineOptions(t){}function defineSlots(){return null}function defineModel(){}function withDefaults(t,e){return null}function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function useModel(t,e,r){const n=getCurrentInstance();if(r&&r.local){const o=ref(t[e]);return watch(()=>t[e],s=>o.value=s),watch(o,s=>{s!==t[e]&&n.emit(`update:${e}`,s)}),o}else return{__v_isRef:!0,get value(){return t[e]},set value(o){n.emit(`update:${e}`,o)}}}function getContext(){const t=getCurrentInstance();return t.setupContext||(t.setupContext=createSetupContext(t))}function normalizePropsOrEmits(t){return isArray$3(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function mergeDefaults(t,e){const r=normalizePropsOrEmits(t);for(const n in e){if(n.startsWith("__skip"))continue;let o=r[n];o?isArray$3(o)||isFunction$5(o)?o=r[n]={type:o,default:e[n]}:o.default=e[n]:o===null&&(o=r[n]={default:e[n]}),o&&e[`__skip_${n}`]&&(o.skipFactory=!0)}return r}function mergeModels(t,e){return!t||!e?t||e:isArray$3(t)&&isArray$3(e)?t.concat(e):extend$1({},normalizePropsOrEmits(t),normalizePropsOrEmits(e))}function createPropsRestProxy(t,e){const r={};for(const n in t)e.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>t[n]});return r}function withAsyncContext(t){const e=getCurrentInstance();let r=t();return unsetCurrentInstance(),isPromise$1(r)&&(r=r.catch(n=>{throw setCurrentInstance(e),n})),[r,()=>setCurrentInstance(e)]}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),r=t.proxy,n=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:a,watch:c,provide:d,inject:m,created:gr,beforeMount:vr,mounted:Ar,beforeUpdate:Tr,updated:Rr,activated:kr,deactivated:xr,beforeDestroy:Dr,beforeUnmount:Ur,destroyed:Cr,unmounted:Nr,render:Hr,renderTracked:Mr,renderTriggered:Fr,errorCaptured:Vr,serverPrefetch:Xr,expose:Yr,inheritAttrs:tn,components:an,directives:Lr,filters:Er}=e;if(m&&resolveInjections(m,n,null),a)for(const Gr in a){const qr=a[Gr];isFunction$5(qr)&&(n[Gr]=qr.bind(r))}if(o){const Gr=o.call(r,r);isObject$6(Gr)&&(t.data=reactive(Gr))}if(shouldCacheAccess=!0,s)for(const Gr in s){const qr=s[Gr],Jr=isFunction$5(qr)?qr.bind(r,r):isFunction$5(qr.get)?qr.get.bind(r,r):NOOP$1,en=!isFunction$5(qr)&&isFunction$5(qr.set)?qr.set.bind(r):NOOP$1,Kr=computed$1({get:Jr,set:en});Object.defineProperty(n,Gr,{enumerable:!0,configurable:!0,get:()=>Kr.value,set:Ir=>Kr.value=Ir})}if(c)for(const Gr in c)createWatcher(c[Gr],n,r,Gr);if(d){const Gr=isFunction$5(d)?d.call(r):d;Reflect.ownKeys(Gr).forEach(qr=>{provide(qr,Gr[qr])})}gr&&callHook$1(gr,t,"c");function jr(Gr,qr){isArray$3(qr)?qr.forEach(Jr=>Gr(Jr.bind(r))):qr&&Gr(qr.bind(r))}if(jr(onBeforeMount,vr),jr(onMounted,Ar),jr(onBeforeUpdate,Tr),jr(onUpdated,Rr),jr(onActivated,kr),jr(onDeactivated,xr),jr(onErrorCaptured,Vr),jr(onRenderTracked,Mr),jr(onRenderTriggered,Fr),jr(onBeforeUnmount,Ur),jr(onUnmounted,Nr),jr(onServerPrefetch,Xr),isArray$3(Yr))if(Yr.length){const Gr=t.exposed||(t.exposed={});Yr.forEach(qr=>{Object.defineProperty(Gr,qr,{get:()=>r[qr],set:Jr=>r[qr]=Jr})})}else t.exposed||(t.exposed={});Hr&&t.render===NOOP$1&&(t.render=Hr),tn!=null&&(t.inheritAttrs=tn),an&&(t.components=an),Lr&&(t.directives=Lr)}function resolveInjections(t,e,r=NOOP$1){isArray$3(t)&&(t=normalizeInject(t));for(const n in t){const o=t[n];let s;isObject$6(o)?"default"in o?s=inject(o.from||n,o.default,!0):s=inject(o.from||n):s=inject(o),isRef(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[n]=s}}function callHook$1(t,e,r){callWithAsyncErrorHandling(isArray$3(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function createWatcher(t,e,r,n){const o=n.includes(".")?createPathGetter(r,n):()=>r[n];if(isString$4(t)){const s=e[t];isFunction$5(s)&&watch(o,s)}else if(isFunction$5(t))watch(o,t.bind(r));else if(isObject$6(t))if(isArray$3(t))t.forEach(s=>createWatcher(s,e,r,n));else{const s=isFunction$5(t.handler)?t.handler.bind(r):e[t.handler];isFunction$5(s)&&watch(o,s,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,c=s.get(e);let d;return c?d=c:!o.length&&!r&&!n?d=e:(d={},o.length&&o.forEach(m=>mergeOptions$1(d,m,a,!0)),mergeOptions$1(d,e,a)),isObject$6(e)&&s.set(e,d),d}function mergeOptions$1(t,e,r,n=!1){const{mixins:o,extends:s}=e;s&&mergeOptions$1(t,s,r,!0),o&&o.forEach(a=>mergeOptions$1(t,a,r,!0));for(const a in e)if(!(n&&a==="expose")){const c=internalOptionMergeStrats[a]||r&&r[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend$1(isFunction$5(t)?t.call(this,this):t,isFunction$5(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$3(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend$1(Object.create(null),t,e):e}function mergeEmitsOrPropsOptions(t,e){return t?isArray$3(t)&&isArray$3(e)?[...new Set([...t,...e])]:extend$1(Object.create(null),normalizePropsOrEmits(t),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const r=extend$1(Object.create(null),t);for(const n in e)r[n]=mergeAsArray(t[n],e[n]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,e){return function(n,o=null){isFunction$5(n)||(n=extend$1({},n)),o!=null&&!isObject$6(o)&&(o=null);const s=createAppContext(),a=new WeakSet;let c=!1;const d=s.app={_uid:uid$1++,_component:n,_props:o,_container:null,_context:s,_instance:null,version:version$1,get config(){return s.config},set config(m){},use(m,...gr){return a.has(m)||(m&&isFunction$5(m.install)?(a.add(m),m.install(d,...gr)):isFunction$5(m)&&(a.add(m),m(d,...gr))),d},mixin(m){return s.mixins.includes(m)||s.mixins.push(m),d},component(m,gr){return gr?(s.components[m]=gr,d):s.components[m]},directive(m,gr){return gr?(s.directives[m]=gr,d):s.directives[m]},mount(m,gr,vr){if(!c){const Ar=createVNode(n,o);return Ar.appContext=s,gr&&e?e(Ar,m):t(Ar,m,vr),c=!0,d._container=m,m.__vue_app__=d,getExposeProxy(Ar.component)||Ar.component.proxy}},unmount(){c&&(t(null,d._container),delete d._container.__vue_app__)},provide(m,gr){return s.provides[m]=gr,d},runWithContext(m){currentApp=d;try{return m()}finally{currentApp=null}}};return d}}let currentApp=null;function provide(t,e){if(currentInstance){let r=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===r&&(r=currentInstance.provides=Object.create(n)),r[t]=e}}function inject(t,e,r=!1){const n=currentInstance||currentRenderingInstance;if(n||currentApp){const o=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:currentApp._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return r&&isFunction$5(e)?e.call(n&&n.proxy):e}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps(t,e,r,n=!1){const o={},s={};def(s,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,o,s);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);r?t.props=n?o:shallowReactive(o):t.type.props?t.props=o:t.props=s,t.attrs=s}function updateProps(t,e,r,n){const{props:o,attrs:s,vnode:{patchFlag:a}}=t,c=toRaw(o),[d]=t.propsOptions;let m=!1;if((n||a>0)&&!(a&16)){if(a&8){const gr=t.vnode.dynamicProps;for(let vr=0;vr<gr.length;vr++){let Ar=gr[vr];if(isEmitListener(t.emitsOptions,Ar))continue;const Tr=e[Ar];if(d)if(hasOwn$2(s,Ar))Tr!==s[Ar]&&(s[Ar]=Tr,m=!0);else{const Rr=camelize(Ar);o[Rr]=resolvePropValue(d,c,Rr,Tr,t,!1)}else Tr!==s[Ar]&&(s[Ar]=Tr,m=!0)}}}else{setFullProps(t,e,o,s)&&(m=!0);let gr;for(const vr in c)(!e||!hasOwn$2(e,vr)&&((gr=hyphenate(vr))===vr||!hasOwn$2(e,gr)))&&(d?r&&(r[vr]!==void 0||r[gr]!==void 0)&&(o[vr]=resolvePropValue(d,c,vr,void 0,t,!0)):delete o[vr]);if(s!==c)for(const vr in s)(!e||!hasOwn$2(e,vr)&&!0)&&(delete s[vr],m=!0)}m&&trigger(t,"set","$attrs")}function setFullProps(t,e,r,n){const[o,s]=t.propsOptions;let a=!1,c;if(e)for(let d in e){if(isReservedProp(d))continue;const m=e[d];let gr;o&&hasOwn$2(o,gr=camelize(d))?!s||!s.includes(gr)?r[gr]=m:(c||(c={}))[gr]=m:isEmitListener(t.emitsOptions,d)||(!(d in n)||m!==n[d])&&(n[d]=m,a=!0)}if(s){const d=toRaw(r),m=c||EMPTY_OBJ;for(let gr=0;gr<s.length;gr++){const vr=s[gr];r[vr]=resolvePropValue(o,d,vr,m[vr],t,!hasOwn$2(m,vr))}}return a}function resolvePropValue(t,e,r,n,o,s){const a=t[r];if(a!=null){const c=hasOwn$2(a,"default");if(c&&n===void 0){const d=a.default;if(a.type!==Function&&!a.skipFactory&&isFunction$5(d)){const{propsDefaults:m}=o;r in m?n=m[r]:(setCurrentInstance(o),n=m[r]=d.call(null,e),unsetCurrentInstance())}else n=d}a[0]&&(s&&!c?n=!1:a[1]&&(n===""||n===hyphenate(r))&&(n=!0))}return n}function normalizePropsOptions(t,e,r=!1){const n=e.propsCache,o=n.get(t);if(o)return o;const s=t.props,a={},c=[];let d=!1;if(!isFunction$5(t)){const gr=vr=>{d=!0;const[Ar,Tr]=normalizePropsOptions(vr,e,!0);extend$1(a,Ar),Tr&&c.push(...Tr)};!r&&e.mixins.length&&e.mixins.forEach(gr),t.extends&&gr(t.extends),t.mixins&&t.mixins.forEach(gr)}if(!s&&!d)return isObject$6(t)&&n.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$3(s))for(let gr=0;gr<s.length;gr++){const vr=camelize(s[gr]);validatePropName(vr)&&(a[vr]=EMPTY_OBJ)}else if(s)for(const gr in s){const vr=camelize(gr);if(validatePropName(vr)){const Ar=s[gr],Tr=a[vr]=isArray$3(Ar)||isFunction$5(Ar)?{type:Ar}:extend$1({},Ar);if(Tr){const Rr=getTypeIndex(Boolean,Tr.type),kr=getTypeIndex(String,Tr.type);Tr[0]=Rr>-1,Tr[1]=kr<0||Rr<kr,(Rr>-1||hasOwn$2(Tr,"default"))&&c.push(vr)}}}const m=[a,c];return isObject$6(t)&&n.set(t,m),m}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray$3(e)?e.findIndex(r=>isSameType(r,t)):isFunction$5(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$3(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,r)=>{if(e._n)return e;const n=withCtx((...o)=>normalizeSlotValue(e(...o)),r);return n._c=!1,n},normalizeObjectSlots=(t,e,r)=>{const n=t._ctx;for(const o in t){if(isInternalKey(o))continue;const s=t[o];if(isFunction$5(s))e[o]=normalizeSlot$1(o,s,n);else if(s!=null){const a=normalizeSlotValue(s);e[o]=()=>a}}},normalizeVNodeSlots=(t,e)=>{const r=normalizeSlotValue(e);t.slots.default=()=>r},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,r)=>{const{vnode:n,slots:o}=t;let s=!0,a=EMPTY_OBJ;if(n.shapeFlag&32){const c=e._;c?r&&c===1?s=!1:(extend$1(o,e),!r&&c===1&&delete o._):(s=!e.$stable,normalizeObjectSlots(e,o)),a=e}else e&&(normalizeVNodeSlots(t,e),a={default:1});if(s)for(const c in o)!isInternalKey(c)&&a[c]==null&&delete o[c]};function setRef(t,e,r,n,o=!1){if(isArray$3(t)){t.forEach((Ar,Tr)=>setRef(Ar,e&&(isArray$3(e)?e[Tr]:e),r,n,o));return}if(isAsyncWrapper(n)&&!o)return;const s=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,a=o?null:s,{i:c,r:d}=t,m=e&&e.r,gr=c.refs===EMPTY_OBJ?c.refs={}:c.refs,vr=c.setupState;if(m!=null&&m!==d&&(isString$4(m)?(gr[m]=null,hasOwn$2(vr,m)&&(vr[m]=null)):isRef(m)&&(m.value=null)),isFunction$5(d))callWithErrorHandling(d,c,12,[a,gr]);else{const Ar=isString$4(d),Tr=isRef(d);if(Ar||Tr){const Rr=()=>{if(t.f){const kr=Ar?hasOwn$2(vr,d)?vr[d]:gr[d]:d.value;o?isArray$3(kr)&&remove$1(kr,s):isArray$3(kr)?kr.includes(s)||kr.push(s):Ar?(gr[d]=[s],hasOwn$2(vr,d)&&(vr[d]=gr[d])):(d.value=[s],t.k&&(gr[t.k]=d.value))}else Ar?(gr[d]=a,hasOwn$2(vr,d)&&(vr[d]=a)):Tr&&(d.value=a,t.k&&(gr[t.k]=a))};a?(Rr.id=-1,queuePostRenderEffect(Rr,r)):Rr()}}}let hasMismatch=!1;const isSVGContainer=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",isComment=t=>t.nodeType===8;function createHydrationFunctions(t){const{mt:e,p:r,o:{patchProp:n,createText:o,nextSibling:s,parentNode:a,remove:c,insert:d,createComment:m}}=t,gr=(Cr,Nr)=>{if(!Nr.hasChildNodes()){r(null,Cr,Nr),flushPostFlushCbs(),Nr._vnode=Cr;return}hasMismatch=!1,vr(Nr.firstChild,Cr,null,null,null),flushPostFlushCbs(),Nr._vnode=Cr,hasMismatch&&console.error("Hydration completed but contains mismatches.")},vr=(Cr,Nr,Hr,Mr,Fr,Vr=!1)=>{const Xr=isComment(Cr)&&Cr.data==="[",Yr=()=>kr(Cr,Nr,Hr,Mr,Fr,Xr),{type:tn,ref:an,shapeFlag:Lr,patchFlag:Er}=Nr;let Or=Cr.nodeType;Nr.el=Cr,Er===-2&&(Vr=!1,Nr.dynamicChildren=null);let jr=null;switch(tn){case Text:Or!==3?Nr.children===""?(d(Nr.el=o(""),a(Cr),Cr),jr=Cr):jr=Yr():(Cr.data!==Nr.children&&(hasMismatch=!0,Cr.data=Nr.children),jr=s(Cr));break;case Comment:Ur(Cr)?(jr=s(Cr),Dr(Nr.el=Cr.content.firstChild,Cr,Hr)):Or!==8||Xr?jr=Yr():jr=s(Cr);break;case Static:if(Xr&&(Cr=s(Cr),Or=Cr.nodeType),Or===1||Or===3){jr=Cr;const Gr=!Nr.children.length;for(let qr=0;qr<Nr.staticCount;qr++)Gr&&(Nr.children+=jr.nodeType===1?jr.outerHTML:jr.data),qr===Nr.staticCount-1&&(Nr.anchor=jr),jr=s(jr);return Xr?s(jr):jr}else Yr();break;case Fragment:Xr?jr=Rr(Cr,Nr,Hr,Mr,Fr,Vr):jr=Yr();break;default:if(Lr&1)(Or!==1||Nr.type.toLowerCase()!==Cr.tagName.toLowerCase())&&!Ur(Cr)?jr=Yr():jr=Ar(Cr,Nr,Hr,Mr,Fr,Vr);else if(Lr&6){Nr.slotScopeIds=Fr;const Gr=a(Cr);if(Xr?jr=xr(Cr):isComment(Cr)&&Cr.data==="teleport start"?jr=xr(Cr,Cr.data,"teleport end"):jr=s(Cr),e(Nr,Gr,null,Hr,Mr,isSVGContainer(Gr),Vr),isAsyncWrapper(Nr)){let qr;Xr?(qr=createVNode(Fragment),qr.anchor=jr?jr.previousSibling:Gr.lastChild):qr=Cr.nodeType===3?createTextVNode(""):createVNode("div"),qr.el=Cr,Nr.component.subTree=qr}}else Lr&64?Or!==8?jr=Yr():jr=Nr.type.hydrate(Cr,Nr,Hr,Mr,Fr,Vr,t,Tr):Lr&128&&(jr=Nr.type.hydrate(Cr,Nr,Hr,Mr,isSVGContainer(a(Cr)),Fr,Vr,t,vr))}return an!=null&&setRef(an,null,Mr,Nr),jr},Ar=(Cr,Nr,Hr,Mr,Fr,Vr)=>{Vr=Vr||!!Nr.dynamicChildren;const{type:Xr,props:Yr,patchFlag:tn,shapeFlag:an,dirs:Lr,transition:Er}=Nr,Or=Xr==="input"&&Lr||Xr==="option";if(Or||tn!==-1){if(Lr&&invokeDirectiveHook(Nr,null,Hr,"created"),Yr)if(Or||!Vr||tn&48)for(const qr in Yr)(Or&&qr.endsWith("value")||isOn(qr)&&!isReservedProp(qr))&&n(Cr,qr,null,Yr[qr],!1,void 0,Hr);else Yr.onClick&&n(Cr,"onClick",null,Yr.onClick,!1,void 0,Hr);let jr;(jr=Yr&&Yr.onVnodeBeforeMount)&&invokeVNodeHook(jr,Hr,Nr);let Gr=!1;if(Ur(Cr)){Gr=needTransition(Mr,Er)&&Hr&&Hr.vnode.props&&Hr.vnode.props.appear;const qr=Cr.content.firstChild;Gr&&Er.beforeEnter(qr),Dr(qr,Cr,Hr),Nr.el=Cr=qr}if(Lr&&invokeDirectiveHook(Nr,null,Hr,"beforeMount"),((jr=Yr&&Yr.onVnodeMounted)||Lr||Gr)&&queueEffectWithSuspense(()=>{jr&&invokeVNodeHook(jr,Hr,Nr),Gr&&Er.enter(Cr),Lr&&invokeDirectiveHook(Nr,null,Hr,"mounted")},Mr),an&16&&!(Yr&&(Yr.innerHTML||Yr.textContent))){let qr=Tr(Cr.firstChild,Nr,Cr,Hr,Mr,Fr,Vr);for(;qr;){hasMismatch=!0;const Jr=qr;qr=qr.nextSibling,c(Jr)}}else an&8&&Cr.textContent!==Nr.children&&(hasMismatch=!0,Cr.textContent=Nr.children)}return Cr.nextSibling},Tr=(Cr,Nr,Hr,Mr,Fr,Vr,Xr)=>{Xr=Xr||!!Nr.dynamicChildren;const Yr=Nr.children,tn=Yr.length;for(let an=0;an<tn;an++){const Lr=Xr?Yr[an]:Yr[an]=normalizeVNode(Yr[an]);if(Cr)Cr=vr(Cr,Lr,Mr,Fr,Vr,Xr);else{if(Lr.type===Text&&!Lr.children)continue;hasMismatch=!0,r(null,Lr,Hr,null,Mr,Fr,isSVGContainer(Hr),Vr)}}return Cr},Rr=(Cr,Nr,Hr,Mr,Fr,Vr)=>{const{slotScopeIds:Xr}=Nr;Xr&&(Fr=Fr?Fr.concat(Xr):Xr);const Yr=a(Cr),tn=Tr(s(Cr),Nr,Yr,Hr,Mr,Fr,Vr);return tn&&isComment(tn)&&tn.data==="]"?s(Nr.anchor=tn):(hasMismatch=!0,d(Nr.anchor=m("]"),Yr,tn),tn)},kr=(Cr,Nr,Hr,Mr,Fr,Vr)=>{if(hasMismatch=!0,Nr.el=null,Vr){const tn=xr(Cr);for(;;){const an=s(Cr);if(an&&an!==tn)c(an);else break}}const Xr=s(Cr),Yr=a(Cr);return c(Cr),r(null,Nr,Yr,Xr,Hr,Mr,isSVGContainer(Yr),Fr),Xr},xr=(Cr,Nr="[",Hr="]")=>{let Mr=0;for(;Cr;)if(Cr=s(Cr),Cr&&isComment(Cr)&&(Cr.data===Nr&&Mr++,Cr.data===Hr)){if(Mr===0)return s(Cr);Mr--}return Cr},Dr=(Cr,Nr,Hr)=>{const Mr=Nr.parentNode;Mr&&Mr.replaceChild(Cr,Nr);let Fr=Hr;for(;Fr;)Fr.vnode.el===Nr&&(Fr.vnode.el=Fr.subTree.el=Cr),Fr=Fr.parent},Ur=Cr=>Cr.nodeType===1&&Cr.tagName.toLowerCase()==="template";return[gr,vr]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function createHydrationRenderer(t){return baseCreateRenderer(t,createHydrationFunctions)}function baseCreateRenderer(t,e){const r=getGlobalThis();r.__VUE__=!0;const{insert:n,remove:o,patchProp:s,createElement:a,createText:c,createComment:d,setText:m,setElementText:gr,parentNode:vr,nextSibling:Ar,setScopeId:Tr=NOOP$1,insertStaticContent:Rr}=t,kr=(sn,cn,fn,Sn=null,On=null,An=null,Ln=!1,pn=null,kn=!!cn.dynamicChildren)=>{if(sn===cn)return;sn&&!isSameVNodeType(sn,cn)&&(Sn=dn(sn),Ir(sn,On,An,!0),sn=null),cn.patchFlag===-2&&(kn=!1,cn.dynamicChildren=null);const{type:En,ref:Un,shapeFlag:Fn}=cn;switch(En){case Text:xr(sn,cn,fn,Sn);break;case Comment:Dr(sn,cn,fn,Sn);break;case Static:sn==null&&Ur(cn,fn,Sn,Ln);break;case Fragment:an(sn,cn,fn,Sn,On,An,Ln,pn,kn);break;default:Fn&1?Hr(sn,cn,fn,Sn,On,An,Ln,pn,kn):Fn&6?Lr(sn,cn,fn,Sn,On,An,Ln,pn,kn):(Fn&64||Fn&128)&&En.process(sn,cn,fn,Sn,On,An,Ln,pn,kn,yn)}Un!=null&&On&&setRef(Un,sn&&sn.ref,An,cn||sn,!cn)},xr=(sn,cn,fn,Sn)=>{if(sn==null)n(cn.el=c(cn.children),fn,Sn);else{const On=cn.el=sn.el;cn.children!==sn.children&&m(On,cn.children)}},Dr=(sn,cn,fn,Sn)=>{sn==null?n(cn.el=d(cn.children||""),fn,Sn):cn.el=sn.el},Ur=(sn,cn,fn,Sn)=>{[sn.el,sn.anchor]=Rr(sn.children,cn,fn,Sn,sn.el,sn.anchor)},Cr=({el:sn,anchor:cn},fn,Sn)=>{let On;for(;sn&&sn!==cn;)On=Ar(sn),n(sn,fn,Sn),sn=On;n(cn,fn,Sn)},Nr=({el:sn,anchor:cn})=>{let fn;for(;sn&&sn!==cn;)fn=Ar(sn),o(sn),sn=fn;o(cn)},Hr=(sn,cn,fn,Sn,On,An,Ln,pn,kn)=>{Ln=Ln||cn.type==="svg",sn==null?Mr(cn,fn,Sn,On,An,Ln,pn,kn):Xr(sn,cn,On,An,Ln,pn,kn)},Mr=(sn,cn,fn,Sn,On,An,Ln,pn)=>{let kn,En;const{type:Un,props:Fn,shapeFlag:Kn,transition:jn,dirs:zn}=sn;if(kn=sn.el=a(sn.type,An,Fn&&Fn.is,Fn),Kn&8?gr(kn,sn.children):Kn&16&&Vr(sn.children,kn,null,Sn,On,An&&Un!=="foreignObject",Ln,pn),zn&&invokeDirectiveHook(sn,null,Sn,"created"),Fr(kn,sn,sn.scopeId,Ln,Sn),Fn){for(const y in Fn)y!=="value"&&!isReservedProp(y)&&s(kn,y,null,Fn[y],An,sn.children,Sn,On,_n);"value"in Fn&&s(kn,"value",null,Fn.value),(En=Fn.onVnodeBeforeMount)&&invokeVNodeHook(En,Sn,sn)}zn&&invokeDirectiveHook(sn,null,Sn,"beforeMount");const wr=needTransition(On,jn);wr&&jn.beforeEnter(kn),n(kn,cn,fn),((En=Fn&&Fn.onVnodeMounted)||wr||zn)&&queuePostRenderEffect(()=>{En&&invokeVNodeHook(En,Sn,sn),wr&&jn.enter(kn),zn&&invokeDirectiveHook(sn,null,Sn,"mounted")},On)},Fr=(sn,cn,fn,Sn,On)=>{if(fn&&Tr(sn,fn),Sn)for(let An=0;An<Sn.length;An++)Tr(sn,Sn[An]);if(On){let An=On.subTree;if(cn===An){const Ln=On.vnode;Fr(sn,Ln,Ln.scopeId,Ln.slotScopeIds,On.parent)}}},Vr=(sn,cn,fn,Sn,On,An,Ln,pn,kn=0)=>{for(let En=kn;En<sn.length;En++){const Un=sn[En]=pn?cloneIfMounted(sn[En]):normalizeVNode(sn[En]);kr(null,Un,cn,fn,Sn,On,An,Ln,pn)}},Xr=(sn,cn,fn,Sn,On,An,Ln)=>{const pn=cn.el=sn.el;let{patchFlag:kn,dynamicChildren:En,dirs:Un}=cn;kn|=sn.patchFlag&16;const Fn=sn.props||EMPTY_OBJ,Kn=cn.props||EMPTY_OBJ;let jn;fn&&toggleRecurse(fn,!1),(jn=Kn.onVnodeBeforeUpdate)&&invokeVNodeHook(jn,fn,cn,sn),Un&&invokeDirectiveHook(cn,sn,fn,"beforeUpdate"),fn&&toggleRecurse(fn,!0);const zn=On&&cn.type!=="foreignObject";if(En?Yr(sn.dynamicChildren,En,pn,fn,Sn,zn,An):Ln||qr(sn,cn,pn,null,fn,Sn,zn,An,!1),kn>0){if(kn&16)tn(pn,cn,Fn,Kn,fn,Sn,On);else if(kn&2&&Fn.class!==Kn.class&&s(pn,"class",null,Kn.class,On),kn&4&&s(pn,"style",Fn.style,Kn.style,On),kn&8){const wr=cn.dynamicProps;for(let y=0;y<wr.length;y++){const _r=wr[y],$r=Fn[_r],Br=Kn[_r];(Br!==$r||_r==="value")&&s(pn,_r,$r,Br,On,sn.children,fn,Sn,_n)}}kn&1&&sn.children!==cn.children&&gr(pn,cn.children)}else!Ln&&En==null&&tn(pn,cn,Fn,Kn,fn,Sn,On);((jn=Kn.onVnodeUpdated)||Un)&&queuePostRenderEffect(()=>{jn&&invokeVNodeHook(jn,fn,cn,sn),Un&&invokeDirectiveHook(cn,sn,fn,"updated")},Sn)},Yr=(sn,cn,fn,Sn,On,An,Ln)=>{for(let pn=0;pn<cn.length;pn++){const kn=sn[pn],En=cn[pn],Un=kn.el&&(kn.type===Fragment||!isSameVNodeType(kn,En)||kn.shapeFlag&70)?vr(kn.el):fn;kr(kn,En,Un,null,Sn,On,An,Ln,!0)}},tn=(sn,cn,fn,Sn,On,An,Ln)=>{if(fn!==Sn){if(fn!==EMPTY_OBJ)for(const pn in fn)!isReservedProp(pn)&&!(pn in Sn)&&s(sn,pn,fn[pn],null,Ln,cn.children,On,An,_n);for(const pn in Sn){if(isReservedProp(pn))continue;const kn=Sn[pn],En=fn[pn];kn!==En&&pn!=="value"&&s(sn,pn,En,kn,Ln,cn.children,On,An,_n)}"value"in Sn&&s(sn,"value",fn.value,Sn.value)}},an=(sn,cn,fn,Sn,On,An,Ln,pn,kn)=>{const En=cn.el=sn?sn.el:c(""),Un=cn.anchor=sn?sn.anchor:c("");let{patchFlag:Fn,dynamicChildren:Kn,slotScopeIds:jn}=cn;jn&&(pn=pn?pn.concat(jn):jn),sn==null?(n(En,fn,Sn),n(Un,fn,Sn),Vr(cn.children,fn,Un,On,An,Ln,pn,kn)):Fn>0&&Fn&64&&Kn&&sn.dynamicChildren?(Yr(sn.dynamicChildren,Kn,fn,On,An,Ln,pn),(cn.key!=null||On&&cn===On.subTree)&&traverseStaticChildren(sn,cn,!0)):qr(sn,cn,fn,Un,On,An,Ln,pn,kn)},Lr=(sn,cn,fn,Sn,On,An,Ln,pn,kn)=>{cn.slotScopeIds=pn,sn==null?cn.shapeFlag&512?On.ctx.activate(cn,fn,Sn,Ln,kn):Er(cn,fn,Sn,On,An,Ln,kn):Or(sn,cn,kn)},Er=(sn,cn,fn,Sn,On,An,Ln)=>{const pn=sn.component=createComponentInstance(sn,Sn,On);if(isKeepAlive(sn)&&(pn.ctx.renderer=yn),setupComponent(pn),pn.asyncDep){if(On&&On.registerDep(pn,jr),!sn.el){const kn=pn.subTree=createVNode(Comment);Dr(null,kn,cn,fn)}return}jr(pn,sn,cn,fn,On,An,Ln)},Or=(sn,cn,fn)=>{const Sn=cn.component=sn.component;if(shouldUpdateComponent(sn,cn,fn))if(Sn.asyncDep&&!Sn.asyncResolved){Gr(Sn,cn,fn);return}else Sn.next=cn,invalidateJob(Sn.update),Sn.update();else cn.el=sn.el,Sn.vnode=cn},jr=(sn,cn,fn,Sn,On,An,Ln)=>{const pn=()=>{if(sn.isMounted){let{next:Un,bu:Fn,u:Kn,parent:jn,vnode:zn}=sn,wr=Un,y;toggleRecurse(sn,!1),Un?(Un.el=zn.el,Gr(sn,Un,Ln)):Un=zn,Fn&&invokeArrayFns(Fn),(y=Un.props&&Un.props.onVnodeBeforeUpdate)&&invokeVNodeHook(y,jn,Un,zn),toggleRecurse(sn,!0);const _r=renderComponentRoot(sn),$r=sn.subTree;sn.subTree=_r,kr($r,_r,vr($r.el),dn($r),sn,On,An),Un.el=_r.el,wr===null&&updateHOCHostEl(sn,_r.el),Kn&&queuePostRenderEffect(Kn,On),(y=Un.props&&Un.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(y,jn,Un,zn),On)}else{let Un;const{el:Fn,props:Kn}=cn,{bm:jn,m:zn,parent:wr}=sn,y=isAsyncWrapper(cn);if(toggleRecurse(sn,!1),jn&&invokeArrayFns(jn),!y&&(Un=Kn&&Kn.onVnodeBeforeMount)&&invokeVNodeHook(Un,wr,cn),toggleRecurse(sn,!0),Fn&&Dn){const _r=()=>{sn.subTree=renderComponentRoot(sn),Dn(Fn,sn.subTree,sn,On,null)};y?cn.type.__asyncLoader().then(()=>!sn.isUnmounted&&_r()):_r()}else{const _r=sn.subTree=renderComponentRoot(sn);kr(null,_r,fn,Sn,sn,On,An),cn.el=_r.el}if(zn&&queuePostRenderEffect(zn,On),!y&&(Un=Kn&&Kn.onVnodeMounted)){const _r=cn;queuePostRenderEffect(()=>invokeVNodeHook(Un,wr,_r),On)}(cn.shapeFlag&256||wr&&isAsyncWrapper(wr.vnode)&&wr.vnode.shapeFlag&256)&&sn.a&&queuePostRenderEffect(sn.a,On),sn.isMounted=!0,cn=fn=Sn=null}},kn=sn.effect=new ReactiveEffect(pn,()=>queueJob(En),sn.scope),En=sn.update=()=>kn.run();En.id=sn.uid,toggleRecurse(sn,!0),En()},Gr=(sn,cn,fn)=>{cn.component=sn;const Sn=sn.vnode.props;sn.vnode=cn,sn.next=null,updateProps(sn,cn.props,Sn,fn),updateSlots(sn,cn.children,fn),pauseTracking(),flushPreFlushCbs(),resetTracking()},qr=(sn,cn,fn,Sn,On,An,Ln,pn,kn=!1)=>{const En=sn&&sn.children,Un=sn?sn.shapeFlag:0,Fn=cn.children,{patchFlag:Kn,shapeFlag:jn}=cn;if(Kn>0){if(Kn&128){en(En,Fn,fn,Sn,On,An,Ln,pn,kn);return}else if(Kn&256){Jr(En,Fn,fn,Sn,On,An,Ln,pn,kn);return}}jn&8?(Un&16&&_n(En,On,An),Fn!==En&&gr(fn,Fn)):Un&16?jn&16?en(En,Fn,fn,Sn,On,An,Ln,pn,kn):_n(En,On,An,!0):(Un&8&&gr(fn,""),jn&16&&Vr(Fn,fn,Sn,On,An,Ln,pn,kn))},Jr=(sn,cn,fn,Sn,On,An,Ln,pn,kn)=>{sn=sn||EMPTY_ARR,cn=cn||EMPTY_ARR;const En=sn.length,Un=cn.length,Fn=Math.min(En,Un);let Kn;for(Kn=0;Kn<Fn;Kn++){const jn=cn[Kn]=kn?cloneIfMounted(cn[Kn]):normalizeVNode(cn[Kn]);kr(sn[Kn],jn,fn,null,On,An,Ln,pn,kn)}En>Un?_n(sn,On,An,!0,!1,Fn):Vr(cn,fn,Sn,On,An,Ln,pn,kn,Fn)},en=(sn,cn,fn,Sn,On,An,Ln,pn,kn)=>{let En=0;const Un=cn.length;let Fn=sn.length-1,Kn=Un-1;for(;En<=Fn&&En<=Kn;){const jn=sn[En],zn=cn[En]=kn?cloneIfMounted(cn[En]):normalizeVNode(cn[En]);if(isSameVNodeType(jn,zn))kr(jn,zn,fn,null,On,An,Ln,pn,kn);else break;En++}for(;En<=Fn&&En<=Kn;){const jn=sn[Fn],zn=cn[Kn]=kn?cloneIfMounted(cn[Kn]):normalizeVNode(cn[Kn]);if(isSameVNodeType(jn,zn))kr(jn,zn,fn,null,On,An,Ln,pn,kn);else break;Fn--,Kn--}if(En>Fn){if(En<=Kn){const jn=Kn+1,zn=jn<Un?cn[jn].el:Sn;for(;En<=Kn;)kr(null,cn[En]=kn?cloneIfMounted(cn[En]):normalizeVNode(cn[En]),fn,zn,On,An,Ln,pn,kn),En++}}else if(En>Kn)for(;En<=Fn;)Ir(sn[En],On,An,!0),En++;else{const jn=En,zn=En,wr=new Map;for(En=zn;En<=Kn;En++){const Bn=cn[En]=kn?cloneIfMounted(cn[En]):normalizeVNode(cn[En]);Bn.key!=null&&wr.set(Bn.key,En)}let y,_r=0;const $r=Kn-zn+1;let Br=!1,Wr=0;const Qr=new Array($r);for(En=0;En<$r;En++)Qr[En]=0;for(En=jn;En<=Fn;En++){const Bn=sn[En];if(_r>=$r){Ir(Bn,On,An,!0);continue}let Cn;if(Bn.key!=null)Cn=wr.get(Bn.key);else for(y=zn;y<=Kn;y++)if(Qr[y-zn]===0&&isSameVNodeType(Bn,cn[y])){Cn=y;break}Cn===void 0?Ir(Bn,On,An,!0):(Qr[Cn-zn]=En+1,Cn>=Wr?Wr=Cn:Br=!0,kr(Bn,cn[Cn],fn,null,On,An,Ln,pn,kn),_r++)}const In=Br?getSequence(Qr):EMPTY_ARR;for(y=In.length-1,En=$r-1;En>=0;En--){const Bn=zn+En,Cn=cn[Bn],Hn=Bn+1<Un?cn[Bn+1].el:Sn;Qr[En]===0?kr(null,Cn,fn,Hn,On,An,Ln,pn,kn):Br&&(y<0||En!==In[y]?Kr(Cn,fn,Hn,2):y--)}}},Kr=(sn,cn,fn,Sn,On=null)=>{const{el:An,type:Ln,transition:pn,children:kn,shapeFlag:En}=sn;if(En&6){Kr(sn.component.subTree,cn,fn,Sn);return}if(En&128){sn.suspense.move(cn,fn,Sn);return}if(En&64){Ln.move(sn,cn,fn,yn);return}if(Ln===Fragment){n(An,cn,fn);for(let Fn=0;Fn<kn.length;Fn++)Kr(kn[Fn],cn,fn,Sn);n(sn.anchor,cn,fn);return}if(Ln===Static){Cr(sn,cn,fn);return}if(Sn!==2&&En&1&&pn)if(Sn===0)pn.beforeEnter(An),n(An,cn,fn),queuePostRenderEffect(()=>pn.enter(An),On);else{const{leave:Fn,delayLeave:Kn,afterLeave:jn}=pn,zn=()=>n(An,cn,fn),wr=()=>{Fn(An,()=>{zn(),jn&&jn()})};Kn?Kn(An,zn,wr):wr()}else n(An,cn,fn)},Ir=(sn,cn,fn,Sn=!1,On=!1)=>{const{type:An,props:Ln,ref:pn,children:kn,dynamicChildren:En,shapeFlag:Un,patchFlag:Fn,dirs:Kn}=sn;if(pn!=null&&setRef(pn,null,fn,sn,!0),Un&256){cn.ctx.deactivate(sn);return}const jn=Un&1&&Kn,zn=!isAsyncWrapper(sn);let wr;if(zn&&(wr=Ln&&Ln.onVnodeBeforeUnmount)&&invokeVNodeHook(wr,cn,sn),Un&6)vn(sn.component,fn,Sn);else{if(Un&128){sn.suspense.unmount(fn,Sn);return}jn&&invokeDirectiveHook(sn,null,cn,"beforeUnmount"),Un&64?sn.type.remove(sn,cn,fn,On,yn,Sn):En&&(An!==Fragment||Fn>0&&Fn&64)?_n(En,cn,fn,!1,!0):(An===Fragment&&Fn&384||!On&&Un&16)&&_n(kn,cn,fn),Sn&&zr(sn)}(zn&&(wr=Ln&&Ln.onVnodeUnmounted)||jn)&&queuePostRenderEffect(()=>{wr&&invokeVNodeHook(wr,cn,sn),jn&&invokeDirectiveHook(sn,null,cn,"unmounted")},fn)},zr=sn=>{const{type:cn,el:fn,anchor:Sn,transition:On}=sn;if(cn===Fragment){un(fn,Sn);return}if(cn===Static){Nr(sn);return}const An=()=>{o(fn),On&&!On.persisted&&On.afterLeave&&On.afterLeave()};if(sn.shapeFlag&1&&On&&!On.persisted){const{leave:Ln,delayLeave:pn}=On,kn=()=>Ln(fn,An);pn?pn(sn.el,An,kn):kn()}else An()},un=(sn,cn)=>{let fn;for(;sn!==cn;)fn=Ar(sn),o(sn),sn=fn;o(cn)},vn=(sn,cn,fn)=>{const{bum:Sn,scope:On,update:An,subTree:Ln,um:pn}=sn;Sn&&invokeArrayFns(Sn),On.stop(),An&&(An.active=!1,Ir(Ln,sn,cn,fn)),pn&&queuePostRenderEffect(pn,cn),queuePostRenderEffect(()=>{sn.isUnmounted=!0},cn),cn&&cn.pendingBranch&&!cn.isUnmounted&&sn.asyncDep&&!sn.asyncResolved&&sn.suspenseId===cn.pendingId&&(cn.deps--,cn.deps===0&&cn.resolve())},_n=(sn,cn,fn,Sn=!1,On=!1,An=0)=>{for(let Ln=An;Ln<sn.length;Ln++)Ir(sn[Ln],cn,fn,Sn,On)},dn=sn=>sn.shapeFlag&6?dn(sn.component.subTree):sn.shapeFlag&128?sn.suspense.next():Ar(sn.anchor||sn.el),gn=(sn,cn,fn)=>{sn==null?cn._vnode&&Ir(cn._vnode,null,null,!0):kr(cn._vnode||null,sn,cn,null,null,null,fn),flushPreFlushCbs(),flushPostFlushCbs(),cn._vnode=sn},yn={p:kr,um:Ir,m:Kr,r:zr,mt:Er,mc:Vr,pc:qr,pbc:Yr,n:dn,o:t};let Tn,Dn;return e&&([Tn,Dn]=e(yn)),{render:gn,hydrate:Tn,createApp:createAppAPI(gn,Tn)}}function toggleRecurse({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function needTransition(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function traverseStaticChildren(t,e,r=!1){const n=t.children,o=e.children;if(isArray$3(n)&&isArray$3(o))for(let s=0;s<n.length;s++){const a=n[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=cloneIfMounted(o[s]),c.el=a.el),r||traverseStaticChildren(a,c)),c.type===Text&&(c.el=a.el)}}function getSequence(t){const e=t.slice(),r=[0];let n,o,s,a,c;const d=t.length;for(n=0;n<d;n++){const m=t[n];if(m!==0){if(o=r[r.length-1],t[o]<m){e[n]=o,r.push(n);continue}for(s=0,a=r.length-1;s<a;)c=s+a>>1,t[r[c]]<m?s=c+1:a=c;m<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=e[a];return r}const isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,resolveTarget=(t,e)=>{const r=t&&t.to;return isString$4(r)?e?e(r):null:r},TeleportImpl={__isTeleport:!0,process(t,e,r,n,o,s,a,c,d,m){const{mc:gr,pc:vr,pbc:Ar,o:{insert:Tr,querySelector:Rr,createText:kr,createComment:xr}}=m,Dr=isTeleportDisabled(e.props);let{shapeFlag:Ur,children:Cr,dynamicChildren:Nr}=e;if(t==null){const Hr=e.el=kr(""),Mr=e.anchor=kr("");Tr(Hr,r,n),Tr(Mr,r,n);const Fr=e.target=resolveTarget(e.props,Rr),Vr=e.targetAnchor=kr("");Fr&&(Tr(Vr,Fr),a=a||isTargetSVG(Fr));const Xr=(Yr,tn)=>{Ur&16&&gr(Cr,Yr,tn,o,s,a,c,d)};Dr?Xr(r,Mr):Fr&&Xr(Fr,Vr)}else{e.el=t.el;const Hr=e.anchor=t.anchor,Mr=e.target=t.target,Fr=e.targetAnchor=t.targetAnchor,Vr=isTeleportDisabled(t.props),Xr=Vr?r:Mr,Yr=Vr?Hr:Fr;if(a=a||isTargetSVG(Mr),Nr?(Ar(t.dynamicChildren,Nr,Xr,o,s,a,c),traverseStaticChildren(t,e,!0)):d||vr(t,e,Xr,Yr,o,s,a,c,!1),Dr)Vr?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):moveTeleport(e,r,Hr,m,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const tn=e.target=resolveTarget(e.props,Rr);tn&&moveTeleport(e,tn,null,m,0)}else Vr&&moveTeleport(e,Mr,Fr,m,1)}updateCssVars(e)},remove(t,e,r,n,{um:o,o:{remove:s}},a){const{shapeFlag:c,children:d,anchor:m,targetAnchor:gr,target:vr,props:Ar}=t;if(vr&&s(gr),a&&s(m),c&16){const Tr=a||!isTeleportDisabled(Ar);for(let Rr=0;Rr<d.length;Rr++){const kr=d[Rr];o(kr,e,r,Tr,!!kr.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,r,{o:{insert:n},m:o},s=2){s===0&&n(t.targetAnchor,e,r);const{el:a,anchor:c,shapeFlag:d,children:m,props:gr}=t,vr=s===2;if(vr&&n(a,e,r),(!vr||isTeleportDisabled(gr))&&d&16)for(let Ar=0;Ar<m.length;Ar++)o(m[Ar],e,r,2);vr&&n(c,e,r)}function hydrateTeleport(t,e,r,n,o,s,{o:{nextSibling:a,parentNode:c,querySelector:d}},m){const gr=e.target=resolveTarget(e.props,d);if(gr){const vr=gr._lpa||gr.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=m(a(t),e,c(t),r,n,o,s),e.targetAnchor=vr;else{e.anchor=a(t);let Ar=vr;for(;Ar;)if(Ar=a(Ar),Ar&&Ar.nodeType===8&&Ar.data==="teleport anchor"){e.targetAnchor=Ar,gr._lpa=e.targetAnchor&&a(e.targetAnchor);break}m(vr,e,gr,r,n,o,s)}updateCssVars(e)}return e.anchor&&a(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,r,n,o,s){return setupBlock(createBaseVNode(t,e,r,n,o,s,!0))}function createBlock(t,e,r,n,o){return setupBlock(createVNode(t,e,r,n,o,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}function transformVNodeArgs(t){}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?isString$4(t)||isRef(t)||isFunction$5(t)?{i:currentRenderingInstance,r:t,k:e,f:!!r}:t:null);function createBaseVNode(t,e=null,r=null,n=0,o=null,s=t===Fragment?0:1,a=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return c?(normalizeChildren(d,r),s&128&&t.normalize(d)):r&&(d.shapeFlag|=isString$4(r)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(d.patchFlag>0||s&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode=_createVNode;function _createVNode(t,e=null,r=null,n=0,o=null,s=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const c=cloneVNode(t,e,!0);return r&&normalizeChildren(c,r),isBlockTreeEnabled>0&&!s&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:c,style:d}=e;c&&!isString$4(c)&&(e.class=normalizeClass(c)),isObject$6(d)&&(isProxy(d)&&!isArray$3(d)&&(d=extend$1({},d)),e.style=normalizeStyle(d))}const a=isString$4(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$6(t)?4:isFunction$5(t)?2:0;return createBaseVNode(t,e,r,n,o,a,s,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend$1({},t):t:null}function cloneVNode(t,e,r=!1){const{props:n,ref:o,patchFlag:s,children:a}=t,c=e?mergeProps(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&normalizeKey(c),ref:e&&e.ref?r&&o?isArray$3(o)?o.concat(normalizeRef(e)):[o,normalizeRef(e)]:normalizeRef(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createStaticVNode(t,e){const r=createVNode(Static,null,t);return r.staticCount=e,r}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$3(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(isArray$3(e))r=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),normalizeChildren(t,o()),o._c&&(o._d=!0));return}else{r=32;const o=e._;!o&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$5(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),n&64?(r=16,e=[createTextVNode(e)]):r=8);t.children=e,t.shapeFlag|=r}function mergeProps(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=normalizeClass([e.class,n.class]));else if(o==="style")e.style=normalizeStyle([e.style,n.style]);else if(isOn(o)){const s=e[o],a=n[o];a&&s!==a&&!(isArray$3(s)&&s.includes(a))&&(e[o]=s?[].concat(s,a):a)}else o!==""&&(e[o]=n[o])}return e}function invokeVNodeHook(t,e,r,n=null){callWithAsyncErrorHandling(t,e,7,[r,n])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(t,e,r){const n=t.type,o=(e?e.appContext:t.appContext)||emptyAppContext,s={uid:uid$2++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,o),emitsOptions:normalizeEmitsOptions(n,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=emit.bind(null,s),t.ce&&t.ce(s),s}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(t=>currentInstance=t),internalSetCurrentInstance=t=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(e=>e(t)):globalCurrentInstanceSetters[0](t)};const setCurrentInstance=t=>{internalSetCurrentInstance(t),t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:r,children:n}=t.vnode,o=isStatefulComponent(t);initProps(t,r,o,e),initSlots(t,n);const s=o?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:n}=r;if(n){const o=t.setupContext=n.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const s=callWithErrorHandling(n,t,0,[t.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),e)return s.then(a=>{handleSetupResult(t,a,e)}).catch(a=>{handleError(a,t,0)});t.asyncDep=s}else handleSetupResult(t,s,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,r){isFunction$5(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$6(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,r)}let compile,installWithProxy;function registerRuntimeCompiler(t){compile=t,installWithProxy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}}const isRuntimeOnly=()=>!compile;function finishComponentSetup(t,e,r){const n=t.type;if(!t.render){if(!e&&compile&&!n.render){const o=n.template||resolveMergedOptions(t).template;if(o){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:d}=n,m=extend$1(extend$1({isCustomElement:s,delimiters:c},a),d);n.render=compile(o,m)}}t.render=n.render||NOOP$1,installWithProxy&&installWithProxy(t)}{setCurrentInstance(t),pauseTracking();try{applyOptions(t)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return track(t,"get","$attrs"),e[r]}}))}function createSetupContext(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return getAttrsProxy(t)},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](t)},has(e,r){return r in e||r in publicPropertiesMap}}))}function getComponentName(t,e=!0){return isFunction$5(t)?t.displayName||t.name:t.name||e&&t.__name}function isClassComponent(t){return isFunction$5(t)&&"__vccOpts"in t}const computed$1=(t,e)=>computed$2(t,e,isInSSRComponentSetup);function h(t,e,r){const n=arguments.length;return n===2?isObject$6(e)&&!isArray$3(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&isVNode(r)&&(r=[r]),createVNode(t,e,r))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function initCustomFormatter(){}function withMemo(t,e,r,n){const o=r[n];if(o&&isMemoSame(o,t))return o;const s=e();return s.memo=t.slice(),r[n]=s}function isMemoSame(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(hasChanged(r[n],e[n]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),!0}const version$1="3.3.8",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const o=e?doc.createElementNS(svgNS,t):doc.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,o,s){const a=r?r.previousSibling:e.lastChild;if(o&&(o===s||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),r),!(o===s||!(o=o.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${t}</svg>`:t;const c=templateContainer.content;if(n){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}e.insertBefore(c,r)}return[a?a.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),Transition=(t,{slots:e})=>h(BaseTransition,resolveTransitionProps(t),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$1({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(t,e=[])=>{isArray$3(t)?t.forEach(r=>r(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray$3(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const an in t)an in DOMTransitionPropsValidators||(e[an]=t[an]);if(t.css===!1)return e;const{name:r="v",type:n,duration:o,enterFromClass:s=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:c=`${r}-enter-to`,appearFromClass:d=s,appearActiveClass:m=a,appearToClass:gr=c,leaveFromClass:vr=`${r}-leave-from`,leaveActiveClass:Ar=`${r}-leave-active`,leaveToClass:Tr=`${r}-leave-to`}=t,Rr=normalizeDuration(o),kr=Rr&&Rr[0],xr=Rr&&Rr[1],{onBeforeEnter:Dr,onEnter:Ur,onEnterCancelled:Cr,onLeave:Nr,onLeaveCancelled:Hr,onBeforeAppear:Mr=Dr,onAppear:Fr=Ur,onAppearCancelled:Vr=Cr}=e,Xr=(an,Lr,Er)=>{removeTransitionClass(an,Lr?gr:c),removeTransitionClass(an,Lr?m:a),Er&&Er()},Yr=(an,Lr)=>{an._isLeaving=!1,removeTransitionClass(an,vr),removeTransitionClass(an,Tr),removeTransitionClass(an,Ar),Lr&&Lr()},tn=an=>(Lr,Er)=>{const Or=an?Fr:Ur,jr=()=>Xr(Lr,an,Er);callHook(Or,[Lr,jr]),nextFrame(()=>{removeTransitionClass(Lr,an?d:s),addTransitionClass(Lr,an?gr:c),hasExplicitCallback(Or)||whenTransitionEnds(Lr,n,kr,jr)})};return extend$1(e,{onBeforeEnter(an){callHook(Dr,[an]),addTransitionClass(an,s),addTransitionClass(an,a)},onBeforeAppear(an){callHook(Mr,[an]),addTransitionClass(an,d),addTransitionClass(an,m)},onEnter:tn(!1),onAppear:tn(!0),onLeave(an,Lr){an._isLeaving=!0;const Er=()=>Yr(an,Lr);addTransitionClass(an,vr),forceReflow(),addTransitionClass(an,Ar),nextFrame(()=>{!an._isLeaving||(removeTransitionClass(an,vr),addTransitionClass(an,Tr),hasExplicitCallback(Nr)||whenTransitionEnds(an,n,xr,Er))}),callHook(Nr,[an,Er])},onEnterCancelled(an){Xr(an,!1),callHook(Cr,[an])},onAppearCancelled(an){Xr(an,!0),callHook(Vr,[an])},onLeaveCancelled(an){Yr(an),callHook(Hr,[an])}})}function normalizeDuration(t){if(t==null)return null;if(isObject$6(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[vtcKey]||(t[vtcKey]=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[vtcKey];r&&(r.delete(e),r.size||(t[vtcKey]=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,r,n){const o=t._endId=++endId,s=()=>{o===t._endId&&n()};if(r)return setTimeout(s,r);const{type:a,timeout:c,propCount:d}=getTransitionInfo(t,e);if(!a)return n();const m=a+"end";let gr=0;const vr=()=>{t.removeEventListener(m,Ar),s()},Ar=Tr=>{Tr.target===t&&++gr>=d&&vr()};setTimeout(()=>{gr<d&&vr()},c+1),t.addEventListener(m,Ar)}function getTransitionInfo(t,e){const r=window.getComputedStyle(t),n=Rr=>(r[Rr]||"").split(", "),o=n(`${TRANSITION}Delay`),s=n(`${TRANSITION}Duration`),a=getTimeout(o,s),c=n(`${ANIMATION}Delay`),d=n(`${ANIMATION}Duration`),m=getTimeout(c,d);let gr=null,vr=0,Ar=0;e===TRANSITION?a>0&&(gr=TRANSITION,vr=a,Ar=s.length):e===ANIMATION?m>0&&(gr=ANIMATION,vr=m,Ar=d.length):(vr=Math.max(a,m),gr=vr>0?a>m?TRANSITION:ANIMATION:null,Ar=gr?gr===TRANSITION?s.length:d.length:0);const Tr=gr===TRANSITION&&/\b(transform|all)(,|$)/.test(n(`${TRANSITION}Property`).toString());return{type:gr,timeout:vr,propCount:Ar,hasTransform:Tr}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>toMs(r)+toMs(t[n])))}function toMs(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(t,e,r){const n=t[vtcKey];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const vShowOldKey=Symbol("_vod"),vShow={beforeMount(t,{value:e},{transition:r}){t[vShowOldKey]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),setDisplay(t,!0),n.enter(t)):n.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t[vShowOldKey]:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}function patchStyle(t,e,r){const n=t.style,o=isString$4(r);if(r&&!o){if(e&&!isString$4(e))for(const s in e)r[s]==null&&setStyle(n,s,"");for(const s in r)setStyle(n,s,r[s])}else{const s=n.display;o?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),vShowOldKey in t&&(n.display=s)}}const importantRE=/\s*!important$/;function setStyle(t,e,r){if(isArray$3(r))r.forEach(n=>setStyle(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=autoPrefix(t,e);importantRE.test(r)?t.setProperty(hyphenate(n),r.replace(importantRE,""),"important"):t[n]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const r=prefixCache[e];if(r)return r;let n=camelize(e);if(n!=="filter"&&n in t)return prefixCache[e]=n;n=capitalize(n);for(let o=0;o<prefixes.length;o++){const s=prefixes[o]+n;if(s in t)return prefixCache[e]=s}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,r,n,o){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,r);else{const s=isSpecialBooleanAttr(e);r==null||s&&!includeBooleanAttr(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function patchDOMProp(t,e,r,n,o,s,a){if(e==="innerHTML"||e==="textContent"){n&&a(n,o,s),t[e]=r??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=r;const m=c==="OPTION"?t.getAttribute("value"):t.value,gr=r??"";m!==gr&&(t.value=gr),r==null&&t.removeAttribute(e);return}let d=!1;if(r===""||r==null){const m=typeof t[e];m==="boolean"?r=includeBooleanAttr(r):r==null&&m==="string"?(r="",d=!0):m==="number"&&(r=0,d=!0)}try{t[e]=r}catch{}d&&t.removeAttribute(e)}function addEventListener(t,e,r,n){t.addEventListener(e,r,n)}function removeEventListener(t,e,r,n){t.removeEventListener(e,r,n)}const veiKey=Symbol("_vei");function patchEvent(t,e,r,n,o=null){const s=t[veiKey]||(t[veiKey]={}),a=s[e];if(n&&a)a.value=n;else{const[c,d]=parseName(e);if(n){const m=s[e]=createInvoker(n,o);addEventListener(t,c,m,d)}else a&&(removeEventListener(t,c,a,d),s[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let n;for(;n=t.match(optionsModifierRE);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(n,r.value),e,5,[n])};return r.value=t,r.attached=getNow(),r}function patchStopImmediatePropagation(t,e){if(isArray$3(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,r,n,o=!1,s,a,c,d)=>{e==="class"?patchClass(t,n,o):e==="style"?patchStyle(t,r,n):isOn(e)?isModelListener(e)||patchEvent(t,e,r,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,n,o))?patchDOMProp(t,e,n,s,a,c,d):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),patchAttr(t,e,n,o))};function shouldSetAsProp(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction$5(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$4(r)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function defineCustomElement(t,e){const r=defineComponent(t);class n extends VueElement{constructor(s){super(r,s,e)}}return n.def=r,n}/*! #__NO_SIDE_EFFECTS__ */const defineSSRCustomElement=t=>defineCustomElement(t,hydrate),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(e,r={},n){super(),this._def=e,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),nextTick(()=>{this._connected||(render(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const o of n)this._setAttr(o.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(n,o=!1)=>{const{props:s,styles:a}=n;let c;if(s&&!isArray$3(s))for(const d in s){const m=s[d];(m===Number||m&&m.type===Number)&&(d in this._props&&(this._props[d]=toNumber(this._props[d])),(c||(c=Object.create(null)))[camelize(d)]=!0)}this._numberProps=c,o&&this._resolveProps(n),this._applyStyles(a),this._update()},r=this._def.__asyncLoader;r?r().then(n=>e(n,!0)):e(this._def)}_resolveProps(e){const{props:r}=e,n=isArray$3(r)?r:Object.keys(r||{});for(const o of Object.keys(this))o[0]!=="_"&&n.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of n.map(camelize))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(s){this._setProp(o,s)}})}_setAttr(e){let r=this.getAttribute(e);const n=camelize(e);this._numberProps&&this._numberProps[n]&&(r=toNumber(r)),this._setProp(n,r,!1)}_getProp(e){return this._props[e]}_setProp(e,r,n=!0,o=!0){r!==this._props[e]&&(this._props[e]=r,o&&this._instance&&this._update(),n&&(r===!0?this.setAttribute(hyphenate(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(hyphenate(e),r+""):r||this.removeAttribute(hyphenate(e))))}_update(){render(this._createVNode(),this.shadowRoot)}_createVNode(){const e=createVNode(this._def,extend$1({},this._props));return this._instance||(e.ce=r=>{this._instance=r,r.isCE=!0;const n=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};r.emit=(s,...a)=>{n(s,a),hyphenate(s)!==s&&n(hyphenate(s),a)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof VueElement){r.parent=o._instance,r.provides=o._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(r=>{const n=document.createElement("style");n.textContent=r,this.shadowRoot.appendChild(n)})}}function useCssModule(t="$style"){{const e=getCurrentInstance();if(!e)return EMPTY_OBJ;const r=e.type.__cssModules;if(!r)return EMPTY_OBJ;const n=r[t];return n||EMPTY_OBJ}}function useCssVars(t){const e=getCurrentInstance();if(!e)return;const r=e.ut=(o=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>setVarsOnNode(s,o))},n=()=>{const o=t(e.proxy);setVarsOnVNode(e.subTree,o),r(o)};watchPostEffect(n),onMounted(()=>{const o=new MutationObserver(n);o.observe(e.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>o.disconnect())})}function setVarsOnVNode(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{setVarsOnVNode(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)setVarsOnNode(t.el,e);else if(t.type===Fragment)t.children.forEach(r=>setVarsOnVNode(r,e));else if(t.type===Static){let{el:r,anchor:n}=t;for(;r&&(setVarsOnNode(r,e),r!==n);)r=r.nextSibling}}function setVarsOnNode(t,e){if(t.nodeType===1){const r=t.style;for(const n in e)r.setProperty(`--${n}`,e[n])}}const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),TransitionGroupImpl={name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=getCurrentInstance(),n=useTransitionState();let o,s;return onUpdated(()=>{if(!o.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!hasCSSTransform(o[0].el,r.vnode.el,a))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const c=o.filter(applyTranslation);forceReflow(),c.forEach(d=>{const m=d.el,gr=m.style;addTransitionClass(m,a),gr.transform=gr.webkitTransform=gr.transitionDuration="";const vr=m[moveCbKey]=Ar=>{Ar&&Ar.target!==m||(!Ar||/transform$/.test(Ar.propertyName))&&(m.removeEventListener("transitionend",vr),m[moveCbKey]=null,removeTransitionClass(m,a))};m.addEventListener("transitionend",vr)})}),()=>{const a=toRaw(t),c=resolveTransitionProps(a);let d=a.tag||Fragment;o=s,s=e.default?getTransitionRawChildren(e.default()):[];for(let m=0;m<s.length;m++){const gr=s[m];gr.key!=null&&setTransitionHooks(gr,resolveTransitionHooks(gr,c,n,r))}if(o)for(let m=0;m<o.length;m++){const gr=o[m];setTransitionHooks(gr,resolveTransitionHooks(gr,c,n,r)),positionMap.set(gr,gr.el.getBoundingClientRect())}return createVNode(d,null,s)}}},removeMode=t=>delete t.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(t){const e=t.el;e[moveCbKey]&&e[moveCbKey](),e[enterCbKey]&&e[enterCbKey]()}function recordPosition(t){newPositionMap.set(t,t.el.getBoundingClientRect())}function applyTranslation(t){const e=positionMap.get(t),r=newPositionMap.get(t),n=e.left-r.left,o=e.top-r.top;if(n||o){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${n}px,${o}px)`,s.transitionDuration="0s",t}}function hasCSSTransform(t,e,r){const n=t.cloneNode(),o=t[vtcKey];o&&o.forEach(c=>{c.split(/\s+/).forEach(d=>d&&n.classList.remove(d))}),r.split(/\s+/).forEach(c=>c&&n.classList.add(c)),n.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(n);const{hasTransform:a}=getTransitionInfo(n);return s.removeChild(n),a}const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"]||!1;return isArray$3(e)?r=>invokeArrayFns(e,r):e};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(t,{modifiers:{lazy:e,trim:r,number:n}},o){t[assignKey]=getModelAssigner(o);const s=n||o.props&&o.props.type==="number";addEventListener(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;r&&(c=c.trim()),s&&(c=looseToNumber(c)),t[assignKey](c)}),r&&addEventListener(t,"change",()=>{t.value=t.value.trim()}),e||(addEventListener(t,"compositionstart",onCompositionStart),addEventListener(t,"compositionend",onCompositionEnd),addEventListener(t,"change",onCompositionEnd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:o}},s){if(t[assignKey]=getModelAssigner(s),t.composing||document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===e||(o||t.type==="number")&&looseToNumber(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},vModelCheckbox={deep:!0,created(t,e,r){t[assignKey]=getModelAssigner(r),addEventListener(t,"change",()=>{const n=t._modelValue,o=getValue(t),s=t.checked,a=t[assignKey];if(isArray$3(n)){const c=looseIndexOf(n,o),d=c!==-1;if(s&&!d)a(n.concat(o));else if(!s&&d){const m=[...n];m.splice(c,1),a(m)}}else if(isSet$1(n)){const c=new Set(n);s?c.add(o):c.delete(o),a(c)}else a(getCheckboxValue(t,s))})},mounted:setChecked,beforeUpdate(t,e,r){t[assignKey]=getModelAssigner(r),setChecked(t,e,r)}};function setChecked(t,{value:e,oldValue:r},n){t._modelValue=e,isArray$3(e)?t.checked=looseIndexOf(e,n.props.value)>-1:isSet$1(e)?t.checked=e.has(n.props.value):e!==r&&(t.checked=looseEqual(e,getCheckboxValue(t,!0)))}const vModelRadio={created(t,{value:e},r){t.checked=looseEqual(e,r.props.value),t[assignKey]=getModelAssigner(r),addEventListener(t,"change",()=>{t[assignKey](getValue(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t[assignKey]=getModelAssigner(n),e!==r&&(t.checked=looseEqual(e,n.props.value))}},vModelSelect={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const o=isSet$1(e);addEventListener(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>r?looseToNumber(getValue(a)):getValue(a));t[assignKey](t.multiple?o?new Set(s):s:s[0])}),t[assignKey]=getModelAssigner(n)},mounted(t,{value:e}){setSelected(t,e)},beforeUpdate(t,e,r){t[assignKey]=getModelAssigner(r)},updated(t,{value:e}){setSelected(t,e)}};function setSelected(t,e){const r=t.multiple;if(!(r&&!isArray$3(e)&&!isSet$1(e))){for(let n=0,o=t.options.length;n<o;n++){const s=t.options[n],a=getValue(s);if(r)isArray$3(e)?s.selected=looseIndexOf(e,a)>-1:s.selected=e.has(a);else if(looseEqual(getValue(s),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function getValue(t){return"_value"in t?t._value:t.value}function getCheckboxValue(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const vModelDynamic={created(t,e,r){callModelHook(t,e,r,null,"created")},mounted(t,e,r){callModelHook(t,e,r,null,"mounted")},beforeUpdate(t,e,r,n){callModelHook(t,e,r,n,"beforeUpdate")},updated(t,e,r,n){callModelHook(t,e,r,n,"updated")}};function resolveDynamicModel(t,e){switch(t){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(e){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(t,e,r,n,o){const a=resolveDynamicModel(t.tagName,r.props&&r.props.type)[o];a&&a(t,e,r,n)}function initVModelForSSR(){vModelText.getSSRProps=({value:t})=>({value:t}),vModelRadio.getSSRProps=({value:t},e)=>{if(e.props&&looseEqual(e.props.value,t))return{checked:!0}},vModelCheckbox.getSSRProps=({value:t},e)=>{if(isArray$3(t)){if(e.props&&looseIndexOf(t,e.props.value)>-1)return{checked:!0}}else if(isSet$1(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},vModelDynamic.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=resolveDynamicModel(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>systemModifiers.some(r=>t[`${r}Key`]&&!e.includes(r))},withModifiers=(t,e)=>(r,...n)=>{for(let o=0;o<e.length;o++){const s=modifierGuards[e[o]];if(s&&s(r,e))return}return t(r,...n)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,e)=>r=>{if(!("key"in r))return;const n=hyphenate(r.key);if(e.some(o=>o===n||keyNames[o]===n))return t(r)},rendererOptions=extend$1({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render=(...t)=>{ensureRenderer().render(...t)},hydrate=(...t)=>{ensureHydrationRenderer().hydrate(...t)},createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:r}=e;return e.mount=n=>{const o=normalizeContainer(n);if(!o)return;const s=e._component;!isFunction$5(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=r(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e},createSSRApp=(...t)=>{const e=ensureHydrationRenderer().createApp(...t),{mount:r}=e;return e.mount=n=>{const o=normalizeContainer(n);if(o)return r(o,!0,o instanceof SVGElement)},e};function normalizeContainer(t){return isString$4(t)?document.querySelector(t):t}let ssrDirectiveInitialized=!1;const initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())};var fontawesomeV6="",materialIcons$1="",quasar="",app="";function injectProp(t,e,r,n){return Object.defineProperty(t,e,{get:r,set:n,enumerable:!0}),t}function injectMultipleProps(t,e){for(const r in e)injectProp(t,r,e[r]);return t}const isRuntimeSsrPreHydration=ref(!1);let iosCorrection;function getMatch(t,e){const r=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||[];return{browser:r[5]||r[3]||r[1]||"",version:r[2]||r[4]||"0",versionNumber:r[4]||r[2]||"0",platform:e[0]||""}}function getPlatformMatch(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}const hasTouch="ontouchstart"in window||window.navigator.maxTouchPoints>0;function applyIosCorrection(t){iosCorrection={is:{...t}},delete t.mac,delete t.desktop;const e=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(t,{mobile:!0,ios:!0,platform:e,[e]:!0})}function getPlatform(t){const e=t.toLowerCase(),r=getPlatformMatch(e),n=getMatch(e,r),o={};n.browser&&(o[n.browser]=!0,o.version=n.version,o.versionNumber=parseInt(n.versionNumber,10)),n.platform&&(o[n.platform]=!0);const s=o.android||o.ios||o.bb||o.blackberry||o.ipad||o.iphone||o.ipod||o.kindle||o.playbook||o.silk||o["windows phone"];return s===!0||e.indexOf("mobile")>-1?(o.mobile=!0,o.edga||o.edgios?(o.edge=!0,n.browser="edge"):o.crios?(o.chrome=!0,n.browser="chrome"):o.fxios&&(o.firefox=!0,n.browser="firefox")):o.desktop=!0,(o.ipod||o.ipad||o.iphone)&&(o.ios=!0),o["windows phone"]&&(o.winphone=!0,delete o["windows phone"]),(o.chrome||o.opr||o.safari||o.vivaldi||o.mobile===!0&&o.ios!==!0&&s!==!0)&&(o.webkit=!0),o.edg&&(n.browser="edgechromium",o.edgeChromium=!0),(o.safari&&o.blackberry||o.bb)&&(n.browser="blackberry",o.blackberry=!0),o.safari&&o.playbook&&(n.browser="playbook",o.playbook=!0),o.opr&&(n.browser="opera",o.opera=!0),o.safari&&o.android&&(n.browser="android",o.android=!0),o.safari&&o.kindle&&(n.browser="kindle",o.kindle=!0),o.safari&&o.silk&&(n.browser="silk",o.silk=!0),o.vivaldi&&(n.browser="vivaldi",o.vivaldi=!0),o.name=n.browser,o.platform=n.platform,e.indexOf("electron")>-1?o.electron=!0:document.location.href.indexOf("-extension://")>-1?o.bex=!0:(window.Capacitor!==void 0?(o.capacitor=!0,o.nativeMobile=!0,o.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(o.cordova=!0,o.nativeMobile=!0,o.nativeMobileWrapper="cordova"),hasTouch===!0&&o.mac===!0&&(o.desktop===!0&&o.safari===!0||o.nativeMobile===!0&&o.android!==!0&&o.ios!==!0&&o.ipad!==!0)&&applyIosCorrection(o)),o}const userAgent=navigator.userAgent||navigator.vendor||window.opera,ssrClient={has:{touch:!1,webStorage:!1},within:{iframe:!1}},client$1={userAgent,is:getPlatform(userAgent),has:{touch:hasTouch},within:{iframe:window.self!==window.top}},Platform={install(t){const{$q:e}=t;isRuntimeSsrPreHydration.value===!0?(t.onSSRHydrated.push(()=>{Object.assign(e.platform,client$1),isRuntimeSsrPreHydration.value=!1,iosCorrection=void 0}),e.platform=reactive(this)):e.platform=this}};{let t;injectProp(client$1.has,"webStorage",()=>{if(t!==void 0)return t;try{if(window.localStorage)return t=!0,!0}catch{}return t=!1,!1}),client$1.is.ios===!0&&window.navigator.vendor.toLowerCase().indexOf("apple"),isRuntimeSsrPreHydration.value===!0?Object.assign(Platform,client$1,iosCorrection,ssrClient):Object.assign(Platform,client$1)}var defineReactivePlugin=(t,e)=>{const r=reactive(t);for(const n in t)injectProp(e,n,()=>r[n],o=>{r[n]=o});return e};const listenOpts={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const t=Object.defineProperty({},"passive",{get(){Object.assign(listenOpts,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch{}function noop$6(){}function leftClick(t){return t.button===0}function position(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]?t=t.changedTouches[0]:t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),{top:t.clientY,left:t.clientX}}function getEventPath(t){if(t.path)return t.path;if(t.composedPath)return t.composedPath();const e=[];let r=t.target;for(;r;){if(e.push(r),r.tagName==="HTML")return e.push(document),e.push(window),e;r=r.parentElement}}function stop(t){t.stopPropagation()}function prevent(t){t.cancelable!==!1&&t.preventDefault()}function stopAndPrevent(t){t.cancelable!==!1&&t.preventDefault(),t.stopPropagation()}function preventDraggable(t,e){if(t===void 0||e===!0&&t.__dragPrevented===!0)return;const r=e===!0?n=>{n.__dragPrevented=!0,n.addEventListener("dragstart",prevent,listenOpts.notPassiveCapture)}:n=>{delete n.__dragPrevented,n.removeEventListener("dragstart",prevent,listenOpts.notPassiveCapture)};t.querySelectorAll("a, img").forEach(r)}function addEvt(t,e,r){const n=`__q_${e}_evt`;t[n]=t[n]!==void 0?t[n].concat(r):r,r.forEach(o=>{o[0].addEventListener(o[1],t[o[2]],listenOpts[o[3]])})}function cleanEvt(t,e){const r=`__q_${e}_evt`;t[r]!==void 0&&(t[r].forEach(n=>{n[0].removeEventListener(n[1],t[n[2]],listenOpts[n[3]])}),t[r]=void 0)}function debounce(t,e=250,r){let n=null;function o(){const s=arguments,a=()=>{n=null,r!==!0&&t.apply(this,s)};n!==null?clearTimeout(n):r===!0&&t.apply(this,s),n=setTimeout(a,e)}return o.cancel=()=>{n!==null&&clearTimeout(n)},o}const SIZE_LIST=["sm","md","lg","xl"],{passive}=listenOpts;var Screen=defineReactivePlugin({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:noop$6,setDebounce:noop$6,install({$q:t,onSSRHydrated:e}){if(t.screen=this,this.__installed===!0){t.config.screen!==void 0&&(t.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:r}=window,n=r||window,o=document.scrollingElement||document.documentElement,s=r===void 0||client$1.is.mobile===!0?()=>[Math.max(window.innerWidth,o.clientWidth),Math.max(window.innerHeight,o.clientHeight)]:()=>[r.width*r.scale+window.innerWidth-o.clientWidth,r.height*r.scale+window.innerHeight-o.clientHeight],a=t.config.screen!==void 0&&t.config.screen.bodyClasses===!0;this.__update=vr=>{const[Ar,Tr]=s();if(Tr!==this.height&&(this.height=Tr),Ar!==this.width)this.width=Ar;else if(vr!==!0)return;let Rr=this.sizes;this.gt.xs=Ar>=Rr.sm,this.gt.sm=Ar>=Rr.md,this.gt.md=Ar>=Rr.lg,this.gt.lg=Ar>=Rr.xl,this.lt.sm=Ar<Rr.sm,this.lt.md=Ar<Rr.md,this.lt.lg=Ar<Rr.lg,this.lt.xl=Ar<Rr.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,Rr=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",Rr!==this.name&&(a===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${Rr}`)),this.name=Rr)};let c,d={},m=16;this.setSizes=vr=>{SIZE_LIST.forEach(Ar=>{vr[Ar]!==void 0&&(d[Ar]=vr[Ar])})},this.setDebounce=vr=>{m=vr};const gr=()=>{const vr=getComputedStyle(document.body);vr.getPropertyValue("--q-size-sm")&&SIZE_LIST.forEach(Ar=>{this.sizes[Ar]=parseInt(vr.getPropertyValue(`--q-size-${Ar}`),10)}),this.setSizes=Ar=>{SIZE_LIST.forEach(Tr=>{Ar[Tr]&&(this.sizes[Tr]=Ar[Tr])}),this.__update(!0)},this.setDebounce=Ar=>{c!==void 0&&n.removeEventListener("resize",c,passive),c=Ar>0?debounce(this.__update,Ar):this.__update,n.addEventListener("resize",c,passive)},this.setDebounce(m),Object.keys(d).length!==0?(this.setSizes(d),d=void 0):this.__update(),a===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};isRuntimeSsrPreHydration.value===!0?e.push(gr):gr()}});const Plugin$2=defineReactivePlugin({isActive:!1,mode:!1},{__media:void 0,set(t){Plugin$2.mode=t,t==="auto"?(Plugin$2.__media===void 0&&(Plugin$2.__media=window.matchMedia("(prefers-color-scheme: dark)"),Plugin$2.__updateMedia=()=>{Plugin$2.set("auto")},Plugin$2.__media.addListener(Plugin$2.__updateMedia)),t=Plugin$2.__media.matches):Plugin$2.__media!==void 0&&(Plugin$2.__media.removeListener(Plugin$2.__updateMedia),Plugin$2.__media=void 0),Plugin$2.isActive=t===!0,document.body.classList.remove(`body--${t===!0?"light":"dark"}`),document.body.classList.add(`body--${t===!0?"dark":"light"}`)},toggle(){Plugin$2.set(Plugin$2.isActive===!1)},install({$q:t,onSSRHydrated:e,ssrContext:r}){const{dark:n}=t.config;if(t.dark=this,this.__installed===!0&&n===void 0)return;this.isActive=n===!0;const o=n!==void 0?n:!1;if(isRuntimeSsrPreHydration.value===!0){const s=c=>{this.__fromSSR=c},a=this.set;this.set=s,s(o),e.push(()=>{this.set=a,this.set(this.__fromSSR)})}else this.set(o)}}),getTrue=()=>!0;function filterInvalidPath(t){return typeof t=="string"&&t!==""&&t!=="/"&&t!=="#/"}function normalizeExitPath(t){return t.startsWith("#")===!0&&(t=t.substring(1)),t.startsWith("/")===!1&&(t="/"+t),t.endsWith("/")===!0&&(t=t.substring(0,t.length-1)),"#"+t}function getShouldExitFn(t){if(t.backButtonExit===!1)return()=>!1;if(t.backButtonExit==="*")return getTrue;const e=["#/"];return Array.isArray(t.backButtonExit)===!0&&e.push(...t.backButtonExit.filter(filterInvalidPath).map(normalizeExitPath)),()=>e.includes(window.location.hash)}var History={__history:[],add:noop$6,remove:noop$6,install({$q:t}){if(this.__installed===!0)return;const{cordova:e,capacitor:r}=client$1.is;if(e!==!0&&r!==!0)return;const n=t.config[e===!0?"cordova":"capacitor"];if(n!==void 0&&n.backButton===!1||r===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=a=>{a.condition===void 0&&(a.condition=getTrue),this.__history.push(a)},this.remove=a=>{const c=this.__history.indexOf(a);c>=0&&this.__history.splice(c,1)};const o=getShouldExitFn(Object.assign({backButtonExit:!0},n)),s=()=>{if(this.__history.length){const a=this.__history[this.__history.length-1];a.condition()===!0&&(this.__history.pop(),a.handler())}else o()===!0?navigator.app.exitApp():window.history.back()};e===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",s,!1)}):window.Capacitor.Plugins.App.addListener("backButton",s)}},defaultLang={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:t=>t?`Expand "${t}"`:"Expand",collapse:t=>t?`Collapse "${t}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:t=>t===1?"1 record selected.":(t===0?"No":t)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(t,e,r)=>t+"-"+e+" of "+r,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function getLocale(){const t=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof t=="string")return t.split(/[-_]/).map((e,r)=>r===0?e.toLowerCase():r>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase()).join("-")}const Plugin$1=defineReactivePlugin({__langPack:{}},{getLocale,set(t=defaultLang,e){const r={...t,rtl:t.rtl===!0,getLocale};{if(r.set=Plugin$1.set,Plugin$1.__langConfig===void 0||Plugin$1.__langConfig.noHtmlAttrs!==!0){const n=document.documentElement;n.setAttribute("dir",r.rtl===!0?"rtl":"ltr"),n.setAttribute("lang",r.isoName)}Object.assign(Plugin$1.__langPack,r),Plugin$1.props=r,Plugin$1.isoName=r.isoName,Plugin$1.nativeName=r.nativeName}},install({$q:t,lang:e,ssrContext:r}){t.lang=Plugin$1.__langPack,Plugin$1.__langConfig=t.config.lang,this.__installed===!0?e!==void 0&&this.set(e):this.set(e||defaultLang)}});function setCssVar(t,e,r=document.body){if(typeof t!="string")throw new TypeError("Expected a string as propName");if(typeof e!="string")throw new TypeError("Expected a string as value");if(!(r instanceof Element))throw new TypeError("Expected a DOM element");r.style.setProperty(`--q-${t}`,e)}let lastKeyCompositionStatus=!1;function onKeyDownComposition(t){lastKeyCompositionStatus=t.isComposing===!0}function shouldIgnoreKey(t){return lastKeyCompositionStatus===!0||t!==Object(t)||t.isComposing===!0||t.qKeyEvent===!0}function isKeyCode(t,e){return shouldIgnoreKey(t)===!0?!1:[].concat(e).includes(t.keyCode)}function getMobilePlatform(t){if(t.ios===!0)return"ios";if(t.android===!0)return"android"}function getBodyClasses({is:t,has:e,within:r},n){const o=[t.desktop===!0?"desktop":"mobile",`${e.touch===!1?"no-":""}touch`];if(t.mobile===!0){const s=getMobilePlatform(t);s!==void 0&&o.push("platform-"+s)}if(t.nativeMobile===!0){const s=t.nativeMobileWrapper;o.push(s),o.push("native-mobile"),t.ios===!0&&(n[s]===void 0||n[s].iosStatusBarPadding!==!1)&&o.push("q-ios-padding")}else t.electron===!0?o.push("electron"):t.bex===!0&&o.push("bex");return r.iframe===!0&&o.push("within-iframe"),o}function applyClientSsrCorrections(){const{is:t}=client$1,e=document.body.className,r=new Set(e.replace(/ {2}/g," ").split(" "));if(iosCorrection!==void 0)r.delete("desktop"),r.add("platform-ios"),r.add("mobile");else if(t.nativeMobile!==!0&&t.electron!==!0&&t.bex!==!0){if(t.desktop===!0)r.delete("mobile"),r.delete("platform-ios"),r.delete("platform-android"),r.add("desktop");else if(t.mobile===!0){r.delete("desktop"),r.add("mobile");const o=getMobilePlatform(t);o!==void 0?(r.add(`platform-${o}`),r.delete(`platform-${o==="ios"?"android":"ios"}`)):(r.delete("platform-ios"),r.delete("platform-android"))}}client$1.has.touch===!0&&(r.delete("no-touch"),r.add("touch")),client$1.within.iframe===!0&&r.add("within-iframe");const n=Array.from(r).join(" ");e!==n&&(document.body.className=n)}function setColors(t){for(const e in t)setCssVar(e,t[e])}var Body={install(t){if(this.__installed!==!0){if(isRuntimeSsrPreHydration.value===!0)applyClientSsrCorrections();else{const{$q:e}=t;e.config.brand!==void 0&&setColors(e.config.brand);const r=getBodyClasses(client$1,e.config);document.body.classList.add.apply(document.body.classList,r)}client$1.is.ios===!0&&document.body.addEventListener("touchstart",noop$6),window.addEventListener("keydown",onKeyDownComposition,!0)}}},materialIcons={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const Plugin=defineReactivePlugin({iconMapFn:null,__icons:{}},{set(t,e){const r={...t,rtl:t.rtl===!0};r.set=Plugin.set,Object.assign(Plugin.__icons,r)},install({$q:t,iconSet:e,ssrContext:r}){t.config.iconMapFn!==void 0&&(this.iconMapFn=t.config.iconMapFn),t.iconSet=this.__icons,injectProp(t,"iconMapFn",()=>this.iconMapFn,n=>{this.iconMapFn=n}),this.__installed===!0?e!==void 0&&this.set(e):this.set(e||materialIcons)}}),quasarKey="_q_",layoutKey="_q_l_",pageContainerKey="_q_pc_",formKey="_q_fo_",tabsKey="_q_tabs_",emptyRenderFn=()=>{},globalConfig={};let globalConfigIsFrozen=!1;function freezeGlobalConfig(){globalConfigIsFrozen=!0}function isDeepEqual$2(t,e){if(t===e)return!0;if(t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let r,n;if(t.constructor===Array){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(isDeepEqual$2(t[n],e[n])!==!0)return!1;return!0}if(t.constructor===Map){if(t.size!==e.size)return!1;let s=t.entries();for(n=s.next();n.done!==!0;){if(e.has(n.value[0])!==!0)return!1;n=s.next()}for(s=t.entries(),n=s.next();n.done!==!0;){if(isDeepEqual$2(n.value[1],e.get(n.value[0]))!==!0)return!1;n=s.next()}return!0}if(t.constructor===Set){if(t.size!==e.size)return!1;const s=t.entries();for(n=s.next();n.done!==!0;){if(e.has(n.value[0])!==!0)return!1;n=s.next()}return!0}if(t.buffer!=null&&t.buffer.constructor===ArrayBuffer){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const o=Object.keys(t).filter(s=>t[s]!==void 0);if(r=o.length,r!==Object.keys(e).filter(s=>e[s]!==void 0).length)return!1;for(n=r;n--!==0;){const s=o[n];if(isDeepEqual$2(t[s],e[s])!==!0)return!1}return!0}return t!==t&&e!==e}function isObject$5(t){return t!==null&&typeof t=="object"&&Array.isArray(t)!==!0}function isDate$3(t){return Object.prototype.toString.call(t)==="[object Date]"}function isNumber$2(t){return typeof t=="number"&&isFinite(t)}const autoInstalledPlugins=[Platform,Body,Plugin$2,Screen,History,Plugin$1,Plugin];function createChildApp(t,e){const r=createApp(t);r.config.globalProperties=e.config.globalProperties;const{reload:n,...o}=e._context;return Object.assign(r._context,o),r}function installPlugins(t,e){e.forEach(r=>{r.install(t),r.__installed=!0})}function prepareApp(t,e,r){t.config.globalProperties.$q=r.$q,t.provide(quasarKey,r.$q),installPlugins(r,autoInstalledPlugins),e.components!==void 0&&Object.values(e.components).forEach(n=>{isObject$5(n)===!0&&n.name!==void 0&&t.component(n.name,n)}),e.directives!==void 0&&Object.values(e.directives).forEach(n=>{isObject$5(n)===!0&&n.name!==void 0&&t.directive(n.name,n)}),e.plugins!==void 0&&installPlugins(r,Object.values(e.plugins).filter(n=>typeof n.install=="function"&&autoInstalledPlugins.includes(n)===!1)),isRuntimeSsrPreHydration.value===!0&&(r.$q.onSSRHydrated=()=>{r.onSSRHydrated.forEach(n=>{n()}),r.$q.onSSRHydrated=()=>{}})}var installQuasar=function(t,e={}){const r={version:"2.14.0"};globalConfigIsFrozen===!1?(e.config!==void 0&&Object.assign(globalConfig,e.config),r.config={...globalConfig},freezeGlobalConfig()):r.config=e.config||{},prepareApp(t,e,{parentApp:t,$q:r,lang:e.lang,iconSet:e.iconSet,onSSRHydrated:[]})},Quasar={version:"2.14.0",install:installQuasar,lang:Plugin$1,iconSet:Plugin};function useQuasar(){return inject(quasarKey)}var isVue2=!1;let activePinia;const setActivePinia=t=>activePinia=t,piniaSymbol=Symbol();function isPlainObject$2(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var MutationType;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const t=effectScope(!0),e=t.run(()=>ref({}));let r=[],n=[];const o=markRaw({install(s){setActivePinia(o),o._a=s,s.provide(piniaSymbol,o),s.config.globalProperties.$pinia=o,n.forEach(a=>r.push(a)),n=[]},use(s){return!this._a&&!isVue2?n.push(s):r.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return o}const noop$5=()=>{};function addSubscription(t,e,r,n=noop$5){t.push(e);const o=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&getCurrentScope()&&onScopeDispose(o),o}function triggerSubscriptions(t,...e){t.slice().forEach(r=>{r(...e)})}const fallbackRunWithContext=t=>t();function mergeReactiveObjects(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,n)=>t.set(n,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],o=t[r];isPlainObject$2(o)&&isPlainObject$2(n)&&t.hasOwnProperty(r)&&!isRef(n)&&!isReactive(n)?t[r]=mergeReactiveObjects(o,n):t[r]=n}return t}const skipHydrateSymbol=Symbol();function shouldHydrate(t){return!isPlainObject$2(t)||!t.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed$1(t){return!!(isRef(t)&&t.effect)}function createOptionsStore(t,e,r,n){const{state:o,actions:s,getters:a}=e,c=r.state.value[t];let d;function m(){c||(r.state.value[t]=o?o():{});const gr=toRefs(r.state.value[t]);return assign$3(gr,s,Object.keys(a||{}).reduce((vr,Ar)=>(vr[Ar]=markRaw(computed$1(()=>{setActivePinia(r);const Tr=r._s.get(t);return a[Ar].call(Tr,Tr)})),vr),{}))}return d=createSetupStore(t,m,e,r,n,!0),d}function createSetupStore(t,e,r={},n,o,s){let a;const c=assign$3({actions:{}},r),d={deep:!0};let m,gr,vr=[],Ar=[],Tr;const Rr=n.state.value[t];!s&&!Rr&&(n.state.value[t]={}),ref({});let kr;function xr(Vr){let Xr;m=gr=!1,typeof Vr=="function"?(Vr(n.state.value[t]),Xr={type:MutationType.patchFunction,storeId:t,events:Tr}):(mergeReactiveObjects(n.state.value[t],Vr),Xr={type:MutationType.patchObject,payload:Vr,storeId:t,events:Tr});const Yr=kr=Symbol();nextTick().then(()=>{kr===Yr&&(m=!0)}),gr=!0,triggerSubscriptions(vr,Xr,n.state.value[t])}const Dr=s?function(){const{state:Xr}=r,Yr=Xr?Xr():{};this.$patch(tn=>{assign$3(tn,Yr)})}:noop$5;function Ur(){a.stop(),vr=[],Ar=[],n._s.delete(t)}function Cr(Vr,Xr){return function(){setActivePinia(n);const Yr=Array.from(arguments),tn=[],an=[];function Lr(jr){tn.push(jr)}function Er(jr){an.push(jr)}triggerSubscriptions(Ar,{args:Yr,name:Vr,store:Hr,after:Lr,onError:Er});let Or;try{Or=Xr.apply(this&&this.$id===t?this:Hr,Yr)}catch(jr){throw triggerSubscriptions(an,jr),jr}return Or instanceof Promise?Or.then(jr=>(triggerSubscriptions(tn,jr),jr)).catch(jr=>(triggerSubscriptions(an,jr),Promise.reject(jr))):(triggerSubscriptions(tn,Or),Or)}}const Nr={_p:n,$id:t,$onAction:addSubscription.bind(null,Ar),$patch:xr,$reset:Dr,$subscribe(Vr,Xr={}){const Yr=addSubscription(vr,Vr,Xr.detached,()=>tn()),tn=a.run(()=>watch(()=>n.state.value[t],an=>{(Xr.flush==="sync"?gr:m)&&Vr({storeId:t,type:MutationType.direct,events:Tr},an)},assign$3({},d,Xr)));return Yr},$dispose:Ur},Hr=reactive(Nr);n._s.set(t,Hr);const Fr=(n._a&&n._a.runWithContext||fallbackRunWithContext)(()=>n._e.run(()=>(a=effectScope()).run(e)));for(const Vr in Fr){const Xr=Fr[Vr];if(isRef(Xr)&&!isComputed$1(Xr)||isReactive(Xr))s||(Rr&&shouldHydrate(Xr)&&(isRef(Xr)?Xr.value=Rr[Vr]:mergeReactiveObjects(Xr,Rr[Vr])),n.state.value[t][Vr]=Xr);else if(typeof Xr=="function"){const Yr=Cr(Vr,Xr);Fr[Vr]=Yr,c.actions[Vr]=Xr}}return assign$3(Hr,Fr),assign$3(toRaw(Hr),Fr),Object.defineProperty(Hr,"$state",{get:()=>n.state.value[t],set:Vr=>{xr(Xr=>{assign$3(Xr,Vr)})}}),n._p.forEach(Vr=>{assign$3(Hr,a.run(()=>Vr({store:Hr,app:n._a,pinia:n,options:c})))}),Rr&&s&&r.hydrate&&r.hydrate(Hr.$state,Rr),m=!0,gr=!0,Hr}function defineStore(t,e,r){let n,o;const s=typeof e=="function";typeof t=="string"?(n=t,o=s?r:e):(o=t,n=t.id);function a(c,d){const m=hasInjectionContext();return c=c||(m?inject(piniaSymbol,null):null),c&&setActivePinia(c),c=activePinia,c._s.has(n)||(s?createSetupStore(n,e,o,c):createOptionsStore(n,o,c)),c._s.get(n)}return a.$id=n,a}function number$1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function bytes(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function hash(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(t.outputLen),number$1(t.blockLen)}function exists(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function output(t,e){bytes(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const crypto$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=t=>t instanceof Uint8Array,u32$2=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),rotr=(t,e)=>t<<32-e|t>>>e,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$1(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function toBytes(t){if(typeof t=="string"&&(t=utf8ToBytes$1(t)),!u8a$1(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function concatBytes$1(...t){const e=new Uint8Array(t.reduce((n,o)=>n+o.length,0));let r=0;return t.forEach(n=>{if(!u8a$1(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(t){const e=n=>t().update(toBytes(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function randomBytes(t=32){if(crypto$1&&typeof crypto$1.getRandomValues=="function")return crypto$1.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const o=BigInt(32),s=BigInt(4294967295),a=Number(r>>o&s),c=Number(r&s),d=n?4:0,m=n?0:4;t.setUint32(e+d,a,n),t.setUint32(e+m,c,n)}class SHA2 extends Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){exists(this);const{view:r,buffer:n,blockLen:o}=this;e=toBytes(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(o-this.pos,s-a);if(c===o){const d=createView(e);for(;o<=s-a;a+=o)this.process(d,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists(this),output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:o,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let vr=a;vr<o;vr++)r[vr]=0;setBigUint64(n,o-8,BigInt(this.length*8),s),this.process(n,0);const c=createView(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=d/4,gr=this.get();if(m>gr.length)throw new Error("_sha2: outputLen bigger than state");for(let vr=0;vr<m;vr++)c.setUint32(4*vr,gr[vr],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:o,finished:s,destroyed:a,pos:c}=this;return e.length=o,e.pos=c,e.finished=s,e.destroyed=a,o%r&&e.buffer.set(n),e}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(t,e=!1){return e?{h:Number(t&U32_MASK64),l:Number(t>>_32n&U32_MASK64)}:{h:Number(t>>_32n&U32_MASK64)|0,l:Number(t&U32_MASK64)|0}}function split(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:s,l:a}=fromBig(t[o],e);[r[o],n[o]]=[s,a]}return[r,n]}const toBig=(t,e)=>BigInt(t>>>0)<<_32n|BigInt(e>>>0),shrSH=(t,e,r)=>t>>>r,shrSL=(t,e,r)=>t<<32-r|e>>>r,rotrSH=(t,e,r)=>t>>>r|e<<32-r,rotrSL=(t,e,r)=>t<<32-r|e>>>r,rotrBH=(t,e,r)=>t<<64-r|e>>>r-32,rotrBL=(t,e,r)=>t>>>r-32|e<<64-r,rotr32H=(t,e)=>e,rotr32L=(t,e)=>t,rotlSH=(t,e,r)=>t<<r|e>>>32-r,rotlSL=(t,e,r)=>e<<r|t>>>32-r,rotlBH=(t,e,r)=>e<<r-32|t>>>64-r,rotlBL=(t,e,r)=>t<<r-32|e>>>64-r;function add(t,e,r,n){const o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}const add3L=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,add5L=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),add5H=(t,e,r,n,o,s)=>e+r+n+o+s+(t/2**32|0)|0,u64$2={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};var u64$3=u64$2;const[SHA512_Kh,SHA512_Kl]=(()=>u64$3.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:o,Ch:s,Cl:a,Dh:c,Dl:d,Eh:m,El:gr,Fh:vr,Fl:Ar,Gh:Tr,Gl:Rr,Hh:kr,Hl:xr}=this;return[e,r,n,o,s,a,c,d,m,gr,vr,Ar,Tr,Rr,kr,xr]}set(e,r,n,o,s,a,c,d,m,gr,vr,Ar,Tr,Rr,kr,xr){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=d|0,this.Eh=m|0,this.El=gr|0,this.Fh=vr|0,this.Fl=Ar|0,this.Gh=Tr|0,this.Gl=Rr|0,this.Hh=kr|0,this.Hl=xr|0}process(e,r){for(let Cr=0;Cr<16;Cr++,r+=4)SHA512_W_H[Cr]=e.getUint32(r),SHA512_W_L[Cr]=e.getUint32(r+=4);for(let Cr=16;Cr<80;Cr++){const Nr=SHA512_W_H[Cr-15]|0,Hr=SHA512_W_L[Cr-15]|0,Mr=u64$3.rotrSH(Nr,Hr,1)^u64$3.rotrSH(Nr,Hr,8)^u64$3.shrSH(Nr,Hr,7),Fr=u64$3.rotrSL(Nr,Hr,1)^u64$3.rotrSL(Nr,Hr,8)^u64$3.shrSL(Nr,Hr,7),Vr=SHA512_W_H[Cr-2]|0,Xr=SHA512_W_L[Cr-2]|0,Yr=u64$3.rotrSH(Vr,Xr,19)^u64$3.rotrBH(Vr,Xr,61)^u64$3.shrSH(Vr,Xr,6),tn=u64$3.rotrSL(Vr,Xr,19)^u64$3.rotrBL(Vr,Xr,61)^u64$3.shrSL(Vr,Xr,6),an=u64$3.add4L(Fr,tn,SHA512_W_L[Cr-7],SHA512_W_L[Cr-16]),Lr=u64$3.add4H(an,Mr,Yr,SHA512_W_H[Cr-7],SHA512_W_H[Cr-16]);SHA512_W_H[Cr]=Lr|0,SHA512_W_L[Cr]=an|0}let{Ah:n,Al:o,Bh:s,Bl:a,Ch:c,Cl:d,Dh:m,Dl:gr,Eh:vr,El:Ar,Fh:Tr,Fl:Rr,Gh:kr,Gl:xr,Hh:Dr,Hl:Ur}=this;for(let Cr=0;Cr<80;Cr++){const Nr=u64$3.rotrSH(vr,Ar,14)^u64$3.rotrSH(vr,Ar,18)^u64$3.rotrBH(vr,Ar,41),Hr=u64$3.rotrSL(vr,Ar,14)^u64$3.rotrSL(vr,Ar,18)^u64$3.rotrBL(vr,Ar,41),Mr=vr&Tr^~vr&kr,Fr=Ar&Rr^~Ar&xr,Vr=u64$3.add5L(Ur,Hr,Fr,SHA512_Kl[Cr],SHA512_W_L[Cr]),Xr=u64$3.add5H(Vr,Dr,Nr,Mr,SHA512_Kh[Cr],SHA512_W_H[Cr]),Yr=Vr|0,tn=u64$3.rotrSH(n,o,28)^u64$3.rotrBH(n,o,34)^u64$3.rotrBH(n,o,39),an=u64$3.rotrSL(n,o,28)^u64$3.rotrBL(n,o,34)^u64$3.rotrBL(n,o,39),Lr=n&s^n&c^s&c,Er=o&a^o&d^a&d;Dr=kr|0,Ur=xr|0,kr=Tr|0,xr=Rr|0,Tr=vr|0,Rr=Ar|0,{h:vr,l:Ar}=u64$3.add(m|0,gr|0,Xr|0,Yr|0),m=c|0,gr=d|0,c=s|0,d=a|0,s=n|0,a=o|0;const Or=u64$3.add3L(Yr,an,Er);n=u64$3.add3H(Or,Xr,tn,Lr),o=Or|0}({h:n,l:o}=u64$3.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:s,l:a}=u64$3.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:d}=u64$3.add(this.Ch|0,this.Cl|0,c|0,d|0),{h:m,l:gr}=u64$3.add(this.Dh|0,this.Dl|0,m|0,gr|0),{h:vr,l:Ar}=u64$3.add(this.Eh|0,this.El|0,vr|0,Ar|0),{h:Tr,l:Rr}=u64$3.add(this.Fh|0,this.Fl|0,Tr|0,Rr|0),{h:kr,l:xr}=u64$3.add(this.Gh|0,this.Gl|0,kr|0,xr|0),{h:Dr,l:Ur}=u64$3.add(this.Hh|0,this.Hl|0,Dr|0,Ur|0),this.set(n,o,s,a,c,d,m,gr,vr,Ar,Tr,Rr,kr,xr,Dr,Ur)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512=wrapConstructor(()=>new SHA512);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$5=BigInt(0),_1n$7=BigInt(1),_2n$5=BigInt(2),u8a=t=>t instanceof Uint8Array,hexes=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex(t){if(!u8a(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=hexes[t[r]];return e}function numberToHexUnpadded(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function hexToNumber(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function hexToBytes(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const o=n*2,s=t.slice(o,o+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}function bytesToNumberBE(t){return hexToNumber(bytesToHex(t))}function bytesToNumberLE(t){if(!u8a(t))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(t).reverse()))}function numberToBytesBE(t,e){return hexToBytes(t.toString(16).padStart(e*2,"0"))}function numberToBytesLE(t,e){return numberToBytesBE(t,e).reverse()}function numberToVarBytesBE(t){return hexToBytes(numberToHexUnpadded(t))}function ensureBytes(t,e,r){let n;if(typeof e=="string")try{n=hexToBytes(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(u8a(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const o=n.length;if(typeof r=="number"&&o!==r)throw new Error(`${t} expected ${r} bytes, got ${o}`);return n}function concatBytes(...t){const e=new Uint8Array(t.reduce((n,o)=>n+o.length,0));let r=0;return t.forEach(n=>{if(!u8a(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function equalBytes(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function utf8ToBytes(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function bitLen(t){let e;for(e=0;t>_0n$5;t>>=_1n$7,e+=1);return e}function bitGet(t,e){return t>>BigInt(e)&_1n$7}const bitSet=(t,e,r)=>t|(r?_1n$7:_0n$5)<<BigInt(e),bitMask=t=>(_2n$5<<BigInt(t-1))-_1n$7,u8n=t=>new Uint8Array(t),u8fr=t=>Uint8Array.from(t);function createHmacDrbg(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=u8n(t),o=u8n(t),s=0;const a=()=>{n.fill(1),o.fill(0),s=0},c=(...vr)=>r(o,n,...vr),d=(vr=u8n())=>{o=c(u8fr([0]),vr),n=c(),vr.length!==0&&(o=c(u8fr([1]),vr),n=c())},m=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let vr=0;const Ar=[];for(;vr<e;){n=c();const Tr=n.slice();Ar.push(Tr),vr+=n.length}return concatBytes(...Ar)};return(vr,Ar)=>{a(),d(vr);let Tr;for(;!(Tr=Ar(m()));)d();return a(),Tr}}const validatorFns={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function validateObject(t,e,r={}){const n=(o,s,a)=>{const c=validatorFns[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);const d=t[o];if(!(a&&d===void 0)&&!c(d,t))throw new Error(`Invalid param ${String(o)}=${d} (${typeof d}), expected ${s}`)};for(const[o,s]of Object.entries(e))n(o,s,!1);for(const[o,s]of Object.entries(r))n(o,s,!0);return t}var ut$1=Object.freeze(Object.defineProperty({__proto__:null,bytesToHex,numberToHexUnpadded,hexToNumber,hexToBytes,bytesToNumberBE,bytesToNumberLE,numberToBytesBE,numberToBytesLE,numberToVarBytesBE,ensureBytes,concatBytes,equalBytes,utf8ToBytes,bitLen,bitGet,bitSet,bitMask,createHmacDrbg,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$6=BigInt(1),_2n$4=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$1=BigInt(8);BigInt(9);BigInt(16);function mod(t,e){const r=t%e;return r>=_0n$4?r:e+r}function pow(t,e,r){if(r<=_0n$4||e<_0n$4)throw new Error("Expected power/modulo > 0");if(r===_1n$6)return _0n$4;let n=_1n$6;for(;e>_0n$4;)e&_1n$6&&(n=n*t%r),t=t*t%r,e>>=_1n$6;return n}function pow2(t,e,r){let n=t;for(;e-- >_0n$4;)n*=n,n%=r;return n}function invert(t,e){if(t===_0n$4||e<=_0n$4)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=mod(t,e),n=e,o=_0n$4,s=_1n$6;for(;r!==_0n$4;){const c=n/r,d=n%r,m=o-s*c;n=r,r=d,o=s,s=m}if(n!==_1n$6)throw new Error("invert: does not exist");return mod(o,e)}function tonelliShanks(t){const e=(t-_1n$6)/_2n$4;let r,n,o;for(r=t-_1n$6,n=0;r%_2n$4===_0n$4;r/=_2n$4,n++);for(o=_2n$4;o<t&&pow(o,e,t)!==t-_1n$6;o++);if(n===1){const a=(t+_1n$6)/_4n;return function(d,m){const gr=d.pow(m,a);if(!d.eql(d.sqr(gr),m))throw new Error("Cannot find square root");return gr}}const s=(r+_1n$6)/_2n$4;return function(c,d){if(c.pow(d,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let m=n,gr=c.pow(c.mul(c.ONE,o),r),vr=c.pow(d,s),Ar=c.pow(d,r);for(;!c.eql(Ar,c.ONE);){if(c.eql(Ar,c.ZERO))return c.ZERO;let Tr=1;for(let kr=c.sqr(Ar);Tr<m&&!c.eql(kr,c.ONE);Tr++)kr=c.sqr(kr);const Rr=c.pow(gr,_1n$6<<BigInt(m-Tr-1));gr=c.sqr(Rr),vr=c.mul(vr,Rr),Ar=c.mul(Ar,gr),m=Tr}return vr}}function FpSqrt(t){if(t%_4n===_3n$1){const e=(t+_1n$6)/_4n;return function(n,o){const s=n.pow(o,e);if(!n.eql(n.sqr(s),o))throw new Error("Cannot find square root");return s}}if(t%_8n$1===_5n$1){const e=(t-_5n$1)/_8n$1;return function(n,o){const s=n.mul(o,_2n$4),a=n.pow(s,e),c=n.mul(o,a),d=n.mul(n.mul(c,_2n$4),a),m=n.mul(c,n.sub(d,n.ONE));if(!n.eql(n.sqr(m),o))throw new Error("Cannot find square root");return m}}return tonelliShanks(t)}const isNegativeLE=(t,e)=>(mod(t,e)&_1n$6)===_1n$6,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=FIELD_FIELDS.reduce((n,o)=>(n[o]="function",n),e);return validateObject(t,r)}function FpPow(t,e,r){if(r<_0n$4)throw new Error("Expected power > 0");if(r===_0n$4)return t.ONE;if(r===_1n$6)return e;let n=t.ONE,o=e;for(;r>_0n$4;)r&_1n$6&&(n=t.mul(n,o)),o=t.sqr(o),r>>=_1n$6;return n}function FpInvertBatch(t,e){const r=new Array(e.length),n=e.reduce((s,a,c)=>t.is0(a)?s:(r[c]=s,t.mul(s,a)),t.ONE),o=t.inv(n);return e.reduceRight((s,a,c)=>t.is0(a)?s:(r[c]=t.mul(s,r[c]),t.mul(s,a)),o),r}function nLength(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Field(t,e,r=!1,n={}){if(t<=_0n$4)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:o,nByteLength:s}=nLength(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=FpSqrt(t),c=Object.freeze({ORDER:t,BITS:o,BYTES:s,MASK:bitMask(o),ZERO:_0n$4,ONE:_1n$6,create:d=>mod(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return _0n$4<=d&&d<t},is0:d=>d===_0n$4,isOdd:d=>(d&_1n$6)===_1n$6,neg:d=>mod(-d,t),eql:(d,m)=>d===m,sqr:d=>mod(d*d,t),add:(d,m)=>mod(d+m,t),sub:(d,m)=>mod(d-m,t),mul:(d,m)=>mod(d*m,t),pow:(d,m)=>FpPow(c,d,m),div:(d,m)=>mod(d*invert(m,t),t),sqrN:d=>d*d,addN:(d,m)=>d+m,subN:(d,m)=>d-m,mulN:(d,m)=>d*m,inv:d=>invert(d,t),sqrt:n.sqrt||(d=>a(c,d)),invertBatch:d=>FpInvertBatch(c,d),cmov:(d,m,gr)=>gr?m:d,toBytes:d=>r?numberToBytesLE(d,s):numberToBytesBE(d,s),fromBytes:d=>{if(d.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${d.length}`);return r?bytesToNumberLE(d):bytesToNumberBE(d)}});return Object.freeze(c)}function FpSqrtEven(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function getFieldBytesLength(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function getMinHashLength(t){const e=getFieldBytesLength(t);return e+Math.ceil(e/2)}function mapHashToField(t,e,r=!1){const n=t.length,o=getFieldBytesLength(e),s=getMinHashLength(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const a=r?bytesToNumberBE(t):bytesToNumberLE(t),c=mod(a,e-_1n$6)+_1n$6;return r?numberToBytesLE(c,o):numberToBytesBE(c,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$5=BigInt(1);function wNAF(t,e){const r=(o,s)=>{const a=s.negate();return o?a:s},n=o=>{const s=Math.ceil(e/o)+1,a=2**(o-1);return{windows:s,windowSize:a}};return{constTimeNegate:r,unsafeLadder(o,s){let a=t.ZERO,c=o;for(;s>_0n$3;)s&_1n$5&&(a=a.add(c)),c=c.double(),s>>=_1n$5;return a},precomputeWindow(o,s){const{windows:a,windowSize:c}=n(s),d=[];let m=o,gr=m;for(let vr=0;vr<a;vr++){gr=m,d.push(gr);for(let Ar=1;Ar<c;Ar++)gr=gr.add(m),d.push(gr);m=gr.double()}return d},wNAF(o,s,a){const{windows:c,windowSize:d}=n(o);let m=t.ZERO,gr=t.BASE;const vr=BigInt(2**o-1),Ar=2**o,Tr=BigInt(o);for(let Rr=0;Rr<c;Rr++){const kr=Rr*d;let xr=Number(a&vr);a>>=Tr,xr>d&&(xr-=Ar,a+=_1n$5);const Dr=kr,Ur=kr+Math.abs(xr)-1,Cr=Rr%2!==0,Nr=xr<0;xr===0?gr=gr.add(r(Cr,s[Dr])):m=m.add(r(Nr,s[Ur]))}return{p:m,f:gr}},wNAFCached(o,s,a,c){const d=o._WINDOW_SIZE||1;let m=s.get(o);return m||(m=this.precomputeWindow(o,d),d!==1&&s.set(o,c(m))),this.wNAF(d,m,a)}}}function validateBasic(t){return validateField(t.Fp),validateObject(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$4=BigInt(1),_2n$3=BigInt(2),_8n=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(t){const e=validateBasic(t);return validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function twistedEdwards(t){const e=validateOpts$1(t),{Fp:r,n,prehash:o,hash:s,randomBytes:a,nByteLength:c,h:d}=e,m=_2n$3<<BigInt(c*8)-_1n$4,gr=r.create,vr=e.uvRatio||((qr,Jr)=>{try{return{isValid:!0,value:r.sqrt(qr*r.inv(Jr))}}catch{return{isValid:!1,value:_0n$2}}}),Ar=e.adjustScalarBytes||(qr=>qr),Tr=e.domain||((qr,Jr,en)=>{if(Jr.length||en)throw new Error("Contexts/pre-hash are not supported");return qr}),Rr=qr=>typeof qr=="bigint"&&_0n$2<qr,kr=(qr,Jr)=>Rr(qr)&&Rr(Jr)&&qr<Jr,xr=qr=>qr===_0n$2||kr(qr,m);function Dr(qr,Jr){if(kr(qr,Jr))return qr;throw new Error(`Expected valid scalar < ${Jr}, got ${typeof qr} ${qr}`)}function Ur(qr){return qr===_0n$2?qr:Dr(qr,n)}const Cr=new Map;function Nr(qr){if(!(qr instanceof Hr))throw new Error("ExtendedPoint expected")}class Hr{constructor(Jr,en,Kr,Ir){if(this.ex=Jr,this.ey=en,this.ez=Kr,this.et=Ir,!xr(Jr))throw new Error("x required");if(!xr(en))throw new Error("y required");if(!xr(Kr))throw new Error("z required");if(!xr(Ir))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Jr){if(Jr instanceof Hr)throw new Error("extended point not allowed");const{x:en,y:Kr}=Jr||{};if(!xr(en)||!xr(Kr))throw new Error("invalid affine point");return new Hr(en,Kr,_1n$4,gr(en*Kr))}static normalizeZ(Jr){const en=r.invertBatch(Jr.map(Kr=>Kr.ez));return Jr.map((Kr,Ir)=>Kr.toAffine(en[Ir])).map(Hr.fromAffine)}_setWindowSize(Jr){this._WINDOW_SIZE=Jr,Cr.delete(this)}assertValidity(){const{a:Jr,d:en}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:Kr,ey:Ir,ez:zr,et:un}=this,vn=gr(Kr*Kr),_n=gr(Ir*Ir),dn=gr(zr*zr),gn=gr(dn*dn),yn=gr(vn*Jr),Tn=gr(dn*gr(yn+_n)),Dn=gr(gn+gr(en*gr(vn*_n)));if(Tn!==Dn)throw new Error("bad point: equation left != right (1)");const sn=gr(Kr*Ir),cn=gr(zr*un);if(sn!==cn)throw new Error("bad point: equation left != right (2)")}equals(Jr){Nr(Jr);const{ex:en,ey:Kr,ez:Ir}=this,{ex:zr,ey:un,ez:vn}=Jr,_n=gr(en*vn),dn=gr(zr*Ir),gn=gr(Kr*vn),yn=gr(un*Ir);return _n===dn&&gn===yn}is0(){return this.equals(Hr.ZERO)}negate(){return new Hr(gr(-this.ex),this.ey,this.ez,gr(-this.et))}double(){const{a:Jr}=e,{ex:en,ey:Kr,ez:Ir}=this,zr=gr(en*en),un=gr(Kr*Kr),vn=gr(_2n$3*gr(Ir*Ir)),_n=gr(Jr*zr),dn=en+Kr,gn=gr(gr(dn*dn)-zr-un),yn=_n+un,Tn=yn-vn,Dn=_n-un,sn=gr(gn*Tn),cn=gr(yn*Dn),fn=gr(gn*Dn),Sn=gr(Tn*yn);return new Hr(sn,cn,Sn,fn)}add(Jr){Nr(Jr);const{a:en,d:Kr}=e,{ex:Ir,ey:zr,ez:un,et:vn}=this,{ex:_n,ey:dn,ez:gn,et:yn}=Jr;if(en===BigInt(-1)){const Un=gr((zr-Ir)*(dn+_n)),Fn=gr((zr+Ir)*(dn-_n)),Kn=gr(Fn-Un);if(Kn===_0n$2)return this.double();const jn=gr(un*_2n$3*yn),zn=gr(vn*_2n$3*gn),wr=zn+jn,y=Fn+Un,_r=zn-jn,$r=gr(wr*Kn),Br=gr(y*_r),Wr=gr(wr*_r),Qr=gr(Kn*y);return new Hr($r,Br,Qr,Wr)}const Tn=gr(Ir*_n),Dn=gr(zr*dn),sn=gr(vn*Kr*yn),cn=gr(un*gn),fn=gr((Ir+zr)*(_n+dn)-Tn-Dn),Sn=cn-sn,On=cn+sn,An=gr(Dn-en*Tn),Ln=gr(fn*Sn),pn=gr(On*An),kn=gr(fn*An),En=gr(Sn*On);return new Hr(Ln,pn,En,kn)}subtract(Jr){return this.add(Jr.negate())}wNAF(Jr){return Vr.wNAFCached(this,Cr,Jr,Hr.normalizeZ)}multiply(Jr){const{p:en,f:Kr}=this.wNAF(Dr(Jr,n));return Hr.normalizeZ([en,Kr])[0]}multiplyUnsafe(Jr){let en=Ur(Jr);return en===_0n$2?Fr:this.equals(Fr)||en===_1n$4?this:this.equals(Mr)?this.wNAF(en).p:Vr.unsafeLadder(this,en)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return Vr.unsafeLadder(this,n).is0()}toAffine(Jr){const{ex:en,ey:Kr,ez:Ir}=this,zr=this.is0();Jr==null&&(Jr=zr?_8n:r.inv(Ir));const un=gr(en*Jr),vn=gr(Kr*Jr),_n=gr(Ir*Jr);if(zr)return{x:_0n$2,y:_1n$4};if(_n!==_1n$4)throw new Error("invZ was invalid");return{x:un,y:vn}}clearCofactor(){const{h:Jr}=e;return Jr===_1n$4?this:this.multiplyUnsafe(Jr)}static fromHex(Jr,en=!1){const{d:Kr,a:Ir}=e,zr=r.BYTES;Jr=ensureBytes("pointHex",Jr,zr);const un=Jr.slice(),vn=Jr[zr-1];un[zr-1]=vn&-129;const _n=bytesToNumberLE(un);_n===_0n$2||(en?Dr(_n,m):Dr(_n,r.ORDER));const dn=gr(_n*_n),gn=gr(dn-_1n$4),yn=gr(Kr*dn-Ir);let{isValid:Tn,value:Dn}=vr(gn,yn);if(!Tn)throw new Error("Point.fromHex: invalid y coordinate");const sn=(Dn&_1n$4)===_1n$4,cn=(vn&128)!==0;if(!en&&Dn===_0n$2&&cn)throw new Error("Point.fromHex: x=0 and x_0=1");return cn!==sn&&(Dn=gr(-Dn)),Hr.fromAffine({x:Dn,y:_n})}static fromPrivateKey(Jr){return tn(Jr).point}toRawBytes(){const{x:Jr,y:en}=this.toAffine(),Kr=numberToBytesLE(en,r.BYTES);return Kr[Kr.length-1]|=Jr&_1n$4?128:0,Kr}toHex(){return bytesToHex(this.toRawBytes())}}Hr.BASE=new Hr(e.Gx,e.Gy,_1n$4,gr(e.Gx*e.Gy)),Hr.ZERO=new Hr(_0n$2,_1n$4,_1n$4,_0n$2);const{BASE:Mr,ZERO:Fr}=Hr,Vr=wNAF(Hr,c*8);function Xr(qr){return mod(qr,n)}function Yr(qr){return Xr(bytesToNumberLE(qr))}function tn(qr){const Jr=c;qr=ensureBytes("private key",qr,Jr);const en=ensureBytes("hashed private key",s(qr),2*Jr),Kr=Ar(en.slice(0,Jr)),Ir=en.slice(Jr,2*Jr),zr=Yr(Kr),un=Mr.multiply(zr),vn=un.toRawBytes();return{head:Kr,prefix:Ir,scalar:zr,point:un,pointBytes:vn}}function an(qr){return tn(qr).pointBytes}function Lr(qr=new Uint8Array,...Jr){const en=concatBytes(...Jr);return Yr(s(Tr(en,ensureBytes("context",qr),!!o)))}function Er(qr,Jr,en={}){qr=ensureBytes("message",qr),o&&(qr=o(qr));const{prefix:Kr,scalar:Ir,pointBytes:zr}=tn(Jr),un=Lr(en.context,Kr,qr),vn=Mr.multiply(un).toRawBytes(),_n=Lr(en.context,vn,zr,qr),dn=Xr(un+_n*Ir);Ur(dn);const gn=concatBytes(vn,numberToBytesLE(dn,r.BYTES));return ensureBytes("result",gn,c*2)}const Or=VERIFY_DEFAULT;function jr(qr,Jr,en,Kr=Or){const{context:Ir,zip215:zr}=Kr,un=r.BYTES;qr=ensureBytes("signature",qr,2*un),Jr=ensureBytes("message",Jr),o&&(Jr=o(Jr));const vn=bytesToNumberLE(qr.slice(un,2*un));let _n,dn,gn;try{_n=Hr.fromHex(en,zr),dn=Hr.fromHex(qr.slice(0,un),zr),gn=Mr.multiplyUnsafe(vn)}catch{return!1}if(!zr&&_n.isSmallOrder())return!1;const yn=Lr(Ir,dn.toRawBytes(),_n.toRawBytes(),Jr);return dn.add(_n.multiplyUnsafe(yn)).subtract(gn).clearCofactor().equals(Hr.ZERO)}return Mr._setWindowSize(8),{CURVE:e,getPublicKey:an,sign:Er,verify:jr,ExtendedPoint:Hr,utils:{getExtendedPublicKey:tn,randomPrivateKey:()=>a(r.BYTES),precompute(qr=8,Jr=Hr.BASE){return Jr._setWindowSize(qr),Jr.multiply(BigInt(3)),Jr}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n$3=BigInt(1),_2n$2=BigInt(2),_5n=BigInt(5),_10n=BigInt(10),_20n=BigInt(20),_40n=BigInt(40),_80n=BigInt(80);function ed25519_pow_2_252_3(t){const e=ED25519_P,n=t*t%e*t%e,o=pow2(n,_2n$2,e)*n%e,s=pow2(o,_1n$3,e)*t%e,a=pow2(s,_5n,e)*s%e,c=pow2(a,_10n,e)*a%e,d=pow2(c,_20n,e)*c%e,m=pow2(d,_40n,e)*d%e,gr=pow2(m,_80n,e)*m%e,vr=pow2(gr,_80n,e)*m%e,Ar=pow2(vr,_10n,e)*a%e;return{pow_p_5_8:pow2(Ar,_2n$2,e)*t%e,b2:n}}function adjustScalarBytes(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function uvRatio(t,e){const r=ED25519_P,n=mod(e*e*e,r),o=mod(n*n*e,r),s=ed25519_pow_2_252_3(t*o).pow_p_5_8;let a=mod(t*n*s,r);const c=mod(e*a*a,r),d=a,m=mod(a*ED25519_SQRT_M1,r),gr=c===t,vr=c===mod(-t,r),Ar=c===mod(-t*ED25519_SQRT_M1,r);return gr&&(a=d),(vr||Ar)&&(a=m),isNegativeLE(a,r)&&(a=mod(-a,r)),{isValid:gr||vr,value:a}}const Fp$1=Field(ED25519_P,void 0,!0),ed25519Defaults={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Fp$1,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512,randomBytes,adjustScalarBytes,uvRatio},ed25519=twistedEdwards(ed25519Defaults);function ed25519_domain(t,e,r){if(e.length>255)throw new Error("Context is too big");return concatBytes$1(utf8ToBytes$1("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}({...ed25519Defaults});({...ed25519Defaults});const ELL2_C1=(Fp$1.ORDER+BigInt(3))/BigInt(8);Fp$1.pow(_2n$2,ELL2_C1);Fp$1.sqrt(Fp$1.neg(Fp$1.ONE));(Fp$1.ORDER-BigInt(5))/BigInt(8);BigInt(486662);FpSqrtEven(Fp$1,Fp$1.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var bn={exports:{}};(function(t){(function(e,r){function n(Lr,Er){if(!Lr)throw new Error(Er||"Assertion failed")}function o(Lr,Er){Lr.super_=Er;var Or=function(){};Or.prototype=Er.prototype,Lr.prototype=new Or,Lr.prototype.constructor=Lr}function s(Lr,Er,Or){if(s.isBN(Lr))return Lr;this.negative=0,this.words=null,this.length=0,this.red=null,Lr!==null&&((Er==="le"||Er==="be")&&(Or=Er,Er=10),this._init(Lr||0,Er||10,Or||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=require("buffer").Buffer}catch{}s.isBN=function(Er){return Er instanceof s?!0:Er!==null&&typeof Er=="object"&&Er.constructor.wordSize===s.wordSize&&Array.isArray(Er.words)},s.max=function(Er,Or){return Er.cmp(Or)>0?Er:Or},s.min=function(Er,Or){return Er.cmp(Or)<0?Er:Or},s.prototype._init=function(Er,Or,jr){if(typeof Er=="number")return this._initNumber(Er,Or,jr);if(typeof Er=="object")return this._initArray(Er,Or,jr);Or==="hex"&&(Or=16),n(Or===(Or|0)&&Or>=2&&Or<=36),Er=Er.toString().replace(/\s+/g,"");var Gr=0;Er[0]==="-"&&(Gr++,this.negative=1),Gr<Er.length&&(Or===16?this._parseHex(Er,Gr,jr):(this._parseBase(Er,Or,Gr),jr==="le"&&this._initArray(this.toArray(),Or,jr)))},s.prototype._initNumber=function(Er,Or,jr){Er<0&&(this.negative=1,Er=-Er),Er<67108864?(this.words=[Er&67108863],this.length=1):Er<4503599627370496?(this.words=[Er&67108863,Er/67108864&67108863],this.length=2):(n(Er<9007199254740992),this.words=[Er&67108863,Er/67108864&67108863,1],this.length=3),jr==="le"&&this._initArray(this.toArray(),Or,jr)},s.prototype._initArray=function(Er,Or,jr){if(n(typeof Er.length=="number"),Er.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Er.length/3),this.words=new Array(this.length);for(var Gr=0;Gr<this.length;Gr++)this.words[Gr]=0;var qr,Jr,en=0;if(jr==="be")for(Gr=Er.length-1,qr=0;Gr>=0;Gr-=3)Jr=Er[Gr]|Er[Gr-1]<<8|Er[Gr-2]<<16,this.words[qr]|=Jr<<en&67108863,this.words[qr+1]=Jr>>>26-en&67108863,en+=24,en>=26&&(en-=26,qr++);else if(jr==="le")for(Gr=0,qr=0;Gr<Er.length;Gr+=3)Jr=Er[Gr]|Er[Gr+1]<<8|Er[Gr+2]<<16,this.words[qr]|=Jr<<en&67108863,this.words[qr+1]=Jr>>>26-en&67108863,en+=24,en>=26&&(en-=26,qr++);return this._strip()};function c(Lr,Er){var Or=Lr.charCodeAt(Er);if(Or>=48&&Or<=57)return Or-48;if(Or>=65&&Or<=70)return Or-55;if(Or>=97&&Or<=102)return Or-87;n(!1,"Invalid character in "+Lr)}function d(Lr,Er,Or){var jr=c(Lr,Or);return Or-1>=Er&&(jr|=c(Lr,Or-1)<<4),jr}s.prototype._parseHex=function(Er,Or,jr){this.length=Math.ceil((Er.length-Or)/6),this.words=new Array(this.length);for(var Gr=0;Gr<this.length;Gr++)this.words[Gr]=0;var qr=0,Jr=0,en;if(jr==="be")for(Gr=Er.length-1;Gr>=Or;Gr-=2)en=d(Er,Or,Gr)<<qr,this.words[Jr]|=en&67108863,qr>=18?(qr-=18,Jr+=1,this.words[Jr]|=en>>>26):qr+=8;else{var Kr=Er.length-Or;for(Gr=Kr%2===0?Or+1:Or;Gr<Er.length;Gr+=2)en=d(Er,Or,Gr)<<qr,this.words[Jr]|=en&67108863,qr>=18?(qr-=18,Jr+=1,this.words[Jr]|=en>>>26):qr+=8}this._strip()};function m(Lr,Er,Or,jr){for(var Gr=0,qr=0,Jr=Math.min(Lr.length,Or),en=Er;en<Jr;en++){var Kr=Lr.charCodeAt(en)-48;Gr*=jr,Kr>=49?qr=Kr-49+10:Kr>=17?qr=Kr-17+10:qr=Kr,n(Kr>=0&&qr<jr,"Invalid character"),Gr+=qr}return Gr}s.prototype._parseBase=function(Er,Or,jr){this.words=[0],this.length=1;for(var Gr=0,qr=1;qr<=67108863;qr*=Or)Gr++;Gr--,qr=qr/Or|0;for(var Jr=Er.length-jr,en=Jr%Gr,Kr=Math.min(Jr,Jr-en)+jr,Ir=0,zr=jr;zr<Kr;zr+=Gr)Ir=m(Er,zr,zr+Gr,Or),this.imuln(qr),this.words[0]+Ir<67108864?this.words[0]+=Ir:this._iaddn(Ir);if(en!==0){var un=1;for(Ir=m(Er,zr,Er.length,Or),zr=0;zr<en;zr++)un*=Or;this.imuln(un),this.words[0]+Ir<67108864?this.words[0]+=Ir:this._iaddn(Ir)}this._strip()},s.prototype.copy=function(Er){Er.words=new Array(this.length);for(var Or=0;Or<this.length;Or++)Er.words[Or]=this.words[Or];Er.length=this.length,Er.negative=this.negative,Er.red=this.red};function gr(Lr,Er){Lr.words=Er.words,Lr.length=Er.length,Lr.negative=Er.negative,Lr.red=Er.red}if(s.prototype._move=function(Er){gr(Er,this)},s.prototype.clone=function(){var Er=new s(null);return this.copy(Er),Er},s.prototype._expand=function(Er){for(;this.length<Er;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=vr}catch{s.prototype.inspect=vr}else s.prototype.inspect=vr;function vr(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Ar=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Tr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Rr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(Er,Or){Er=Er||10,Or=Or|0||1;var jr;if(Er===16||Er==="hex"){jr="";for(var Gr=0,qr=0,Jr=0;Jr<this.length;Jr++){var en=this.words[Jr],Kr=((en<<Gr|qr)&16777215).toString(16);qr=en>>>24-Gr&16777215,Gr+=2,Gr>=26&&(Gr-=26,Jr--),qr!==0||Jr!==this.length-1?jr=Ar[6-Kr.length]+Kr+jr:jr=Kr+jr}for(qr!==0&&(jr=qr.toString(16)+jr);jr.length%Or!==0;)jr="0"+jr;return this.negative!==0&&(jr="-"+jr),jr}if(Er===(Er|0)&&Er>=2&&Er<=36){var Ir=Tr[Er],zr=Rr[Er];jr="";var un=this.clone();for(un.negative=0;!un.isZero();){var vn=un.modrn(zr).toString(Er);un=un.idivn(zr),un.isZero()?jr=vn+jr:jr=Ar[Ir-vn.length]+vn+jr}for(this.isZero()&&(jr="0"+jr);jr.length%Or!==0;)jr="0"+jr;return this.negative!==0&&(jr="-"+jr),jr}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var Er=this.words[0];return this.length===2?Er+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Er+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Er:Er},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(Er,Or){return this.toArrayLike(a,Er,Or)}),s.prototype.toArray=function(Er,Or){return this.toArrayLike(Array,Er,Or)};var kr=function(Er,Or){return Er.allocUnsafe?Er.allocUnsafe(Or):new Er(Or)};s.prototype.toArrayLike=function(Er,Or,jr){this._strip();var Gr=this.byteLength(),qr=jr||Math.max(1,Gr);n(Gr<=qr,"byte array longer than desired length"),n(qr>0,"Requested array length <= 0");var Jr=kr(Er,qr),en=Or==="le"?"LE":"BE";return this["_toArrayLike"+en](Jr,Gr),Jr},s.prototype._toArrayLikeLE=function(Er,Or){for(var jr=0,Gr=0,qr=0,Jr=0;qr<this.length;qr++){var en=this.words[qr]<<Jr|Gr;Er[jr++]=en&255,jr<Er.length&&(Er[jr++]=en>>8&255),jr<Er.length&&(Er[jr++]=en>>16&255),Jr===6?(jr<Er.length&&(Er[jr++]=en>>24&255),Gr=0,Jr=0):(Gr=en>>>24,Jr+=2)}if(jr<Er.length)for(Er[jr++]=Gr;jr<Er.length;)Er[jr++]=0},s.prototype._toArrayLikeBE=function(Er,Or){for(var jr=Er.length-1,Gr=0,qr=0,Jr=0;qr<this.length;qr++){var en=this.words[qr]<<Jr|Gr;Er[jr--]=en&255,jr>=0&&(Er[jr--]=en>>8&255),jr>=0&&(Er[jr--]=en>>16&255),Jr===6?(jr>=0&&(Er[jr--]=en>>24&255),Gr=0,Jr=0):(Gr=en>>>24,Jr+=2)}if(jr>=0)for(Er[jr--]=Gr;jr>=0;)Er[jr--]=0},Math.clz32?s.prototype._countBits=function(Er){return 32-Math.clz32(Er)}:s.prototype._countBits=function(Er){var Or=Er,jr=0;return Or>=4096&&(jr+=13,Or>>>=13),Or>=64&&(jr+=7,Or>>>=7),Or>=8&&(jr+=4,Or>>>=4),Or>=2&&(jr+=2,Or>>>=2),jr+Or},s.prototype._zeroBits=function(Er){if(Er===0)return 26;var Or=Er,jr=0;return(Or&8191)===0&&(jr+=13,Or>>>=13),(Or&127)===0&&(jr+=7,Or>>>=7),(Or&15)===0&&(jr+=4,Or>>>=4),(Or&3)===0&&(jr+=2,Or>>>=2),(Or&1)===0&&jr++,jr},s.prototype.bitLength=function(){var Er=this.words[this.length-1],Or=this._countBits(Er);return(this.length-1)*26+Or};function xr(Lr){for(var Er=new Array(Lr.bitLength()),Or=0;Or<Er.length;Or++){var jr=Or/26|0,Gr=Or%26;Er[Or]=Lr.words[jr]>>>Gr&1}return Er}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Er=0,Or=0;Or<this.length;Or++){var jr=this._zeroBits(this.words[Or]);if(Er+=jr,jr!==26)break}return Er},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(Er){return this.negative!==0?this.abs().inotn(Er).iaddn(1):this.clone()},s.prototype.fromTwos=function(Er){return this.testn(Er-1)?this.notn(Er).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(Er){for(;this.length<Er.length;)this.words[this.length++]=0;for(var Or=0;Or<Er.length;Or++)this.words[Or]=this.words[Or]|Er.words[Or];return this._strip()},s.prototype.ior=function(Er){return n((this.negative|Er.negative)===0),this.iuor(Er)},s.prototype.or=function(Er){return this.length>Er.length?this.clone().ior(Er):Er.clone().ior(this)},s.prototype.uor=function(Er){return this.length>Er.length?this.clone().iuor(Er):Er.clone().iuor(this)},s.prototype.iuand=function(Er){var Or;this.length>Er.length?Or=Er:Or=this;for(var jr=0;jr<Or.length;jr++)this.words[jr]=this.words[jr]&Er.words[jr];return this.length=Or.length,this._strip()},s.prototype.iand=function(Er){return n((this.negative|Er.negative)===0),this.iuand(Er)},s.prototype.and=function(Er){return this.length>Er.length?this.clone().iand(Er):Er.clone().iand(this)},s.prototype.uand=function(Er){return this.length>Er.length?this.clone().iuand(Er):Er.clone().iuand(this)},s.prototype.iuxor=function(Er){var Or,jr;this.length>Er.length?(Or=this,jr=Er):(Or=Er,jr=this);for(var Gr=0;Gr<jr.length;Gr++)this.words[Gr]=Or.words[Gr]^jr.words[Gr];if(this!==Or)for(;Gr<Or.length;Gr++)this.words[Gr]=Or.words[Gr];return this.length=Or.length,this._strip()},s.prototype.ixor=function(Er){return n((this.negative|Er.negative)===0),this.iuxor(Er)},s.prototype.xor=function(Er){return this.length>Er.length?this.clone().ixor(Er):Er.clone().ixor(this)},s.prototype.uxor=function(Er){return this.length>Er.length?this.clone().iuxor(Er):Er.clone().iuxor(this)},s.prototype.inotn=function(Er){n(typeof Er=="number"&&Er>=0);var Or=Math.ceil(Er/26)|0,jr=Er%26;this._expand(Or),jr>0&&Or--;for(var Gr=0;Gr<Or;Gr++)this.words[Gr]=~this.words[Gr]&67108863;return jr>0&&(this.words[Gr]=~this.words[Gr]&67108863>>26-jr),this._strip()},s.prototype.notn=function(Er){return this.clone().inotn(Er)},s.prototype.setn=function(Er,Or){n(typeof Er=="number"&&Er>=0);var jr=Er/26|0,Gr=Er%26;return this._expand(jr+1),Or?this.words[jr]=this.words[jr]|1<<Gr:this.words[jr]=this.words[jr]&~(1<<Gr),this._strip()},s.prototype.iadd=function(Er){var Or;if(this.negative!==0&&Er.negative===0)return this.negative=0,Or=this.isub(Er),this.negative^=1,this._normSign();if(this.negative===0&&Er.negative!==0)return Er.negative=0,Or=this.isub(Er),Er.negative=1,Or._normSign();var jr,Gr;this.length>Er.length?(jr=this,Gr=Er):(jr=Er,Gr=this);for(var qr=0,Jr=0;Jr<Gr.length;Jr++)Or=(jr.words[Jr]|0)+(Gr.words[Jr]|0)+qr,this.words[Jr]=Or&67108863,qr=Or>>>26;for(;qr!==0&&Jr<jr.length;Jr++)Or=(jr.words[Jr]|0)+qr,this.words[Jr]=Or&67108863,qr=Or>>>26;if(this.length=jr.length,qr!==0)this.words[this.length]=qr,this.length++;else if(jr!==this)for(;Jr<jr.length;Jr++)this.words[Jr]=jr.words[Jr];return this},s.prototype.add=function(Er){var Or;return Er.negative!==0&&this.negative===0?(Er.negative=0,Or=this.sub(Er),Er.negative^=1,Or):Er.negative===0&&this.negative!==0?(this.negative=0,Or=Er.sub(this),this.negative=1,Or):this.length>Er.length?this.clone().iadd(Er):Er.clone().iadd(this)},s.prototype.isub=function(Er){if(Er.negative!==0){Er.negative=0;var Or=this.iadd(Er);return Er.negative=1,Or._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Er),this.negative=1,this._normSign();var jr=this.cmp(Er);if(jr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Gr,qr;jr>0?(Gr=this,qr=Er):(Gr=Er,qr=this);for(var Jr=0,en=0;en<qr.length;en++)Or=(Gr.words[en]|0)-(qr.words[en]|0)+Jr,Jr=Or>>26,this.words[en]=Or&67108863;for(;Jr!==0&&en<Gr.length;en++)Or=(Gr.words[en]|0)+Jr,Jr=Or>>26,this.words[en]=Or&67108863;if(Jr===0&&en<Gr.length&&Gr!==this)for(;en<Gr.length;en++)this.words[en]=Gr.words[en];return this.length=Math.max(this.length,en),Gr!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(Er){return this.clone().isub(Er)};function Dr(Lr,Er,Or){Or.negative=Er.negative^Lr.negative;var jr=Lr.length+Er.length|0;Or.length=jr,jr=jr-1|0;var Gr=Lr.words[0]|0,qr=Er.words[0]|0,Jr=Gr*qr,en=Jr&67108863,Kr=Jr/67108864|0;Or.words[0]=en;for(var Ir=1;Ir<jr;Ir++){for(var zr=Kr>>>26,un=Kr&67108863,vn=Math.min(Ir,Er.length-1),_n=Math.max(0,Ir-Lr.length+1);_n<=vn;_n++){var dn=Ir-_n|0;Gr=Lr.words[dn]|0,qr=Er.words[_n]|0,Jr=Gr*qr+un,zr+=Jr/67108864|0,un=Jr&67108863}Or.words[Ir]=un|0,Kr=zr|0}return Kr!==0?Or.words[Ir]=Kr|0:Or.length--,Or._strip()}var Ur=function(Er,Or,jr){var Gr=Er.words,qr=Or.words,Jr=jr.words,en=0,Kr,Ir,zr,un=Gr[0]|0,vn=un&8191,_n=un>>>13,dn=Gr[1]|0,gn=dn&8191,yn=dn>>>13,Tn=Gr[2]|0,Dn=Tn&8191,sn=Tn>>>13,cn=Gr[3]|0,fn=cn&8191,Sn=cn>>>13,On=Gr[4]|0,An=On&8191,Ln=On>>>13,pn=Gr[5]|0,kn=pn&8191,En=pn>>>13,Un=Gr[6]|0,Fn=Un&8191,Kn=Un>>>13,jn=Gr[7]|0,zn=jn&8191,wr=jn>>>13,y=Gr[8]|0,_r=y&8191,$r=y>>>13,Br=Gr[9]|0,Wr=Br&8191,Qr=Br>>>13,In=qr[0]|0,Bn=In&8191,Cn=In>>>13,Hn=qr[1]|0,Mn=Hn&8191,vi=Hn>>>13,qs=qr[2]|0,gi=qs&8191,yi=qs>>>13,Gs=qr[3]|0,wi=Gs&8191,Si=Gs>>>13,Ys=qr[4]|0,mi=Ys&8191,Ai=Ys>>>13,Zs=qr[5]|0,Ei=Zs&8191,di=Zs>>>13,Js=qr[6]|0,hi=Js&8191,$i=Js>>>13,Xs=qr[7]|0,Ti=Xs&8191,Ii=Xs>>>13,Qs=qr[8]|0,Oi=Qs&8191,Ri=Qs>>>13,ea=qr[9]|0,_i=ea&8191,ki=ea>>>13;jr.negative=Er.negative^Or.negative,jr.length=19,Kr=Math.imul(vn,Bn),Ir=Math.imul(vn,Cn),Ir=Ir+Math.imul(_n,Bn)|0,zr=Math.imul(_n,Cn);var _s=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(_s>>>26)|0,_s&=67108863,Kr=Math.imul(gn,Bn),Ir=Math.imul(gn,Cn),Ir=Ir+Math.imul(yn,Bn)|0,zr=Math.imul(yn,Cn),Kr=Kr+Math.imul(vn,Mn)|0,Ir=Ir+Math.imul(vn,vi)|0,Ir=Ir+Math.imul(_n,Mn)|0,zr=zr+Math.imul(_n,vi)|0;var bs=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(bs>>>26)|0,bs&=67108863,Kr=Math.imul(Dn,Bn),Ir=Math.imul(Dn,Cn),Ir=Ir+Math.imul(sn,Bn)|0,zr=Math.imul(sn,Cn),Kr=Kr+Math.imul(gn,Mn)|0,Ir=Ir+Math.imul(gn,vi)|0,Ir=Ir+Math.imul(yn,Mn)|0,zr=zr+Math.imul(yn,vi)|0,Kr=Kr+Math.imul(vn,gi)|0,Ir=Ir+Math.imul(vn,yi)|0,Ir=Ir+Math.imul(_n,gi)|0,zr=zr+Math.imul(_n,yi)|0;var vs=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(vs>>>26)|0,vs&=67108863,Kr=Math.imul(fn,Bn),Ir=Math.imul(fn,Cn),Ir=Ir+Math.imul(Sn,Bn)|0,zr=Math.imul(Sn,Cn),Kr=Kr+Math.imul(Dn,Mn)|0,Ir=Ir+Math.imul(Dn,vi)|0,Ir=Ir+Math.imul(sn,Mn)|0,zr=zr+Math.imul(sn,vi)|0,Kr=Kr+Math.imul(gn,gi)|0,Ir=Ir+Math.imul(gn,yi)|0,Ir=Ir+Math.imul(yn,gi)|0,zr=zr+Math.imul(yn,yi)|0,Kr=Kr+Math.imul(vn,wi)|0,Ir=Ir+Math.imul(vn,Si)|0,Ir=Ir+Math.imul(_n,wi)|0,zr=zr+Math.imul(_n,Si)|0;var ws=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(ws>>>26)|0,ws&=67108863,Kr=Math.imul(An,Bn),Ir=Math.imul(An,Cn),Ir=Ir+Math.imul(Ln,Bn)|0,zr=Math.imul(Ln,Cn),Kr=Kr+Math.imul(fn,Mn)|0,Ir=Ir+Math.imul(fn,vi)|0,Ir=Ir+Math.imul(Sn,Mn)|0,zr=zr+Math.imul(Sn,vi)|0,Kr=Kr+Math.imul(Dn,gi)|0,Ir=Ir+Math.imul(Dn,yi)|0,Ir=Ir+Math.imul(sn,gi)|0,zr=zr+Math.imul(sn,yi)|0,Kr=Kr+Math.imul(gn,wi)|0,Ir=Ir+Math.imul(gn,Si)|0,Ir=Ir+Math.imul(yn,wi)|0,zr=zr+Math.imul(yn,Si)|0,Kr=Kr+Math.imul(vn,mi)|0,Ir=Ir+Math.imul(vn,Ai)|0,Ir=Ir+Math.imul(_n,mi)|0,zr=zr+Math.imul(_n,Ai)|0;var Ss=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(Ss>>>26)|0,Ss&=67108863,Kr=Math.imul(kn,Bn),Ir=Math.imul(kn,Cn),Ir=Ir+Math.imul(En,Bn)|0,zr=Math.imul(En,Cn),Kr=Kr+Math.imul(An,Mn)|0,Ir=Ir+Math.imul(An,vi)|0,Ir=Ir+Math.imul(Ln,Mn)|0,zr=zr+Math.imul(Ln,vi)|0,Kr=Kr+Math.imul(fn,gi)|0,Ir=Ir+Math.imul(fn,yi)|0,Ir=Ir+Math.imul(Sn,gi)|0,zr=zr+Math.imul(Sn,yi)|0,Kr=Kr+Math.imul(Dn,wi)|0,Ir=Ir+Math.imul(Dn,Si)|0,Ir=Ir+Math.imul(sn,wi)|0,zr=zr+Math.imul(sn,Si)|0,Kr=Kr+Math.imul(gn,mi)|0,Ir=Ir+Math.imul(gn,Ai)|0,Ir=Ir+Math.imul(yn,mi)|0,zr=zr+Math.imul(yn,Ai)|0,Kr=Kr+Math.imul(vn,Ei)|0,Ir=Ir+Math.imul(vn,di)|0,Ir=Ir+Math.imul(_n,Ei)|0,zr=zr+Math.imul(_n,di)|0;var Ro=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,Kr=Math.imul(Fn,Bn),Ir=Math.imul(Fn,Cn),Ir=Ir+Math.imul(Kn,Bn)|0,zr=Math.imul(Kn,Cn),Kr=Kr+Math.imul(kn,Mn)|0,Ir=Ir+Math.imul(kn,vi)|0,Ir=Ir+Math.imul(En,Mn)|0,zr=zr+Math.imul(En,vi)|0,Kr=Kr+Math.imul(An,gi)|0,Ir=Ir+Math.imul(An,yi)|0,Ir=Ir+Math.imul(Ln,gi)|0,zr=zr+Math.imul(Ln,yi)|0,Kr=Kr+Math.imul(fn,wi)|0,Ir=Ir+Math.imul(fn,Si)|0,Ir=Ir+Math.imul(Sn,wi)|0,zr=zr+Math.imul(Sn,Si)|0,Kr=Kr+Math.imul(Dn,mi)|0,Ir=Ir+Math.imul(Dn,Ai)|0,Ir=Ir+Math.imul(sn,mi)|0,zr=zr+Math.imul(sn,Ai)|0,Kr=Kr+Math.imul(gn,Ei)|0,Ir=Ir+Math.imul(gn,di)|0,Ir=Ir+Math.imul(yn,Ei)|0,zr=zr+Math.imul(yn,di)|0,Kr=Kr+Math.imul(vn,hi)|0,Ir=Ir+Math.imul(vn,$i)|0,Ir=Ir+Math.imul(_n,hi)|0,zr=zr+Math.imul(_n,$i)|0;var As=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(As>>>26)|0,As&=67108863,Kr=Math.imul(zn,Bn),Ir=Math.imul(zn,Cn),Ir=Ir+Math.imul(wr,Bn)|0,zr=Math.imul(wr,Cn),Kr=Kr+Math.imul(Fn,Mn)|0,Ir=Ir+Math.imul(Fn,vi)|0,Ir=Ir+Math.imul(Kn,Mn)|0,zr=zr+Math.imul(Kn,vi)|0,Kr=Kr+Math.imul(kn,gi)|0,Ir=Ir+Math.imul(kn,yi)|0,Ir=Ir+Math.imul(En,gi)|0,zr=zr+Math.imul(En,yi)|0,Kr=Kr+Math.imul(An,wi)|0,Ir=Ir+Math.imul(An,Si)|0,Ir=Ir+Math.imul(Ln,wi)|0,zr=zr+Math.imul(Ln,Si)|0,Kr=Kr+Math.imul(fn,mi)|0,Ir=Ir+Math.imul(fn,Ai)|0,Ir=Ir+Math.imul(Sn,mi)|0,zr=zr+Math.imul(Sn,Ai)|0,Kr=Kr+Math.imul(Dn,Ei)|0,Ir=Ir+Math.imul(Dn,di)|0,Ir=Ir+Math.imul(sn,Ei)|0,zr=zr+Math.imul(sn,di)|0,Kr=Kr+Math.imul(gn,hi)|0,Ir=Ir+Math.imul(gn,$i)|0,Ir=Ir+Math.imul(yn,hi)|0,zr=zr+Math.imul(yn,$i)|0,Kr=Kr+Math.imul(vn,Ti)|0,Ir=Ir+Math.imul(vn,Ii)|0,Ir=Ir+Math.imul(_n,Ti)|0,zr=zr+Math.imul(_n,Ii)|0;var ko=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(ko>>>26)|0,ko&=67108863,Kr=Math.imul(_r,Bn),Ir=Math.imul(_r,Cn),Ir=Ir+Math.imul($r,Bn)|0,zr=Math.imul($r,Cn),Kr=Kr+Math.imul(zn,Mn)|0,Ir=Ir+Math.imul(zn,vi)|0,Ir=Ir+Math.imul(wr,Mn)|0,zr=zr+Math.imul(wr,vi)|0,Kr=Kr+Math.imul(Fn,gi)|0,Ir=Ir+Math.imul(Fn,yi)|0,Ir=Ir+Math.imul(Kn,gi)|0,zr=zr+Math.imul(Kn,yi)|0,Kr=Kr+Math.imul(kn,wi)|0,Ir=Ir+Math.imul(kn,Si)|0,Ir=Ir+Math.imul(En,wi)|0,zr=zr+Math.imul(En,Si)|0,Kr=Kr+Math.imul(An,mi)|0,Ir=Ir+Math.imul(An,Ai)|0,Ir=Ir+Math.imul(Ln,mi)|0,zr=zr+Math.imul(Ln,Ai)|0,Kr=Kr+Math.imul(fn,Ei)|0,Ir=Ir+Math.imul(fn,di)|0,Ir=Ir+Math.imul(Sn,Ei)|0,zr=zr+Math.imul(Sn,di)|0,Kr=Kr+Math.imul(Dn,hi)|0,Ir=Ir+Math.imul(Dn,$i)|0,Ir=Ir+Math.imul(sn,hi)|0,zr=zr+Math.imul(sn,$i)|0,Kr=Kr+Math.imul(gn,Ti)|0,Ir=Ir+Math.imul(gn,Ii)|0,Ir=Ir+Math.imul(yn,Ti)|0,zr=zr+Math.imul(yn,Ii)|0,Kr=Kr+Math.imul(vn,Oi)|0,Ir=Ir+Math.imul(vn,Ri)|0,Ir=Ir+Math.imul(_n,Oi)|0,zr=zr+Math.imul(_n,Ri)|0;var Es=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(Es>>>26)|0,Es&=67108863,Kr=Math.imul(Wr,Bn),Ir=Math.imul(Wr,Cn),Ir=Ir+Math.imul(Qr,Bn)|0,zr=Math.imul(Qr,Cn),Kr=Kr+Math.imul(_r,Mn)|0,Ir=Ir+Math.imul(_r,vi)|0,Ir=Ir+Math.imul($r,Mn)|0,zr=zr+Math.imul($r,vi)|0,Kr=Kr+Math.imul(zn,gi)|0,Ir=Ir+Math.imul(zn,yi)|0,Ir=Ir+Math.imul(wr,gi)|0,zr=zr+Math.imul(wr,yi)|0,Kr=Kr+Math.imul(Fn,wi)|0,Ir=Ir+Math.imul(Fn,Si)|0,Ir=Ir+Math.imul(Kn,wi)|0,zr=zr+Math.imul(Kn,Si)|0,Kr=Kr+Math.imul(kn,mi)|0,Ir=Ir+Math.imul(kn,Ai)|0,Ir=Ir+Math.imul(En,mi)|0,zr=zr+Math.imul(En,Ai)|0,Kr=Kr+Math.imul(An,Ei)|0,Ir=Ir+Math.imul(An,di)|0,Ir=Ir+Math.imul(Ln,Ei)|0,zr=zr+Math.imul(Ln,di)|0,Kr=Kr+Math.imul(fn,hi)|0,Ir=Ir+Math.imul(fn,$i)|0,Ir=Ir+Math.imul(Sn,hi)|0,zr=zr+Math.imul(Sn,$i)|0,Kr=Kr+Math.imul(Dn,Ti)|0,Ir=Ir+Math.imul(Dn,Ii)|0,Ir=Ir+Math.imul(sn,Ti)|0,zr=zr+Math.imul(sn,Ii)|0,Kr=Kr+Math.imul(gn,Oi)|0,Ir=Ir+Math.imul(gn,Ri)|0,Ir=Ir+Math.imul(yn,Oi)|0,zr=zr+Math.imul(yn,Ri)|0,Kr=Kr+Math.imul(vn,_i)|0,Ir=Ir+Math.imul(vn,ki)|0,Ir=Ir+Math.imul(_n,_i)|0,zr=zr+Math.imul(_n,ki)|0;var $s=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+($s>>>26)|0,$s&=67108863,Kr=Math.imul(Wr,Mn),Ir=Math.imul(Wr,vi),Ir=Ir+Math.imul(Qr,Mn)|0,zr=Math.imul(Qr,vi),Kr=Kr+Math.imul(_r,gi)|0,Ir=Ir+Math.imul(_r,yi)|0,Ir=Ir+Math.imul($r,gi)|0,zr=zr+Math.imul($r,yi)|0,Kr=Kr+Math.imul(zn,wi)|0,Ir=Ir+Math.imul(zn,Si)|0,Ir=Ir+Math.imul(wr,wi)|0,zr=zr+Math.imul(wr,Si)|0,Kr=Kr+Math.imul(Fn,mi)|0,Ir=Ir+Math.imul(Fn,Ai)|0,Ir=Ir+Math.imul(Kn,mi)|0,zr=zr+Math.imul(Kn,Ai)|0,Kr=Kr+Math.imul(kn,Ei)|0,Ir=Ir+Math.imul(kn,di)|0,Ir=Ir+Math.imul(En,Ei)|0,zr=zr+Math.imul(En,di)|0,Kr=Kr+Math.imul(An,hi)|0,Ir=Ir+Math.imul(An,$i)|0,Ir=Ir+Math.imul(Ln,hi)|0,zr=zr+Math.imul(Ln,$i)|0,Kr=Kr+Math.imul(fn,Ti)|0,Ir=Ir+Math.imul(fn,Ii)|0,Ir=Ir+Math.imul(Sn,Ti)|0,zr=zr+Math.imul(Sn,Ii)|0,Kr=Kr+Math.imul(Dn,Oi)|0,Ir=Ir+Math.imul(Dn,Ri)|0,Ir=Ir+Math.imul(sn,Oi)|0,zr=zr+Math.imul(sn,Ri)|0,Kr=Kr+Math.imul(gn,_i)|0,Ir=Ir+Math.imul(gn,ki)|0,Ir=Ir+Math.imul(yn,_i)|0,zr=zr+Math.imul(yn,ki)|0;var Ts=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,Kr=Math.imul(Wr,gi),Ir=Math.imul(Wr,yi),Ir=Ir+Math.imul(Qr,gi)|0,zr=Math.imul(Qr,yi),Kr=Kr+Math.imul(_r,wi)|0,Ir=Ir+Math.imul(_r,Si)|0,Ir=Ir+Math.imul($r,wi)|0,zr=zr+Math.imul($r,Si)|0,Kr=Kr+Math.imul(zn,mi)|0,Ir=Ir+Math.imul(zn,Ai)|0,Ir=Ir+Math.imul(wr,mi)|0,zr=zr+Math.imul(wr,Ai)|0,Kr=Kr+Math.imul(Fn,Ei)|0,Ir=Ir+Math.imul(Fn,di)|0,Ir=Ir+Math.imul(Kn,Ei)|0,zr=zr+Math.imul(Kn,di)|0,Kr=Kr+Math.imul(kn,hi)|0,Ir=Ir+Math.imul(kn,$i)|0,Ir=Ir+Math.imul(En,hi)|0,zr=zr+Math.imul(En,$i)|0,Kr=Kr+Math.imul(An,Ti)|0,Ir=Ir+Math.imul(An,Ii)|0,Ir=Ir+Math.imul(Ln,Ti)|0,zr=zr+Math.imul(Ln,Ii)|0,Kr=Kr+Math.imul(fn,Oi)|0,Ir=Ir+Math.imul(fn,Ri)|0,Ir=Ir+Math.imul(Sn,Oi)|0,zr=zr+Math.imul(Sn,Ri)|0,Kr=Kr+Math.imul(Dn,_i)|0,Ir=Ir+Math.imul(Dn,ki)|0,Ir=Ir+Math.imul(sn,_i)|0,zr=zr+Math.imul(sn,ki)|0;var Xo=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,Kr=Math.imul(Wr,wi),Ir=Math.imul(Wr,Si),Ir=Ir+Math.imul(Qr,wi)|0,zr=Math.imul(Qr,Si),Kr=Kr+Math.imul(_r,mi)|0,Ir=Ir+Math.imul(_r,Ai)|0,Ir=Ir+Math.imul($r,mi)|0,zr=zr+Math.imul($r,Ai)|0,Kr=Kr+Math.imul(zn,Ei)|0,Ir=Ir+Math.imul(zn,di)|0,Ir=Ir+Math.imul(wr,Ei)|0,zr=zr+Math.imul(wr,di)|0,Kr=Kr+Math.imul(Fn,hi)|0,Ir=Ir+Math.imul(Fn,$i)|0,Ir=Ir+Math.imul(Kn,hi)|0,zr=zr+Math.imul(Kn,$i)|0,Kr=Kr+Math.imul(kn,Ti)|0,Ir=Ir+Math.imul(kn,Ii)|0,Ir=Ir+Math.imul(En,Ti)|0,zr=zr+Math.imul(En,Ii)|0,Kr=Kr+Math.imul(An,Oi)|0,Ir=Ir+Math.imul(An,Ri)|0,Ir=Ir+Math.imul(Ln,Oi)|0,zr=zr+Math.imul(Ln,Ri)|0,Kr=Kr+Math.imul(fn,_i)|0,Ir=Ir+Math.imul(fn,ki)|0,Ir=Ir+Math.imul(Sn,_i)|0,zr=zr+Math.imul(Sn,ki)|0;var Qo=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,Kr=Math.imul(Wr,mi),Ir=Math.imul(Wr,Ai),Ir=Ir+Math.imul(Qr,mi)|0,zr=Math.imul(Qr,Ai),Kr=Kr+Math.imul(_r,Ei)|0,Ir=Ir+Math.imul(_r,di)|0,Ir=Ir+Math.imul($r,Ei)|0,zr=zr+Math.imul($r,di)|0,Kr=Kr+Math.imul(zn,hi)|0,Ir=Ir+Math.imul(zn,$i)|0,Ir=Ir+Math.imul(wr,hi)|0,zr=zr+Math.imul(wr,$i)|0,Kr=Kr+Math.imul(Fn,Ti)|0,Ir=Ir+Math.imul(Fn,Ii)|0,Ir=Ir+Math.imul(Kn,Ti)|0,zr=zr+Math.imul(Kn,Ii)|0,Kr=Kr+Math.imul(kn,Oi)|0,Ir=Ir+Math.imul(kn,Ri)|0,Ir=Ir+Math.imul(En,Oi)|0,zr=zr+Math.imul(En,Ri)|0,Kr=Kr+Math.imul(An,_i)|0,Ir=Ir+Math.imul(An,ki)|0,Ir=Ir+Math.imul(Ln,_i)|0,zr=zr+Math.imul(Ln,ki)|0;var es=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(es>>>26)|0,es&=67108863,Kr=Math.imul(Wr,Ei),Ir=Math.imul(Wr,di),Ir=Ir+Math.imul(Qr,Ei)|0,zr=Math.imul(Qr,di),Kr=Kr+Math.imul(_r,hi)|0,Ir=Ir+Math.imul(_r,$i)|0,Ir=Ir+Math.imul($r,hi)|0,zr=zr+Math.imul($r,$i)|0,Kr=Kr+Math.imul(zn,Ti)|0,Ir=Ir+Math.imul(zn,Ii)|0,Ir=Ir+Math.imul(wr,Ti)|0,zr=zr+Math.imul(wr,Ii)|0,Kr=Kr+Math.imul(Fn,Oi)|0,Ir=Ir+Math.imul(Fn,Ri)|0,Ir=Ir+Math.imul(Kn,Oi)|0,zr=zr+Math.imul(Kn,Ri)|0,Kr=Kr+Math.imul(kn,_i)|0,Ir=Ir+Math.imul(kn,ki)|0,Ir=Ir+Math.imul(En,_i)|0,zr=zr+Math.imul(En,ki)|0;var Is=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(Is>>>26)|0,Is&=67108863,Kr=Math.imul(Wr,hi),Ir=Math.imul(Wr,$i),Ir=Ir+Math.imul(Qr,hi)|0,zr=Math.imul(Qr,$i),Kr=Kr+Math.imul(_r,Ti)|0,Ir=Ir+Math.imul(_r,Ii)|0,Ir=Ir+Math.imul($r,Ti)|0,zr=zr+Math.imul($r,Ii)|0,Kr=Kr+Math.imul(zn,Oi)|0,Ir=Ir+Math.imul(zn,Ri)|0,Ir=Ir+Math.imul(wr,Oi)|0,zr=zr+Math.imul(wr,Ri)|0,Kr=Kr+Math.imul(Fn,_i)|0,Ir=Ir+Math.imul(Fn,ki)|0,Ir=Ir+Math.imul(Kn,_i)|0,zr=zr+Math.imul(Kn,ki)|0;var Os=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(Os>>>26)|0,Os&=67108863,Kr=Math.imul(Wr,Ti),Ir=Math.imul(Wr,Ii),Ir=Ir+Math.imul(Qr,Ti)|0,zr=Math.imul(Qr,Ii),Kr=Kr+Math.imul(_r,Oi)|0,Ir=Ir+Math.imul(_r,Ri)|0,Ir=Ir+Math.imul($r,Oi)|0,zr=zr+Math.imul($r,Ri)|0,Kr=Kr+Math.imul(zn,_i)|0,Ir=Ir+Math.imul(zn,ki)|0,Ir=Ir+Math.imul(wr,_i)|0,zr=zr+Math.imul(wr,ki)|0;var Rs=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(Rs>>>26)|0,Rs&=67108863,Kr=Math.imul(Wr,Oi),Ir=Math.imul(Wr,Ri),Ir=Ir+Math.imul(Qr,Oi)|0,zr=Math.imul(Qr,Ri),Kr=Kr+Math.imul(_r,_i)|0,Ir=Ir+Math.imul(_r,ki)|0,Ir=Ir+Math.imul($r,_i)|0,zr=zr+Math.imul($r,ki)|0;var ks=(en+Kr|0)+((Ir&8191)<<13)|0;en=(zr+(Ir>>>13)|0)+(ks>>>26)|0,ks&=67108863,Kr=Math.imul(Wr,_i),Ir=Math.imul(Wr,ki),Ir=Ir+Math.imul(Qr,_i)|0,zr=Math.imul(Qr,ki);var ts=(en+Kr|0)+((Ir&8191)<<13)|0;return en=(zr+(Ir>>>13)|0)+(ts>>>26)|0,ts&=67108863,Jr[0]=_s,Jr[1]=bs,Jr[2]=vs,Jr[3]=ws,Jr[4]=Ss,Jr[5]=Ro,Jr[6]=As,Jr[7]=ko,Jr[8]=Es,Jr[9]=$s,Jr[10]=Ts,Jr[11]=Xo,Jr[12]=Qo,Jr[13]=es,Jr[14]=Is,Jr[15]=Os,Jr[16]=Rs,Jr[17]=ks,Jr[18]=ts,en!==0&&(Jr[19]=en,jr.length++),jr};Math.imul||(Ur=Dr);function Cr(Lr,Er,Or){Or.negative=Er.negative^Lr.negative,Or.length=Lr.length+Er.length;for(var jr=0,Gr=0,qr=0;qr<Or.length-1;qr++){var Jr=Gr;Gr=0;for(var en=jr&67108863,Kr=Math.min(qr,Er.length-1),Ir=Math.max(0,qr-Lr.length+1);Ir<=Kr;Ir++){var zr=qr-Ir,un=Lr.words[zr]|0,vn=Er.words[Ir]|0,_n=un*vn,dn=_n&67108863;Jr=Jr+(_n/67108864|0)|0,dn=dn+en|0,en=dn&67108863,Jr=Jr+(dn>>>26)|0,Gr+=Jr>>>26,Jr&=67108863}Or.words[qr]=en,jr=Jr,Jr=Gr}return jr!==0?Or.words[qr]=jr:Or.length--,Or._strip()}function Nr(Lr,Er,Or){return Cr(Lr,Er,Or)}s.prototype.mulTo=function(Er,Or){var jr,Gr=this.length+Er.length;return this.length===10&&Er.length===10?jr=Ur(this,Er,Or):Gr<63?jr=Dr(this,Er,Or):Gr<1024?jr=Cr(this,Er,Or):jr=Nr(this,Er,Or),jr},s.prototype.mul=function(Er){var Or=new s(null);return Or.words=new Array(this.length+Er.length),this.mulTo(Er,Or)},s.prototype.mulf=function(Er){var Or=new s(null);return Or.words=new Array(this.length+Er.length),Nr(this,Er,Or)},s.prototype.imul=function(Er){return this.clone().mulTo(Er,this)},s.prototype.imuln=function(Er){var Or=Er<0;Or&&(Er=-Er),n(typeof Er=="number"),n(Er<67108864);for(var jr=0,Gr=0;Gr<this.length;Gr++){var qr=(this.words[Gr]|0)*Er,Jr=(qr&67108863)+(jr&67108863);jr>>=26,jr+=qr/67108864|0,jr+=Jr>>>26,this.words[Gr]=Jr&67108863}return jr!==0&&(this.words[Gr]=jr,this.length++),Or?this.ineg():this},s.prototype.muln=function(Er){return this.clone().imuln(Er)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(Er){var Or=xr(Er);if(Or.length===0)return new s(1);for(var jr=this,Gr=0;Gr<Or.length&&Or[Gr]===0;Gr++,jr=jr.sqr());if(++Gr<Or.length)for(var qr=jr.sqr();Gr<Or.length;Gr++,qr=qr.sqr())Or[Gr]!==0&&(jr=jr.mul(qr));return jr},s.prototype.iushln=function(Er){n(typeof Er=="number"&&Er>=0);var Or=Er%26,jr=(Er-Or)/26,Gr=67108863>>>26-Or<<26-Or,qr;if(Or!==0){var Jr=0;for(qr=0;qr<this.length;qr++){var en=this.words[qr]&Gr,Kr=(this.words[qr]|0)-en<<Or;this.words[qr]=Kr|Jr,Jr=en>>>26-Or}Jr&&(this.words[qr]=Jr,this.length++)}if(jr!==0){for(qr=this.length-1;qr>=0;qr--)this.words[qr+jr]=this.words[qr];for(qr=0;qr<jr;qr++)this.words[qr]=0;this.length+=jr}return this._strip()},s.prototype.ishln=function(Er){return n(this.negative===0),this.iushln(Er)},s.prototype.iushrn=function(Er,Or,jr){n(typeof Er=="number"&&Er>=0);var Gr;Or?Gr=(Or-Or%26)/26:Gr=0;var qr=Er%26,Jr=Math.min((Er-qr)/26,this.length),en=67108863^67108863>>>qr<<qr,Kr=jr;if(Gr-=Jr,Gr=Math.max(0,Gr),Kr){for(var Ir=0;Ir<Jr;Ir++)Kr.words[Ir]=this.words[Ir];Kr.length=Jr}if(Jr!==0)if(this.length>Jr)for(this.length-=Jr,Ir=0;Ir<this.length;Ir++)this.words[Ir]=this.words[Ir+Jr];else this.words[0]=0,this.length=1;var zr=0;for(Ir=this.length-1;Ir>=0&&(zr!==0||Ir>=Gr);Ir--){var un=this.words[Ir]|0;this.words[Ir]=zr<<26-qr|un>>>qr,zr=un&en}return Kr&&zr!==0&&(Kr.words[Kr.length++]=zr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(Er,Or,jr){return n(this.negative===0),this.iushrn(Er,Or,jr)},s.prototype.shln=function(Er){return this.clone().ishln(Er)},s.prototype.ushln=function(Er){return this.clone().iushln(Er)},s.prototype.shrn=function(Er){return this.clone().ishrn(Er)},s.prototype.ushrn=function(Er){return this.clone().iushrn(Er)},s.prototype.testn=function(Er){n(typeof Er=="number"&&Er>=0);var Or=Er%26,jr=(Er-Or)/26,Gr=1<<Or;if(this.length<=jr)return!1;var qr=this.words[jr];return!!(qr&Gr)},s.prototype.imaskn=function(Er){n(typeof Er=="number"&&Er>=0);var Or=Er%26,jr=(Er-Or)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=jr)return this;if(Or!==0&&jr++,this.length=Math.min(jr,this.length),Or!==0){var Gr=67108863^67108863>>>Or<<Or;this.words[this.length-1]&=Gr}return this._strip()},s.prototype.maskn=function(Er){return this.clone().imaskn(Er)},s.prototype.iaddn=function(Er){return n(typeof Er=="number"),n(Er<67108864),Er<0?this.isubn(-Er):this.negative!==0?this.length===1&&(this.words[0]|0)<=Er?(this.words[0]=Er-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Er),this.negative=1,this):this._iaddn(Er)},s.prototype._iaddn=function(Er){this.words[0]+=Er;for(var Or=0;Or<this.length&&this.words[Or]>=67108864;Or++)this.words[Or]-=67108864,Or===this.length-1?this.words[Or+1]=1:this.words[Or+1]++;return this.length=Math.max(this.length,Or+1),this},s.prototype.isubn=function(Er){if(n(typeof Er=="number"),n(Er<67108864),Er<0)return this.iaddn(-Er);if(this.negative!==0)return this.negative=0,this.iaddn(Er),this.negative=1,this;if(this.words[0]-=Er,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Or=0;Or<this.length&&this.words[Or]<0;Or++)this.words[Or]+=67108864,this.words[Or+1]-=1;return this._strip()},s.prototype.addn=function(Er){return this.clone().iaddn(Er)},s.prototype.subn=function(Er){return this.clone().isubn(Er)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(Er,Or,jr){var Gr=Er.length+jr,qr;this._expand(Gr);var Jr,en=0;for(qr=0;qr<Er.length;qr++){Jr=(this.words[qr+jr]|0)+en;var Kr=(Er.words[qr]|0)*Or;Jr-=Kr&67108863,en=(Jr>>26)-(Kr/67108864|0),this.words[qr+jr]=Jr&67108863}for(;qr<this.length-jr;qr++)Jr=(this.words[qr+jr]|0)+en,en=Jr>>26,this.words[qr+jr]=Jr&67108863;if(en===0)return this._strip();for(n(en===-1),en=0,qr=0;qr<this.length;qr++)Jr=-(this.words[qr]|0)+en,en=Jr>>26,this.words[qr]=Jr&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(Er,Or){var jr=this.length-Er.length,Gr=this.clone(),qr=Er,Jr=qr.words[qr.length-1]|0,en=this._countBits(Jr);jr=26-en,jr!==0&&(qr=qr.ushln(jr),Gr.iushln(jr),Jr=qr.words[qr.length-1]|0);var Kr=Gr.length-qr.length,Ir;if(Or!=="mod"){Ir=new s(null),Ir.length=Kr+1,Ir.words=new Array(Ir.length);for(var zr=0;zr<Ir.length;zr++)Ir.words[zr]=0}var un=Gr.clone()._ishlnsubmul(qr,1,Kr);un.negative===0&&(Gr=un,Ir&&(Ir.words[Kr]=1));for(var vn=Kr-1;vn>=0;vn--){var _n=(Gr.words[qr.length+vn]|0)*67108864+(Gr.words[qr.length+vn-1]|0);for(_n=Math.min(_n/Jr|0,67108863),Gr._ishlnsubmul(qr,_n,vn);Gr.negative!==0;)_n--,Gr.negative=0,Gr._ishlnsubmul(qr,1,vn),Gr.isZero()||(Gr.negative^=1);Ir&&(Ir.words[vn]=_n)}return Ir&&Ir._strip(),Gr._strip(),Or!=="div"&&jr!==0&&Gr.iushrn(jr),{div:Ir||null,mod:Gr}},s.prototype.divmod=function(Er,Or,jr){if(n(!Er.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var Gr,qr,Jr;return this.negative!==0&&Er.negative===0?(Jr=this.neg().divmod(Er,Or),Or!=="mod"&&(Gr=Jr.div.neg()),Or!=="div"&&(qr=Jr.mod.neg(),jr&&qr.negative!==0&&qr.iadd(Er)),{div:Gr,mod:qr}):this.negative===0&&Er.negative!==0?(Jr=this.divmod(Er.neg(),Or),Or!=="mod"&&(Gr=Jr.div.neg()),{div:Gr,mod:Jr.mod}):(this.negative&Er.negative)!==0?(Jr=this.neg().divmod(Er.neg(),Or),Or!=="div"&&(qr=Jr.mod.neg(),jr&&qr.negative!==0&&qr.isub(Er)),{div:Jr.div,mod:qr}):Er.length>this.length||this.cmp(Er)<0?{div:new s(0),mod:this}:Er.length===1?Or==="div"?{div:this.divn(Er.words[0]),mod:null}:Or==="mod"?{div:null,mod:new s(this.modrn(Er.words[0]))}:{div:this.divn(Er.words[0]),mod:new s(this.modrn(Er.words[0]))}:this._wordDiv(Er,Or)},s.prototype.div=function(Er){return this.divmod(Er,"div",!1).div},s.prototype.mod=function(Er){return this.divmod(Er,"mod",!1).mod},s.prototype.umod=function(Er){return this.divmod(Er,"mod",!0).mod},s.prototype.divRound=function(Er){var Or=this.divmod(Er);if(Or.mod.isZero())return Or.div;var jr=Or.div.negative!==0?Or.mod.isub(Er):Or.mod,Gr=Er.ushrn(1),qr=Er.andln(1),Jr=jr.cmp(Gr);return Jr<0||qr===1&&Jr===0?Or.div:Or.div.negative!==0?Or.div.isubn(1):Or.div.iaddn(1)},s.prototype.modrn=function(Er){var Or=Er<0;Or&&(Er=-Er),n(Er<=67108863);for(var jr=(1<<26)%Er,Gr=0,qr=this.length-1;qr>=0;qr--)Gr=(jr*Gr+(this.words[qr]|0))%Er;return Or?-Gr:Gr},s.prototype.modn=function(Er){return this.modrn(Er)},s.prototype.idivn=function(Er){var Or=Er<0;Or&&(Er=-Er),n(Er<=67108863);for(var jr=0,Gr=this.length-1;Gr>=0;Gr--){var qr=(this.words[Gr]|0)+jr*67108864;this.words[Gr]=qr/Er|0,jr=qr%Er}return this._strip(),Or?this.ineg():this},s.prototype.divn=function(Er){return this.clone().idivn(Er)},s.prototype.egcd=function(Er){n(Er.negative===0),n(!Er.isZero());var Or=this,jr=Er.clone();Or.negative!==0?Or=Or.umod(Er):Or=Or.clone();for(var Gr=new s(1),qr=new s(0),Jr=new s(0),en=new s(1),Kr=0;Or.isEven()&&jr.isEven();)Or.iushrn(1),jr.iushrn(1),++Kr;for(var Ir=jr.clone(),zr=Or.clone();!Or.isZero();){for(var un=0,vn=1;(Or.words[0]&vn)===0&&un<26;++un,vn<<=1);if(un>0)for(Or.iushrn(un);un-- >0;)(Gr.isOdd()||qr.isOdd())&&(Gr.iadd(Ir),qr.isub(zr)),Gr.iushrn(1),qr.iushrn(1);for(var _n=0,dn=1;(jr.words[0]&dn)===0&&_n<26;++_n,dn<<=1);if(_n>0)for(jr.iushrn(_n);_n-- >0;)(Jr.isOdd()||en.isOdd())&&(Jr.iadd(Ir),en.isub(zr)),Jr.iushrn(1),en.iushrn(1);Or.cmp(jr)>=0?(Or.isub(jr),Gr.isub(Jr),qr.isub(en)):(jr.isub(Or),Jr.isub(Gr),en.isub(qr))}return{a:Jr,b:en,gcd:jr.iushln(Kr)}},s.prototype._invmp=function(Er){n(Er.negative===0),n(!Er.isZero());var Or=this,jr=Er.clone();Or.negative!==0?Or=Or.umod(Er):Or=Or.clone();for(var Gr=new s(1),qr=new s(0),Jr=jr.clone();Or.cmpn(1)>0&&jr.cmpn(1)>0;){for(var en=0,Kr=1;(Or.words[0]&Kr)===0&&en<26;++en,Kr<<=1);if(en>0)for(Or.iushrn(en);en-- >0;)Gr.isOdd()&&Gr.iadd(Jr),Gr.iushrn(1);for(var Ir=0,zr=1;(jr.words[0]&zr)===0&&Ir<26;++Ir,zr<<=1);if(Ir>0)for(jr.iushrn(Ir);Ir-- >0;)qr.isOdd()&&qr.iadd(Jr),qr.iushrn(1);Or.cmp(jr)>=0?(Or.isub(jr),Gr.isub(qr)):(jr.isub(Or),qr.isub(Gr))}var un;return Or.cmpn(1)===0?un=Gr:un=qr,un.cmpn(0)<0&&un.iadd(Er),un},s.prototype.gcd=function(Er){if(this.isZero())return Er.abs();if(Er.isZero())return this.abs();var Or=this.clone(),jr=Er.clone();Or.negative=0,jr.negative=0;for(var Gr=0;Or.isEven()&&jr.isEven();Gr++)Or.iushrn(1),jr.iushrn(1);do{for(;Or.isEven();)Or.iushrn(1);for(;jr.isEven();)jr.iushrn(1);var qr=Or.cmp(jr);if(qr<0){var Jr=Or;Or=jr,jr=Jr}else if(qr===0||jr.cmpn(1)===0)break;Or.isub(jr)}while(!0);return jr.iushln(Gr)},s.prototype.invm=function(Er){return this.egcd(Er).a.umod(Er)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(Er){return this.words[0]&Er},s.prototype.bincn=function(Er){n(typeof Er=="number");var Or=Er%26,jr=(Er-Or)/26,Gr=1<<Or;if(this.length<=jr)return this._expand(jr+1),this.words[jr]|=Gr,this;for(var qr=Gr,Jr=jr;qr!==0&&Jr<this.length;Jr++){var en=this.words[Jr]|0;en+=qr,qr=en>>>26,en&=67108863,this.words[Jr]=en}return qr!==0&&(this.words[Jr]=qr,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(Er){var Or=Er<0;if(this.negative!==0&&!Or)return-1;if(this.negative===0&&Or)return 1;this._strip();var jr;if(this.length>1)jr=1;else{Or&&(Er=-Er),n(Er<=67108863,"Number is too big");var Gr=this.words[0]|0;jr=Gr===Er?0:Gr<Er?-1:1}return this.negative!==0?-jr|0:jr},s.prototype.cmp=function(Er){if(this.negative!==0&&Er.negative===0)return-1;if(this.negative===0&&Er.negative!==0)return 1;var Or=this.ucmp(Er);return this.negative!==0?-Or|0:Or},s.prototype.ucmp=function(Er){if(this.length>Er.length)return 1;if(this.length<Er.length)return-1;for(var Or=0,jr=this.length-1;jr>=0;jr--){var Gr=this.words[jr]|0,qr=Er.words[jr]|0;if(Gr!==qr){Gr<qr?Or=-1:Gr>qr&&(Or=1);break}}return Or},s.prototype.gtn=function(Er){return this.cmpn(Er)===1},s.prototype.gt=function(Er){return this.cmp(Er)===1},s.prototype.gten=function(Er){return this.cmpn(Er)>=0},s.prototype.gte=function(Er){return this.cmp(Er)>=0},s.prototype.ltn=function(Er){return this.cmpn(Er)===-1},s.prototype.lt=function(Er){return this.cmp(Er)===-1},s.prototype.lten=function(Er){return this.cmpn(Er)<=0},s.prototype.lte=function(Er){return this.cmp(Er)<=0},s.prototype.eqn=function(Er){return this.cmpn(Er)===0},s.prototype.eq=function(Er){return this.cmp(Er)===0},s.red=function(Er){return new tn(Er)},s.prototype.toRed=function(Er){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),Er.convertTo(this)._forceRed(Er)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(Er){return this.red=Er,this},s.prototype.forceRed=function(Er){return n(!this.red,"Already a number in reduction context"),this._forceRed(Er)},s.prototype.redAdd=function(Er){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,Er)},s.prototype.redIAdd=function(Er){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Er)},s.prototype.redSub=function(Er){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,Er)},s.prototype.redISub=function(Er){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,Er)},s.prototype.redShl=function(Er){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,Er)},s.prototype.redMul=function(Er){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,Er),this.red.mul(this,Er)},s.prototype.redIMul=function(Er){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,Er),this.red.imul(this,Er)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(Er){return n(this.red&&!Er.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Er)};var Hr={k256:null,p224:null,p192:null,p25519:null};function Mr(Lr,Er){this.name=Lr,this.p=new s(Er,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mr.prototype._tmp=function(){var Er=new s(null);return Er.words=new Array(Math.ceil(this.n/13)),Er},Mr.prototype.ireduce=function(Er){var Or=Er,jr;do this.split(Or,this.tmp),Or=this.imulK(Or),Or=Or.iadd(this.tmp),jr=Or.bitLength();while(jr>this.n);var Gr=jr<this.n?-1:Or.ucmp(this.p);return Gr===0?(Or.words[0]=0,Or.length=1):Gr>0?Or.isub(this.p):Or.strip!==void 0?Or.strip():Or._strip(),Or},Mr.prototype.split=function(Er,Or){Er.iushrn(this.n,0,Or)},Mr.prototype.imulK=function(Er){return Er.imul(this.k)};function Fr(){Mr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(Fr,Mr),Fr.prototype.split=function(Er,Or){for(var jr=4194303,Gr=Math.min(Er.length,9),qr=0;qr<Gr;qr++)Or.words[qr]=Er.words[qr];if(Or.length=Gr,Er.length<=9){Er.words[0]=0,Er.length=1;return}var Jr=Er.words[9];for(Or.words[Or.length++]=Jr&jr,qr=10;qr<Er.length;qr++){var en=Er.words[qr]|0;Er.words[qr-10]=(en&jr)<<4|Jr>>>22,Jr=en}Jr>>>=22,Er.words[qr-10]=Jr,Jr===0&&Er.length>10?Er.length-=10:Er.length-=9},Fr.prototype.imulK=function(Er){Er.words[Er.length]=0,Er.words[Er.length+1]=0,Er.length+=2;for(var Or=0,jr=0;jr<Er.length;jr++){var Gr=Er.words[jr]|0;Or+=Gr*977,Er.words[jr]=Or&67108863,Or=Gr*64+(Or/67108864|0)}return Er.words[Er.length-1]===0&&(Er.length--,Er.words[Er.length-1]===0&&Er.length--),Er};function Vr(){Mr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(Vr,Mr);function Xr(){Mr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(Xr,Mr);function Yr(){Mr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Yr,Mr),Yr.prototype.imulK=function(Er){for(var Or=0,jr=0;jr<Er.length;jr++){var Gr=(Er.words[jr]|0)*19+Or,qr=Gr&67108863;Gr>>>=26,Er.words[jr]=qr,Or=Gr}return Or!==0&&(Er.words[Er.length++]=Or),Er},s._prime=function(Er){if(Hr[Er])return Hr[Er];var Or;if(Er==="k256")Or=new Fr;else if(Er==="p224")Or=new Vr;else if(Er==="p192")Or=new Xr;else if(Er==="p25519")Or=new Yr;else throw new Error("Unknown prime "+Er);return Hr[Er]=Or,Or};function tn(Lr){if(typeof Lr=="string"){var Er=s._prime(Lr);this.m=Er.p,this.prime=Er}else n(Lr.gtn(1),"modulus must be greater than 1"),this.m=Lr,this.prime=null}tn.prototype._verify1=function(Er){n(Er.negative===0,"red works only with positives"),n(Er.red,"red works only with red numbers")},tn.prototype._verify2=function(Er,Or){n((Er.negative|Or.negative)===0,"red works only with positives"),n(Er.red&&Er.red===Or.red,"red works only with red numbers")},tn.prototype.imod=function(Er){return this.prime?this.prime.ireduce(Er)._forceRed(this):(gr(Er,Er.umod(this.m)._forceRed(this)),Er)},tn.prototype.neg=function(Er){return Er.isZero()?Er.clone():this.m.sub(Er)._forceRed(this)},tn.prototype.add=function(Er,Or){this._verify2(Er,Or);var jr=Er.add(Or);return jr.cmp(this.m)>=0&&jr.isub(this.m),jr._forceRed(this)},tn.prototype.iadd=function(Er,Or){this._verify2(Er,Or);var jr=Er.iadd(Or);return jr.cmp(this.m)>=0&&jr.isub(this.m),jr},tn.prototype.sub=function(Er,Or){this._verify2(Er,Or);var jr=Er.sub(Or);return jr.cmpn(0)<0&&jr.iadd(this.m),jr._forceRed(this)},tn.prototype.isub=function(Er,Or){this._verify2(Er,Or);var jr=Er.isub(Or);return jr.cmpn(0)<0&&jr.iadd(this.m),jr},tn.prototype.shl=function(Er,Or){return this._verify1(Er),this.imod(Er.ushln(Or))},tn.prototype.imul=function(Er,Or){return this._verify2(Er,Or),this.imod(Er.imul(Or))},tn.prototype.mul=function(Er,Or){return this._verify2(Er,Or),this.imod(Er.mul(Or))},tn.prototype.isqr=function(Er){return this.imul(Er,Er.clone())},tn.prototype.sqr=function(Er){return this.mul(Er,Er)},tn.prototype.sqrt=function(Er){if(Er.isZero())return Er.clone();var Or=this.m.andln(3);if(n(Or%2===1),Or===3){var jr=this.m.add(new s(1)).iushrn(2);return this.pow(Er,jr)}for(var Gr=this.m.subn(1),qr=0;!Gr.isZero()&&Gr.andln(1)===0;)qr++,Gr.iushrn(1);n(!Gr.isZero());var Jr=new s(1).toRed(this),en=Jr.redNeg(),Kr=this.m.subn(1).iushrn(1),Ir=this.m.bitLength();for(Ir=new s(2*Ir*Ir).toRed(this);this.pow(Ir,Kr).cmp(en)!==0;)Ir.redIAdd(en);for(var zr=this.pow(Ir,Gr),un=this.pow(Er,Gr.addn(1).iushrn(1)),vn=this.pow(Er,Gr),_n=qr;vn.cmp(Jr)!==0;){for(var dn=vn,gn=0;dn.cmp(Jr)!==0;gn++)dn=dn.redSqr();n(gn<_n);var yn=this.pow(zr,new s(1).iushln(_n-gn-1));un=un.redMul(yn),zr=yn.redSqr(),vn=vn.redMul(zr),_n=gn}return un},tn.prototype.invm=function(Er){var Or=Er._invmp(this.m);return Or.negative!==0?(Or.negative=0,this.imod(Or).redNeg()):this.imod(Or)},tn.prototype.pow=function(Er,Or){if(Or.isZero())return new s(1).toRed(this);if(Or.cmpn(1)===0)return Er.clone();var jr=4,Gr=new Array(1<<jr);Gr[0]=new s(1).toRed(this),Gr[1]=Er;for(var qr=2;qr<Gr.length;qr++)Gr[qr]=this.mul(Gr[qr-1],Er);var Jr=Gr[0],en=0,Kr=0,Ir=Or.bitLength()%26;for(Ir===0&&(Ir=26),qr=Or.length-1;qr>=0;qr--){for(var zr=Or.words[qr],un=Ir-1;un>=0;un--){var vn=zr>>un&1;if(Jr!==Gr[0]&&(Jr=this.sqr(Jr)),vn===0&&en===0){Kr=0;continue}en<<=1,en|=vn,Kr++,!(Kr!==jr&&(qr!==0||un!==0))&&(Jr=this.mul(Jr,Gr[en]),Kr=0,en=0)}Ir=26}return Jr},tn.prototype.convertTo=function(Er){var Or=Er.umod(this.m);return Or===Er?Or.clone():Or},tn.prototype.convertFrom=function(Er){var Or=Er.clone();return Or.red=null,Or},s.mont=function(Er){return new an(Er)};function an(Lr){tn.call(this,Lr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(an,tn),an.prototype.convertTo=function(Er){return this.imod(Er.ushln(this.shift))},an.prototype.convertFrom=function(Er){var Or=this.imod(Er.mul(this.rinv));return Or.red=null,Or},an.prototype.imul=function(Er,Or){if(Er.isZero()||Or.isZero())return Er.words[0]=0,Er.length=1,Er;var jr=Er.imul(Or),Gr=jr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),qr=jr.isub(Gr).iushrn(this.shift),Jr=qr;return qr.cmp(this.m)>=0?Jr=qr.isub(this.m):qr.cmpn(0)<0&&(Jr=qr.iadd(this.m)),Jr._forceRed(this)},an.prototype.mul=function(Er,Or){if(Er.isZero()||Or.isZero())return new s(0)._forceRed(this);var jr=Er.mul(Or),Gr=jr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),qr=jr.isub(Gr).iushrn(this.shift),Jr=qr;return qr.cmp(this.m)>=0?Jr=qr.isub(this.m):qr.cmpn(0)<0&&(Jr=qr.iadd(this.m)),Jr._forceRed(this)},an.prototype.invm=function(Er){var Or=this.imod(Er._invmp(this.m).mul(this.r2));return Or._forceRed(this)}})(t,commonjsGlobal)})(bn);var BN=bn.exports,safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=bufferPolyfill,n=r.Buffer;function o(a,c){for(var d in a)c[d]=a[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s);function s(a,c,d){return n(a,c,d)}s.prototype=Object.create(n.prototype),o(n,s),s.from=function(a,c,d){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,c,d)},s.alloc=function(a,c,d){if(typeof a!="number")throw new TypeError("Argument must be a number");var m=n(a);return c!==void 0?typeof d=="string"?m.fill(c,d):m.fill(c):m.fill(0),m},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(safeBuffer$1,safeBuffer$1.exports);var _Buffer$1=safeBuffer$1.exports.Buffer;function base$2(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=n}var a=t.length,c=t.charAt(0),d=Math.log(a)/Math.log(256),m=Math.log(256)/Math.log(a);function gr(Tr){if((Array.isArray(Tr)||Tr instanceof Uint8Array)&&(Tr=_Buffer$1.from(Tr)),!_Buffer$1.isBuffer(Tr))throw new TypeError("Expected Buffer");if(Tr.length===0)return"";for(var Rr=0,kr=0,xr=0,Dr=Tr.length;xr!==Dr&&Tr[xr]===0;)xr++,Rr++;for(var Ur=(Dr-xr)*m+1>>>0,Cr=new Uint8Array(Ur);xr!==Dr;){for(var Nr=Tr[xr],Hr=0,Mr=Ur-1;(Nr!==0||Hr<kr)&&Mr!==-1;Mr--,Hr++)Nr+=256*Cr[Mr]>>>0,Cr[Mr]=Nr%a>>>0,Nr=Nr/a>>>0;if(Nr!==0)throw new Error("Non-zero carry");kr=Hr,xr++}for(var Fr=Ur-kr;Fr!==Ur&&Cr[Fr]===0;)Fr++;for(var Vr=c.repeat(Rr);Fr<Ur;++Fr)Vr+=t.charAt(Cr[Fr]);return Vr}function vr(Tr){if(typeof Tr!="string")throw new TypeError("Expected String");if(Tr.length===0)return _Buffer$1.alloc(0);for(var Rr=0,kr=0,xr=0;Tr[Rr]===c;)kr++,Rr++;for(var Dr=(Tr.length-Rr)*d+1>>>0,Ur=new Uint8Array(Dr);Tr[Rr];){var Cr=e[Tr.charCodeAt(Rr)];if(Cr===255)return;for(var Nr=0,Hr=Dr-1;(Cr!==0||Nr<xr)&&Hr!==-1;Hr--,Nr++)Cr+=a*Ur[Hr]>>>0,Ur[Hr]=Cr%256>>>0,Cr=Cr/256>>>0;if(Cr!==0)throw new Error("Non-zero carry");xr=Nr,Rr++}for(var Mr=Dr-xr;Mr!==Dr&&Ur[Mr]===0;)Mr++;var Fr=_Buffer$1.allocUnsafe(kr+(Dr-Mr));Fr.fill(0,0,kr);for(var Vr=kr;Mr!==Dr;)Fr[Vr++]=Ur[Mr++];return Fr}function Ar(Tr){var Rr=vr(Tr);if(Rr)return Rr;throw new Error("Non-base"+a+" character")}return{encode:gr,decodeUnsafe:vr,decode:Ar}}var src$2=base$2,basex$2=src$2,ALPHABET$3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$2=basex$2(ALPHABET$3);const Chi=(t,e,r)=>t&e^~t&r,Maj=(t,e,r)=>t&e^t&r^e&r,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:e,B:r,C:n,D:o,E:s,F:a,G:c,H:d}=this;return[e,r,n,o,s,a,c,d]}set(e,r,n,o,s,a,c,d){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=d|0}process(e,r){for(let vr=0;vr<16;vr++,r+=4)SHA256_W[vr]=e.getUint32(r,!1);for(let vr=16;vr<64;vr++){const Ar=SHA256_W[vr-15],Tr=SHA256_W[vr-2],Rr=rotr(Ar,7)^rotr(Ar,18)^Ar>>>3,kr=rotr(Tr,17)^rotr(Tr,19)^Tr>>>10;SHA256_W[vr]=kr+SHA256_W[vr-7]+Rr+SHA256_W[vr-16]|0}let{A:n,B:o,C:s,D:a,E:c,F:d,G:m,H:gr}=this;for(let vr=0;vr<64;vr++){const Ar=rotr(c,6)^rotr(c,11)^rotr(c,25),Tr=gr+Ar+Chi(c,d,m)+SHA256_K[vr]+SHA256_W[vr]|0,kr=(rotr(n,2)^rotr(n,13)^rotr(n,22))+Maj(n,o,s)|0;gr=m,m=d,d=c,c=a+Tr|0,a=s,s=o,o=n,n=Tr+kr|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,d=d+this.F|0,m=m+this.G|0,gr=gr+this.H|0,this.set(n,o,s,a,c,d,m,gr)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256);var lib$1={};function inRange(t,e,r){return e<=t&&t<=r}function ToDictionary(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(t){for(var e=String(t),r=e.length,n=0,o=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)o.push(s);else if(56320<=s&&s<=57343)o.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)o.push(65533);else{var a=t.charCodeAt(n+1);if(56320<=a&&a<=57343){var c=s&1023,d=a&1023;o.push(65536+(c<<10)+d),n+=1}else o.push(65533)}n+=1}return o}function codePointsToString(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var end_of_stream=-1;function Stream(t){this.tokens=[].slice.call(t)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var finished=-1;function decoderError(t,e){if(t)throw TypeError("Decoder error");return e||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(t,e){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(t,e);if(t=t!==void 0?String(t).toLowerCase():DEFAULT_ENCODING,t!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=ToDictionary(r),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(r.stream);for(var o=new Stream(n),s=[],a;!o.endOfStream()&&(a=this._decoder.handler(o,o.read()),a!==finished);)a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a));if(!this._streaming){do{if(a=this._decoder.handler(o,o.read()),a===finished)break;a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a))}while(!o.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),codePointsToString(s)}};function TextEncoder$1(t,e){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(t,e);if(t=t!==void 0?String(t).toLowerCase():DEFAULT_ENCODING,t!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(e,r){e=e?String(e):"",r=ToDictionary(r),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(r.stream);for(var n=[],o=new Stream(stringToCodePoints(e)),s;!o.endOfStream()&&(s=this._encoder.handler(o,o.read()),s!==finished);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(o,o.read()),s!==finished;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function UTF8Decoder(t){var e=t.fatal,r=0,n=0,o=0,s=128,a=191;this.handler=function(c,d){if(d===end_of_stream&&o!==0)return o=0,decoderError(e);if(d===end_of_stream)return finished;if(o===0){if(inRange(d,0,127))return d;if(inRange(d,194,223))o=1,r=d-192;else if(inRange(d,224,239))d===224&&(s=160),d===237&&(a=159),o=2,r=d-224;else if(inRange(d,240,244))d===240&&(s=144),d===244&&(a=143),o=3,r=d-240;else return decoderError(e);return r=r<<6*o,null}if(!inRange(d,s,a))return r=o=n=0,s=128,a=191,c.prepend(d),decoderError(e);if(s=128,a=191,n+=1,r+=d-128<<6*(o-n),n!==o)return null;var m=r;return r=o=n=0,m}}function UTF8Encoder(t){t.fatal,this.handler=function(e,r){if(r===end_of_stream)return finished;if(inRange(r,0,127))return r;var n,o;inRange(r,128,2047)?(n=1,o=192):inRange(r,2048,65535)?(n=2,o=224):inRange(r,65536,1114111)&&(n=3,o=240);for(var s=[(r>>6*n)+o];n>0;){var a=r>>6*(n-1);s.push(128|a&63),n-=1}return s}}var encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:TextEncoder$1,TextDecoder:TextDecoder$1},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(encoding$1),__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__decorate$2=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(o<3?a(s):o>3?a(e,r,s):a(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&__createBinding$2(e,t,r);return __setModuleDefault$2(e,t),e},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lib$1,"__esModule",{value:!0});var deserializeUnchecked_1=lib$1.deserializeUnchecked=deserialize_1=lib$1.deserialize=serialize_1=lib$1.serialize=lib$1.BinaryReader=lib$1.BinaryWriter=lib$1.BorshError=lib$1.baseDecode=lib$1.baseEncode=void 0;const bn_js_1$1=__importDefault$1(bn.exports),bs58_1=__importDefault$1(bs58$2),encoding=__importStar$2(require$$2),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(t){return typeof t=="string"&&(t=dist$1.Buffer.from(t,"utf8")),bs58_1.default.encode(dist$1.Buffer.from(t))}lib$1.baseEncode=baseEncode;function baseDecode(t){return dist$1.Buffer.from(bs58_1.default.decode(t))}lib$1.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib$1.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=dist$1.Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=dist$1.Buffer.concat([this.buf,dist$1.Buffer.alloc(INITIAL_LENGTH)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(dist$1.Buffer.from(new bn_js_1$1.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(dist$1.Buffer.from(new bn_js_1$1.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(dist$1.Buffer.from(new bn_js_1$1.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(dist$1.Buffer.from(new bn_js_1$1.default(e).toArray("le",64)))}writeBuffer(e){this.buf=dist$1.Buffer.concat([dist$1.Buffer.from(this.buf.subarray(0,this.length)),e,dist$1.Buffer.alloc(INITIAL_LENGTH)]),this.length+=e.length}writeString(e){this.maybeResize();const r=dist$1.Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(dist$1.Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}lib$1.BinaryWriter=BinaryWriter;function handlingRangeError(t,e,r){const n=r.value;r.value=function(...o){try{return n.apply(this,o)}catch(s){if(s instanceof RangeError){const a=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw s}}}class BinaryReader{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new bn_js_1$1.default(e,"le")}readU128(){const e=this.readBuffer(16);return new bn_js_1$1.default(e,"le")}readU256(){const e=this.readBuffer(32);return new bn_js_1$1.default(e,"le")}readU512(){const e=this.readBuffer(64);return new bn_js_1$1.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new BorshError(`Expected buffer length ${e} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){const e=this.readU32(),r=this.readBuffer(e);try{return textDecoder.decode(r)}catch(n){throw new BorshError(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const r=this.readU32(),n=Array();for(let o=0;o<r;++o)n.push(e());return n}}__decorate$2([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readArray",null);lib$1.BinaryReader=BinaryReader;function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}function serializeField(t,e,r,n,o){try{if(typeof n=="string")o[`write${capitalizeFirstLetter(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new BorshError(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);o.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new BorshError(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)serializeField(t,null,r[s],n[0],o)}else o.writeArray(r,s=>{serializeField(t,e,s,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?o.writeU8(0):(o.writeU8(1),serializeField(t,e,r,n.type,o));break}case"map":{o.writeU32(r.size),r.forEach((s,a)=>{serializeField(t,e,a,n.key,o),serializeField(t,e,s,n.value,o)});break}default:throw new BorshError(`FieldType ${n} unrecognized`)}else serializeStruct(t,r,o)}catch(s){throw s instanceof BorshError&&s.addToFieldPath(e),s}}function serializeStruct(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}const n=t.get(e.constructor);if(!n)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,s])=>{serializeField(t,o,e[o],s,r)});else if(n.kind==="enum"){const o=e[n.field];for(let s=0;s<n.values.length;++s){const[a,c]=n.values[s];if(a===o){r.writeU8(s),serializeField(t,a,e[a],c,r);break}}}else throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function serialize(t,e,r=BinaryWriter){const n=new r;return serializeStruct(t,e,n),n.toArray()}var serialize_1=lib$1.serialize=serialize;function deserializeField(t,e,r,n){try{if(typeof r=="string")return n[`read${capitalizeFirstLetter(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const o=[];for(let s=0;s<r[1];s++)o.push(deserializeField(t,null,r[0],n));return o}else return n.readArray(()=>deserializeField(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?deserializeField(t,e,r.type,n):void 0;if(r.kind==="map"){let o=new Map;const s=n.readU32();for(let a=0;a<s;a++){const c=deserializeField(t,e,r.key,n),d=deserializeField(t,e,r.value,n);o.set(c,d)}return o}return deserializeStruct(t,r,n)}catch(o){throw o instanceof BorshError&&o.addToFieldPath(e),o}}function deserializeStruct(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new BorshError(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const o={};for(const[s,a]of t.get(e).fields)o[s]=deserializeField(t,s,a,r);return new e(o)}if(n.kind==="enum"){const o=r.readU8();if(o>=n.values.length)throw new BorshError(`Enum index: ${o} is out of range`);const[s,a]=n.values[o],c=deserializeField(t,s,a,r);return new e({[s]:c})}throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function deserialize(t,e,r,n=BinaryReader){const o=new n(r),s=deserializeStruct(t,e,o);if(o.offset<r.length)throw new BorshError(`Unexpected ${r.length-o.offset} bytes after deserialized data`);return s}var deserialize_1=lib$1.deserialize=deserialize;function deserializeUnchecked(t,e,r,n=BinaryReader){const o=new n(r);return deserializeStruct(t,e,o)}deserializeUnchecked_1=lib$1.deserializeUnchecked=deserializeUnchecked;var Layout$4={};Object.defineProperty(Layout$4,"__esModule",{value:!0});Layout$4.s16=Layout$4.s8=Layout$4.nu64be=Layout$4.u48be=Layout$4.u40be=Layout$4.u32be=Layout$4.u24be=Layout$4.u16be=nu64=Layout$4.nu64=Layout$4.u48=Layout$4.u40=u32$1=Layout$4.u32=Layout$4.u24=u16=Layout$4.u16=u8$1=Layout$4.u8=offset=Layout$4.offset=Layout$4.greedy=Layout$4.Constant=Layout$4.UTF8=Layout$4.CString=Layout$4.Blob=Layout$4.Boolean=Layout$4.BitField=Layout$4.BitStructure=Layout$4.VariantLayout=Layout$4.Union=Layout$4.UnionLayoutDiscriminator=Layout$4.UnionDiscriminator=Layout$4.Structure=Layout$4.Sequence=Layout$4.DoubleBE=Layout$4.Double=Layout$4.FloatBE=Layout$4.Float=Layout$4.NearInt64BE=Layout$4.NearInt64=Layout$4.NearUInt64BE=Layout$4.NearUInt64=Layout$4.IntBE=Layout$4.Int=Layout$4.UIntBE=Layout$4.UInt=Layout$4.OffsetLayout=Layout$4.GreedyCount=Layout$4.ExternalLayout=Layout$4.bindConstructorLayout=Layout$4.nameWithProperty=Layout$4.Layout=Layout$4.uint8ArrayToBuffer=Layout$4.checkUint8Array=void 0;Layout$4.constant=Layout$4.utf8=Layout$4.cstr=blob$1=Layout$4.blob=Layout$4.unionLayoutDiscriminator=Layout$4.union=seq=Layout$4.seq=Layout$4.bits=struct$1=Layout$4.struct=Layout$4.f64be=Layout$4.f64=Layout$4.f32be=Layout$4.f32=Layout$4.ns64be=Layout$4.s48be=Layout$4.s40be=Layout$4.s32be=Layout$4.s24be=Layout$4.s16be=ns64=Layout$4.ns64=Layout$4.s48=Layout$4.s40=Layout$4.s32=Layout$4.s24=void 0;const buffer_1=bufferPolyfill;function checkUint8Array(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$4.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(t){return checkUint8Array(t),buffer_1.Buffer.from(t.buffer,t.byteOffset,t.length)}Layout$4.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout$3{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}Layout$4.Layout=Layout$3;function nameWithProperty$2(t,e){return e.property?t+"["+e.property+"]":t}Layout$4.nameWithProperty=nameWithProperty$2;function bindConstructorLayout$1(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}Layout$4.bindConstructorLayout=bindConstructorLayout$1;class ExternalLayout$2 extends Layout$3{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$4.ExternalLayout=ExternalLayout$2;class GreedyCount$1 extends ExternalLayout$2{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){checkUint8Array(e);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}Layout$4.GreedyCount=GreedyCount$1;class OffsetLayout$1 extends ExternalLayout$2{constructor(e,r=0,n){if(!(e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof UInt$2||this.layout instanceof UIntBE$1}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}}Layout$4.OffsetLayout=OffsetLayout$1;class UInt$2 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readUIntLE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeUIntLE(e,n,this.span),this.span}}Layout$4.UInt=UInt$2;class UIntBE$1 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readUIntBE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeUIntBE(e,n,this.span),this.span}}Layout$4.UIntBE=UIntBE$1;class Int$1 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readIntLE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeIntLE(e,n,this.span),this.span}}Layout$4.Int=Int$1;class IntBE$1 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readIntBE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeIntBE(e,n,this.span),this.span}}Layout$4.IntBE=IntBE$1;const V2E32$1=Math.pow(2,32);function divmodInt64$1(t){const e=Math.floor(t/V2E32$1),r=t-e*V2E32$1;return{hi32:e,lo32:r}}function roundedInt64$1(t,e){return t*V2E32$1+e}class NearUInt64$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return roundedInt64$1(s,o)}encode(e,r,n=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(r);return s.writeUInt32LE(o.lo32,n),s.writeUInt32LE(o.hi32,n+4),8}}Layout$4.NearUInt64=NearUInt64$1;class NearUInt64BE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return roundedInt64$1(o,s)}encode(e,r,n=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(r);return s.writeUInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}}Layout$4.NearUInt64BE=NearUInt64BE$1;class NearInt64$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readUInt32LE(r),s=n.readInt32LE(r+4);return roundedInt64$1(s,o)}encode(e,r,n=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(r);return s.writeUInt32LE(o.lo32,n),s.writeInt32LE(o.hi32,n+4),8}}Layout$4.NearInt64=NearInt64$1;class NearInt64BE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readInt32BE(r),s=n.readUInt32BE(r+4);return roundedInt64$1(o,s)}encode(e,r,n=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(r);return s.writeInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}}Layout$4.NearInt64BE=NearInt64BE$1;class Float$1 extends Layout$3{constructor(e){super(4,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readFloatLE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeFloatLE(e,n),4}}Layout$4.Float=Float$1;class FloatBE$1 extends Layout$3{constructor(e){super(4,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readFloatBE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeFloatBE(e,n),4}}Layout$4.FloatBE=FloatBE$1;class Double$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readDoubleLE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeDoubleLE(e,n),8}}Layout$4.Double=Double$1;class DoubleBE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readDoubleBE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeDoubleBE(e,n),8}}Layout$4.DoubleBE=DoubleBE$1;class Sequence$1 extends Layout$3{constructor(e,r,n){if(!(e instanceof Layout$3))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ExternalLayout$2&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(r instanceof ExternalLayout$2)&&0<e.span&&(o=r*e.span),super(o,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof ExternalLayout$2&&(o=o.decode(e,r)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let s=0;for(;s<o;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){const n=[];let o=0,s=this.count;for(s instanceof ExternalLayout$2&&(s=s.decode(e,r));o<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),o+=1;return n}encode(e,r,n=0){const o=this.elementLayout,s=e.reduce((a,c)=>a+o.encode(c,r,n+a),0);return this.count instanceof ExternalLayout$2&&this.count.encode(e.length,r,n),s}}Layout$4.Sequence=Sequence$1;class Structure$2 extends Layout$3{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof Layout$3,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,s)=>{const a=s.getSpan(e,r);return r+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){checkUint8Array(e);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){const o=n;let s=0,a=0;for(const c of this.fields){let d=c.span;if(a=0<d?d:0,c.property!==void 0){const m=e[c.property];m!==void 0&&(a=c.encode(m,r,n),0>d&&(d=c.getSpan(r,n)))}s=n,n+=d}return s+a-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}Layout$4.Structure=Structure$2;class UnionDiscriminator$1{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}}Layout$4.UnionDiscriminator=UnionDiscriminator$1;class UnionLayoutDiscriminator$1 extends UnionDiscriminator$1{constructor(e,r){if(!(e instanceof ExternalLayout$2&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}Layout$4.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;class Union$1 extends Layout$3{constructor(e,r,n){let o;if(e instanceof UInt$2||e instanceof UIntBE$1)o=new UnionLayoutDiscriminator$1(new OffsetLayout$1(e));else if(e instanceof ExternalLayout$2&&e.isCount())o=new UnionLayoutDiscriminator$1(e);else if(e instanceof UnionDiscriminator$1)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Layout$3))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof UInt$2||e instanceof UIntBE$1)&&(s+=o.layout.span)),super(s,n),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof UInt$2||e instanceof UIntBE$1,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n;const o=this.discriminator,s=o.decode(e,r),a=this.registry[s];if(a===void 0){const c=this.defaultLayout;let d=0;this.usesPrefixDiscriminator&&(d=o.layout.span),n=this.makeDestinationObject(),n[o.property]=s,n[c.property]=c.decode(e,r+d)}else n=a.decode(e,r);return n}encode(e,r,n=0){const o=this.getSourceVariant(e);if(o===void 0){const s=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return o.encode(e,r,n)}addVariant(e,r,n){const o=new VariantLayout$1(this,e,r,n);return this.registry[e]=o,o}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}}Layout$4.Union=Union$1;class VariantLayout$1 extends Layout$3{constructor(e,r,n,o){if(!(e instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Layout$3))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,r+n)),n+o}decode(e,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=o;if(this.layout&&(this.layout.encode(e[this.property],r,n+o),s+=this.layout.getSpan(r,n+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Layout$4.VariantLayout=VariantLayout$1;function fixBitwiseResult$1(t){return 0>t&&(t+=4294967296),t}class BitStructure$1 extends Layout$3{constructor(e,r,n){if(!(e instanceof UInt$2||e instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let o=0;this._packedSetValue=function(s){return o=fixBitwiseResult$1(s),this},this._packedGetValue=function(){return o}}decode(e,r=0){const n=this.makeDestinationObject(),o=this.word.decode(e,r);this._packedSetValue(o);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){const o=this.word.decode(r,n);this._packedSetValue(o);for(const s of this.fields)if(s.property!==void 0){const a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new BitField$1(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new Boolean$2(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}Layout$4.BitStructure=BitStructure$1;class BitField$1{constructor(e,r,n){if(!(e instanceof BitStructure$1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const o=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(r+s>o)throw new Error("bits too long for span remainder ("+(o-s)+" of "+o+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=o-s-r),this.wordMask=fixBitwiseResult$1(this.valueMask<<this.start),this.property=n}decode(e,r){const n=this.container._packedGetValue();return fixBitwiseResult$1(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==fixBitwiseResult$1(e&this.valueMask))throw new TypeError(nameWithProperty$2("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=fixBitwiseResult$1(e<<this.start);this.container._packedSetValue(fixBitwiseResult$1(r&~this.wordMask)|n)}}Layout$4.BitField=BitField$1;class Boolean$2 extends BitField$1{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}}Layout$4.Boolean=Boolean$2;class Blob$4 extends Layout$3{constructor(e,r){if(!(e instanceof ExternalLayout$2&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ExternalLayout$2||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),uint8ArrayToBuffer(e).slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof ExternalLayout$2&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(nameWithProperty$2("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>r.length)throw new RangeError("encoding overruns Uint8Array");const s=uint8ArrayToBuffer(e);return uint8ArrayToBuffer(r).write(s.toString("hex"),n,o,"hex"),this.length instanceof ExternalLayout$2&&this.length.encode(o,r,n),o}}Layout$4.Blob=Blob$4;class CString$1 extends Layout$3{constructor(e){super(-1,e)}getSpan(e,r=0){checkUint8Array(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){const n=this.getSpan(e,r);return uint8ArrayToBuffer(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const o=buffer_1.Buffer.from(e,"utf8"),s=o.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const a=uint8ArrayToBuffer(r);return o.copy(a,n),a[n+s]=0,s+1}}Layout$4.CString=CString$1;class UTF8$1 extends Layout$3{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return checkUint8Array(e),e.length-r}decode(e,r=0){const n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const o=buffer_1.Buffer.from(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(uint8ArrayToBuffer(r),n),s}}Layout$4.UTF8=UTF8$1;class Constant$1 extends Layout$3{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}}Layout$4.Constant=Constant$1;Layout$4.greedy=(t,e)=>new GreedyCount$1(t,e);var offset=Layout$4.offset=(t,e,r)=>new OffsetLayout$1(t,e,r),u8$1=Layout$4.u8=t=>new UInt$2(1,t),u16=Layout$4.u16=t=>new UInt$2(2,t);Layout$4.u24=t=>new UInt$2(3,t);var u32$1=Layout$4.u32=t=>new UInt$2(4,t);Layout$4.u40=t=>new UInt$2(5,t);Layout$4.u48=t=>new UInt$2(6,t);var nu64=Layout$4.nu64=t=>new NearUInt64$1(t);Layout$4.u16be=t=>new UIntBE$1(2,t);Layout$4.u24be=t=>new UIntBE$1(3,t);Layout$4.u32be=t=>new UIntBE$1(4,t);Layout$4.u40be=t=>new UIntBE$1(5,t);Layout$4.u48be=t=>new UIntBE$1(6,t);Layout$4.nu64be=t=>new NearUInt64BE$1(t);Layout$4.s8=t=>new Int$1(1,t);Layout$4.s16=t=>new Int$1(2,t);Layout$4.s24=t=>new Int$1(3,t);Layout$4.s32=t=>new Int$1(4,t);Layout$4.s40=t=>new Int$1(5,t);Layout$4.s48=t=>new Int$1(6,t);var ns64=Layout$4.ns64=t=>new NearInt64$1(t);Layout$4.s16be=t=>new IntBE$1(2,t);Layout$4.s24be=t=>new IntBE$1(3,t);Layout$4.s32be=t=>new IntBE$1(4,t);Layout$4.s40be=t=>new IntBE$1(5,t);Layout$4.s48be=t=>new IntBE$1(6,t);Layout$4.ns64be=t=>new NearInt64BE$1(t);Layout$4.f32=t=>new Float$1(t);Layout$4.f32be=t=>new FloatBE$1(t);Layout$4.f64=t=>new Double$1(t);Layout$4.f64be=t=>new DoubleBE$1(t);var struct$1=Layout$4.struct=(t,e,r)=>new Structure$2(t,e,r);Layout$4.bits=(t,e,r)=>new BitStructure$1(t,e,r);var seq=Layout$4.seq=(t,e,r)=>new Sequence$1(t,e,r);Layout$4.union=(t,e,r)=>new Union$1(t,e,r);Layout$4.unionLayoutDiscriminator=(t,e)=>new UnionLayoutDiscriminator$1(t,e);var blob$1=Layout$4.blob=(t,e)=>new Blob$4(t,e);Layout$4.cstr=t=>new CString$1(t);Layout$4.utf8=(t,e)=>new UTF8$1(t,e);Layout$4.constant=(t,e)=>new Constant$1(t,e);var browser$3={};Object.defineProperty(browser$3,"__esModule",{value:!0});function toBigIntLE(t){{const e=dist$1.Buffer.from(t);e.reverse();const r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var toBigIntLE_1=browser$3.toBigIntLE=toBigIntLE;function toBigIntBE(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}browser$3.toBigIntBE=toBigIntBE;function toBufferLE(t,e){{const r=t.toString(16),n=dist$1.Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var toBufferLE_1=browser$3.toBufferLE=toBufferLE;function toBufferBE(t,e){{const r=t.toString(16);return dist$1.Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}}browser$3.toBufferBE=toBufferBE;class StructError extends TypeError{constructor(e,r){let n;const{message:o,...s}=e,{path:a}=e,c=a.length===0?o:"At path: "+a.join(".")+" -- "+o;super(c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var d;return(d=n)!=null?d:n=[e,...r()]}}}function isIterable(t){return isObject$4(t)&&typeof t[Symbol.iterator]=="function"}function isObject$4(t){return typeof t=="object"&&t!=null}function print(t){return typeof t=="string"?JSON.stringify(t):""+t}function shiftIterator(t){const{done:e,value:r}=t.next();return e?void 0:r}function toFailure(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:s}=e,{type:a}=r,{refinement:c,message:d="Expected a value of type `"+a+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+print(n)+"`"}=t;return{value:n,type:a,refinement:c,key:o[o.length-1],path:o,branch:s,...t,message:d}}function*toFailures(t,e,r,n){isIterable(t)||(t=[t]);for(const o of t){const s=toFailure(o,e,r,n);s&&(yield s)}}function*run$1(t,e,r={}){const{path:n=[],branch:o=[t],coerce:s=!1,mask:a=!1}=r,c={path:n,branch:o};if(s&&(t=e.coercer(t,c),a&&e.type!=="type"&&isObject$4(e.schema)&&isObject$4(t)&&!Array.isArray(t)))for(const m in t)e.schema[m]===void 0&&delete t[m];let d=!0;for(const m of e.validator(t,c))d=!1,yield[m,void 0];for(let[m,gr,vr]of e.entries(t,c)){const Ar=run$1(gr,vr,{path:m===void 0?n:[...n,m],branch:m===void 0?o:[...o,gr],coerce:s,mask:a});for(const Tr of Ar)Tr[0]?(d=!1,yield[Tr[0],void 0]):s&&(gr=Tr[1],m===void 0?t=gr:t instanceof Map?t.set(m,gr):t instanceof Set?t.add(gr):isObject$4(t)&&(t[m]=gr))}if(d)for(const m of e.refiner(t,c))d=!1,yield[m,void 0];d&&(yield[void 0,t])}class Struct$1{constructor(e){const{type:r,schema:n,validator:o,refiner:s,coercer:a=d=>d,entries:c=function*(){}}=e;this.type=r,this.schema=n,this.entries=c,this.coercer=a,o?this.validator=(d,m)=>{const gr=o(d,m);return toFailures(gr,m,this,d)}:this.validator=()=>[],s?this.refiner=(d,m)=>{const gr=s(d,m);return toFailures(gr,m,this,d)}:this.refiner=()=>[]}assert(e){return assert$5(e,this)}create(e){return create(e,this)}is(e){return is(e,this)}mask(e){return mask(e,this)}validate(e,r={}){return validate$1(e,this,r)}}function assert$5(t,e){const r=validate$1(t,e);if(r[0])throw r[0]}function create(t,e){const r=validate$1(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function mask(t,e){const r=validate$1(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function is(t,e){return!validate$1(t,e)[0]}function validate$1(t,e,r={}){const n=run$1(t,e,r),o=shiftIterator(n);if(o[0])return[new StructError(o[0],function*(){for(const a of n)a[0]&&(yield a[0])}),void 0];{const s=o[1];return[void 0,s]}}function define$5(t,e){return new Struct$1({type:t,schema:null,validator:e})}function any(){return define$5("any",()=>!0)}function array(t){return new Struct$1({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print(e)}})}function boolean(){return define$5("boolean",t=>typeof t=="boolean")}function instance(t){return define$5("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+print(e))}function literal(t){const e=print(t),r=typeof t;return new Struct$1({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+print(n)}})}function never(){return define$5("never",()=>!1)}function nullable(t){return new Struct$1({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function number(){return define$5("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+print(t))}function optional(t){return new Struct$1({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function record(t,e){return new Struct$1({type:"record",schema:null,*entries(r){if(isObject$4(r))for(const n in r){const o=r[n];yield[n,n,t],yield[n,o,e]}},validator(r){return isObject$4(r)||"Expected an object, but received: "+print(r)}})}function string(){return define$5("string",t=>typeof t=="string"||"Expected a string, but received: "+print(t))}function tuple(t){const e=never();return new Struct$1({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let o=0;o<n;o++)yield[o,r[o],t[o]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+print(r)}})}function type(t){const e=Object.keys(t);return new Struct$1({type:"type",schema:t,*entries(r){if(isObject$4(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return isObject$4(r)||"Expected an object, but received: "+print(r)}})}function union(t){const e=t.map(r=>r.type).join(" | ");return new Struct$1({type:"union",schema:null,validator(r,n){const o=[];for(const s of t){const[...a]=run$1(r,s,n),[c]=a;if(c[0])for(const[d]of a)d&&o.push(d);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print(r),...o]}})}function unknown(){return define$5("unknown",()=>!0)}function coerce(t,e,r){return new Struct$1({...t,coercer:(n,o)=>is(n,e)?t.coercer(r(n,o),o):t.coercer(n,o)})}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(t){return typeof t=="string"&&REGEX.test(t)}var byteToHex=[];for(var i$2=0;i$2<256;++i$2)byteToHex.push((i$2+256).toString(16).substr(1));function stringify$1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase();if(!validate(r))throw TypeError("Stringified UUID is invalid");return r}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(t,e,r){var n=e&&r||0,o=e||new Array(16);t=t||{};var s=t.node||_nodeId,a=t.clockseq!==void 0?t.clockseq:_clockseq;if(s==null||a==null){var c=t.random||(t.rng||rng)();s==null&&(s=_nodeId=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),a==null&&(a=_clockseq=(c[6]<<8|c[7])&16383)}var d=t.msecs!==void 0?t.msecs:Date.now(),m=t.nsecs!==void 0?t.nsecs:_lastNSecs+1,gr=d-_lastMSecs+(m-_lastNSecs)/1e4;if(gr<0&&t.clockseq===void 0&&(a=a+1&16383),(gr<0||d>_lastMSecs)&&t.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=d,_lastNSecs=m,_clockseq=a,d+=122192928e5;var vr=((d&268435455)*1e4+m)%4294967296;o[n++]=vr>>>24&255,o[n++]=vr>>>16&255,o[n++]=vr>>>8&255,o[n++]=vr&255;var Ar=d/4294967296*1e4&268435455;o[n++]=Ar>>>8&255,o[n++]=Ar&255,o[n++]=Ar>>>24&15|16,o[n++]=Ar>>>16&255,o[n++]=a>>>8|128,o[n++]=a&255;for(var Tr=0;Tr<6;++Tr)o[n+Tr]=s[Tr];return e||stringify$1(o)}function parse(t){if(!validate(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function stringToBytes(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(t,e,r){function n(o,s,a,c){if(typeof o=="string"&&(o=stringToBytes(o)),typeof s=="string"&&(s=parse(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+o.length);if(d.set(s),d.set(o,s.length),d=r(d),d[6]=d[6]&15|e,d[8]=d[8]&63|128,a){c=c||0;for(var m=0;m<16;++m)a[c+m]=d[m];return a}return stringify$1(d)}try{n.name=t}catch{}return n.DNS=DNS,n.URL=URL$1,n}function md5(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(t),t.length*8))}function md5ToHexEncodedArray(t){for(var e=[],r=t.length*32,n="0123456789abcdef",o=0;o<r;o+=8){var s=t[o>>5]>>>o%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(a)}return e}function getOutputLength(t){return(t+64>>>9<<4)+14+1}function wordsToMd5(t,e){t[e>>5]|=128<<e%32,t[getOutputLength(e)-1]=e;for(var r=1732584193,n=-271733879,o=-1732584194,s=271733878,a=0;a<t.length;a+=16){var c=r,d=n,m=o,gr=s;r=md5ff(r,n,o,s,t[a],7,-680876936),s=md5ff(s,r,n,o,t[a+1],12,-389564586),o=md5ff(o,s,r,n,t[a+2],17,606105819),n=md5ff(n,o,s,r,t[a+3],22,-1044525330),r=md5ff(r,n,o,s,t[a+4],7,-176418897),s=md5ff(s,r,n,o,t[a+5],12,1200080426),o=md5ff(o,s,r,n,t[a+6],17,-1473231341),n=md5ff(n,o,s,r,t[a+7],22,-45705983),r=md5ff(r,n,o,s,t[a+8],7,1770035416),s=md5ff(s,r,n,o,t[a+9],12,-1958414417),o=md5ff(o,s,r,n,t[a+10],17,-42063),n=md5ff(n,o,s,r,t[a+11],22,-1990404162),r=md5ff(r,n,o,s,t[a+12],7,1804603682),s=md5ff(s,r,n,o,t[a+13],12,-40341101),o=md5ff(o,s,r,n,t[a+14],17,-1502002290),n=md5ff(n,o,s,r,t[a+15],22,1236535329),r=md5gg(r,n,o,s,t[a+1],5,-165796510),s=md5gg(s,r,n,o,t[a+6],9,-1069501632),o=md5gg(o,s,r,n,t[a+11],14,643717713),n=md5gg(n,o,s,r,t[a],20,-373897302),r=md5gg(r,n,o,s,t[a+5],5,-701558691),s=md5gg(s,r,n,o,t[a+10],9,38016083),o=md5gg(o,s,r,n,t[a+15],14,-660478335),n=md5gg(n,o,s,r,t[a+4],20,-405537848),r=md5gg(r,n,o,s,t[a+9],5,568446438),s=md5gg(s,r,n,o,t[a+14],9,-1019803690),o=md5gg(o,s,r,n,t[a+3],14,-187363961),n=md5gg(n,o,s,r,t[a+8],20,1163531501),r=md5gg(r,n,o,s,t[a+13],5,-1444681467),s=md5gg(s,r,n,o,t[a+2],9,-51403784),o=md5gg(o,s,r,n,t[a+7],14,1735328473),n=md5gg(n,o,s,r,t[a+12],20,-1926607734),r=md5hh(r,n,o,s,t[a+5],4,-378558),s=md5hh(s,r,n,o,t[a+8],11,-2022574463),o=md5hh(o,s,r,n,t[a+11],16,1839030562),n=md5hh(n,o,s,r,t[a+14],23,-35309556),r=md5hh(r,n,o,s,t[a+1],4,-1530992060),s=md5hh(s,r,n,o,t[a+4],11,1272893353),o=md5hh(o,s,r,n,t[a+7],16,-155497632),n=md5hh(n,o,s,r,t[a+10],23,-1094730640),r=md5hh(r,n,o,s,t[a+13],4,681279174),s=md5hh(s,r,n,o,t[a],11,-358537222),o=md5hh(o,s,r,n,t[a+3],16,-722521979),n=md5hh(n,o,s,r,t[a+6],23,76029189),r=md5hh(r,n,o,s,t[a+9],4,-640364487),s=md5hh(s,r,n,o,t[a+12],11,-421815835),o=md5hh(o,s,r,n,t[a+15],16,530742520),n=md5hh(n,o,s,r,t[a+2],23,-995338651),r=md5ii(r,n,o,s,t[a],6,-198630844),s=md5ii(s,r,n,o,t[a+7],10,1126891415),o=md5ii(o,s,r,n,t[a+14],15,-1416354905),n=md5ii(n,o,s,r,t[a+5],21,-57434055),r=md5ii(r,n,o,s,t[a+12],6,1700485571),s=md5ii(s,r,n,o,t[a+3],10,-1894986606),o=md5ii(o,s,r,n,t[a+10],15,-1051523),n=md5ii(n,o,s,r,t[a+1],21,-2054922799),r=md5ii(r,n,o,s,t[a+8],6,1873313359),s=md5ii(s,r,n,o,t[a+15],10,-30611744),o=md5ii(o,s,r,n,t[a+6],15,-1560198380),n=md5ii(n,o,s,r,t[a+13],21,1309151649),r=md5ii(r,n,o,s,t[a+4],6,-145523070),s=md5ii(s,r,n,o,t[a+11],10,-1120210379),o=md5ii(o,s,r,n,t[a+2],15,718787259),n=md5ii(n,o,s,r,t[a+9],21,-343485551),r=safeAdd(r,c),n=safeAdd(n,d),o=safeAdd(o,m),s=safeAdd(s,gr)}return[r,n,o,s]}function bytesToWords(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(getOutputLength(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function safeAdd(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function bitRotateLeft(t,e){return t<<e|t>>>32-e}function md5cmn(t,e,r,n,o,s){return safeAdd(bitRotateLeft(safeAdd(safeAdd(e,t),safeAdd(n,s)),o),r)}function md5ff(t,e,r,n,o,s,a){return md5cmn(e&r|~e&n,t,e,o,s,a)}function md5gg(t,e,r,n,o,s,a){return md5cmn(e&n|r&~n,t,e,o,s,a)}function md5hh(t,e,r,n,o,s,a){return md5cmn(e^r^n,t,e,o,s,a)}function md5ii(t,e,r,n,o,s,a){return md5cmn(r^(e|~n),t,e,o,s,a)}var v3=v35("v3",48,md5),v3$1=v3;function v4(t,e,r){t=t||{};var n=t.random||(t.rng||rng)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return stringify$1(n)}function f(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function ROTL(t,e){return t<<e|t>>>32-e}function sha1(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var o=0;o<n.length;++o)t.push(n.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,a=Math.ceil(s/16),c=new Array(a),d=0;d<a;++d){for(var m=new Uint32Array(16),gr=0;gr<16;++gr)m[gr]=t[d*64+gr*4]<<24|t[d*64+gr*4+1]<<16|t[d*64+gr*4+2]<<8|t[d*64+gr*4+3];c[d]=m}c[a-1][14]=(t.length-1)*8/Math.pow(2,32),c[a-1][14]=Math.floor(c[a-1][14]),c[a-1][15]=(t.length-1)*8&4294967295;for(var vr=0;vr<a;++vr){for(var Ar=new Uint32Array(80),Tr=0;Tr<16;++Tr)Ar[Tr]=c[vr][Tr];for(var Rr=16;Rr<80;++Rr)Ar[Rr]=ROTL(Ar[Rr-3]^Ar[Rr-8]^Ar[Rr-14]^Ar[Rr-16],1);for(var kr=r[0],xr=r[1],Dr=r[2],Ur=r[3],Cr=r[4],Nr=0;Nr<80;++Nr){var Hr=Math.floor(Nr/20),Mr=ROTL(kr,5)+f(Hr,xr,Dr,Ur)+Cr+e[Hr]+Ar[Nr]>>>0;Cr=Ur,Ur=Dr,Dr=ROTL(xr,30)>>>0,xr=kr,kr=Mr}r[0]=r[0]+kr>>>0,r[1]=r[1]+xr>>>0,r[2]=r[2]+Dr>>>0,r[3]=r[3]+Ur>>>0,r[4]=r[4]+Cr>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var v5=v35("v5",80,sha1),v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version(t){if(!validate(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,v1,v3:v3$1,v4,v5:v5$1,NIL:nil,version,validate,stringify:stringify$1,parse},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(esmBrowser);const uuid$1=require$$0$3.v4,generateRequest$1=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};const o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const s={method:t};if(o===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){const a=typeof n.generator=="function"?n.generator:function(){return uuid$1()};s.id=a(s,n)}else o===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};var generateRequest_1=generateRequest$1;const uuid=require$$0$3.v4,generateRequest=generateRequest_1,ClientBrowser=function(t,e){if(!(this instanceof ClientBrowser))return new ClientBrowser(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uuid()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var browser$2=ClientBrowser;ClientBrowser.prototype.request=function(t,e,r,n){const o=this;let s=null;const a=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);const m=typeof n=="function";try{s=generateRequest(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(gr){if(m)return n(gr);throw gr}if(!m)return s}let d;try{d=JSON.stringify(s,this.options.replacer)}catch(m){return n(m)}return this.callServer(d,function(m,gr){o._parseResponse(m,gr,n)}),s};ClientBrowser.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(o){return r(o)}if(r.length===3)if(Array.isArray(n)){const o=function(a){return typeof a.error<"u"},s=function(a){return!o(a)};return r(null,n.filter(o),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};var client={},interopRequireDefault={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(interopRequireDefault);var regeneratorRuntime$1={exports:{}},_typeof$5={exports:{}};(function(t){function e(r){return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(_typeof$5);(function(t){var e=_typeof$5.exports.default;function r(){t.exports=r=function(){return o},t.exports.__esModule=!0,t.exports.default=t.exports;var n,o={},s=Object.prototype,a=s.hasOwnProperty,c=Object.defineProperty||function(Jr,en,Kr){Jr[en]=Kr.value},d=typeof Symbol=="function"?Symbol:{},m=d.iterator||"@@iterator",gr=d.asyncIterator||"@@asyncIterator",vr=d.toStringTag||"@@toStringTag";function Ar(Jr,en,Kr){return Object.defineProperty(Jr,en,{value:Kr,enumerable:!0,configurable:!0,writable:!0}),Jr[en]}try{Ar({},"")}catch{Ar=function(Kr,Ir,zr){return Kr[Ir]=zr}}function Tr(Jr,en,Kr,Ir){var zr=en&&en.prototype instanceof Nr?en:Nr,un=Object.create(zr.prototype),vn=new Gr(Ir||[]);return c(un,"_invoke",{value:Lr(Jr,Kr,vn)}),un}function Rr(Jr,en,Kr){try{return{type:"normal",arg:Jr.call(en,Kr)}}catch(Ir){return{type:"throw",arg:Ir}}}o.wrap=Tr;var kr="suspendedStart",xr="suspendedYield",Dr="executing",Ur="completed",Cr={};function Nr(){}function Hr(){}function Mr(){}var Fr={};Ar(Fr,m,function(){return this});var Vr=Object.getPrototypeOf,Xr=Vr&&Vr(Vr(qr([])));Xr&&Xr!==s&&a.call(Xr,m)&&(Fr=Xr);var Yr=Mr.prototype=Nr.prototype=Object.create(Fr);function tn(Jr){["next","throw","return"].forEach(function(en){Ar(Jr,en,function(Kr){return this._invoke(en,Kr)})})}function an(Jr,en){function Kr(zr,un,vn,_n){var dn=Rr(Jr[zr],Jr,un);if(dn.type!=="throw"){var gn=dn.arg,yn=gn.value;return yn&&e(yn)=="object"&&a.call(yn,"__await")?en.resolve(yn.__await).then(function(Tn){Kr("next",Tn,vn,_n)},function(Tn){Kr("throw",Tn,vn,_n)}):en.resolve(yn).then(function(Tn){gn.value=Tn,vn(gn)},function(Tn){return Kr("throw",Tn,vn,_n)})}_n(dn.arg)}var Ir;c(this,"_invoke",{value:function(un,vn){function _n(){return new en(function(dn,gn){Kr(un,vn,dn,gn)})}return Ir=Ir?Ir.then(_n,_n):_n()}})}function Lr(Jr,en,Kr){var Ir=kr;return function(zr,un){if(Ir===Dr)throw new Error("Generator is already running");if(Ir===Ur){if(zr==="throw")throw un;return{value:n,done:!0}}for(Kr.method=zr,Kr.arg=un;;){var vn=Kr.delegate;if(vn){var _n=Er(vn,Kr);if(_n){if(_n===Cr)continue;return _n}}if(Kr.method==="next")Kr.sent=Kr._sent=Kr.arg;else if(Kr.method==="throw"){if(Ir===kr)throw Ir=Ur,Kr.arg;Kr.dispatchException(Kr.arg)}else Kr.method==="return"&&Kr.abrupt("return",Kr.arg);Ir=Dr;var dn=Rr(Jr,en,Kr);if(dn.type==="normal"){if(Ir=Kr.done?Ur:xr,dn.arg===Cr)continue;return{value:dn.arg,done:Kr.done}}dn.type==="throw"&&(Ir=Ur,Kr.method="throw",Kr.arg=dn.arg)}}}function Er(Jr,en){var Kr=en.method,Ir=Jr.iterator[Kr];if(Ir===n)return en.delegate=null,Kr==="throw"&&Jr.iterator.return&&(en.method="return",en.arg=n,Er(Jr,en),en.method==="throw")||Kr!=="return"&&(en.method="throw",en.arg=new TypeError("The iterator does not provide a '"+Kr+"' method")),Cr;var zr=Rr(Ir,Jr.iterator,en.arg);if(zr.type==="throw")return en.method="throw",en.arg=zr.arg,en.delegate=null,Cr;var un=zr.arg;return un?un.done?(en[Jr.resultName]=un.value,en.next=Jr.nextLoc,en.method!=="return"&&(en.method="next",en.arg=n),en.delegate=null,Cr):un:(en.method="throw",en.arg=new TypeError("iterator result is not an object"),en.delegate=null,Cr)}function Or(Jr){var en={tryLoc:Jr[0]};1 in Jr&&(en.catchLoc=Jr[1]),2 in Jr&&(en.finallyLoc=Jr[2],en.afterLoc=Jr[3]),this.tryEntries.push(en)}function jr(Jr){var en=Jr.completion||{};en.type="normal",delete en.arg,Jr.completion=en}function Gr(Jr){this.tryEntries=[{tryLoc:"root"}],Jr.forEach(Or,this),this.reset(!0)}function qr(Jr){if(Jr||Jr===""){var en=Jr[m];if(en)return en.call(Jr);if(typeof Jr.next=="function")return Jr;if(!isNaN(Jr.length)){var Kr=-1,Ir=function zr(){for(;++Kr<Jr.length;)if(a.call(Jr,Kr))return zr.value=Jr[Kr],zr.done=!1,zr;return zr.value=n,zr.done=!0,zr};return Ir.next=Ir}}throw new TypeError(e(Jr)+" is not iterable")}return Hr.prototype=Mr,c(Yr,"constructor",{value:Mr,configurable:!0}),c(Mr,"constructor",{value:Hr,configurable:!0}),Hr.displayName=Ar(Mr,vr,"GeneratorFunction"),o.isGeneratorFunction=function(Jr){var en=typeof Jr=="function"&&Jr.constructor;return!!en&&(en===Hr||(en.displayName||en.name)==="GeneratorFunction")},o.mark=function(Jr){return Object.setPrototypeOf?Object.setPrototypeOf(Jr,Mr):(Jr.__proto__=Mr,Ar(Jr,vr,"GeneratorFunction")),Jr.prototype=Object.create(Yr),Jr},o.awrap=function(Jr){return{__await:Jr}},tn(an.prototype),Ar(an.prototype,gr,function(){return this}),o.AsyncIterator=an,o.async=function(Jr,en,Kr,Ir,zr){zr===void 0&&(zr=Promise);var un=new an(Tr(Jr,en,Kr,Ir),zr);return o.isGeneratorFunction(en)?un:un.next().then(function(vn){return vn.done?vn.value:un.next()})},tn(Yr),Ar(Yr,vr,"Generator"),Ar(Yr,m,function(){return this}),Ar(Yr,"toString",function(){return"[object Generator]"}),o.keys=function(Jr){var en=Object(Jr),Kr=[];for(var Ir in en)Kr.push(Ir);return Kr.reverse(),function zr(){for(;Kr.length;){var un=Kr.pop();if(un in en)return zr.value=un,zr.done=!1,zr}return zr.done=!0,zr}},o.values=qr,Gr.prototype={constructor:Gr,reset:function(en){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(jr),!en)for(var Kr in this)Kr.charAt(0)==="t"&&a.call(this,Kr)&&!isNaN(+Kr.slice(1))&&(this[Kr]=n)},stop:function(){this.done=!0;var en=this.tryEntries[0].completion;if(en.type==="throw")throw en.arg;return this.rval},dispatchException:function(en){if(this.done)throw en;var Kr=this;function Ir(gn,yn){return vn.type="throw",vn.arg=en,Kr.next=gn,yn&&(Kr.method="next",Kr.arg=n),!!yn}for(var zr=this.tryEntries.length-1;zr>=0;--zr){var un=this.tryEntries[zr],vn=un.completion;if(un.tryLoc==="root")return Ir("end");if(un.tryLoc<=this.prev){var _n=a.call(un,"catchLoc"),dn=a.call(un,"finallyLoc");if(_n&&dn){if(this.prev<un.catchLoc)return Ir(un.catchLoc,!0);if(this.prev<un.finallyLoc)return Ir(un.finallyLoc)}else if(_n){if(this.prev<un.catchLoc)return Ir(un.catchLoc,!0)}else{if(!dn)throw new Error("try statement without catch or finally");if(this.prev<un.finallyLoc)return Ir(un.finallyLoc)}}}},abrupt:function(en,Kr){for(var Ir=this.tryEntries.length-1;Ir>=0;--Ir){var zr=this.tryEntries[Ir];if(zr.tryLoc<=this.prev&&a.call(zr,"finallyLoc")&&this.prev<zr.finallyLoc){var un=zr;break}}un&&(en==="break"||en==="continue")&&un.tryLoc<=Kr&&Kr<=un.finallyLoc&&(un=null);var vn=un?un.completion:{};return vn.type=en,vn.arg=Kr,un?(this.method="next",this.next=un.finallyLoc,Cr):this.complete(vn)},complete:function(en,Kr){if(en.type==="throw")throw en.arg;return en.type==="break"||en.type==="continue"?this.next=en.arg:en.type==="return"?(this.rval=this.arg=en.arg,this.method="return",this.next="end"):en.type==="normal"&&Kr&&(this.next=Kr),Cr},finish:function(en){for(var Kr=this.tryEntries.length-1;Kr>=0;--Kr){var Ir=this.tryEntries[Kr];if(Ir.finallyLoc===en)return this.complete(Ir.completion,Ir.afterLoc),jr(Ir),Cr}},catch:function(en){for(var Kr=this.tryEntries.length-1;Kr>=0;--Kr){var Ir=this.tryEntries[Kr];if(Ir.tryLoc===en){var zr=Ir.completion;if(zr.type==="throw"){var un=zr.arg;jr(Ir)}return un}}throw new Error("illegal catch attempt")},delegateYield:function(en,Kr,Ir){return this.delegate={iterator:qr(en),resultName:Kr,nextLoc:Ir},this.method==="next"&&(this.arg=n),Cr}},o}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(regeneratorRuntime$1);var runtime=regeneratorRuntime$1.exports(),regenerator=runtime;try{regeneratorRuntime=runtime}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}var asyncToGenerator={exports:{}};(function(t){function e(n,o,s,a,c,d,m){try{var gr=n[d](m),vr=gr.value}catch(Ar){s(Ar);return}gr.done?o(vr):Promise.resolve(vr).then(a,c)}function r(n){return function(){var o=this,s=arguments;return new Promise(function(a,c){var d=n.apply(o,s);function m(vr){e(d,a,c,m,gr,"next",vr)}function gr(vr){e(d,a,c,m,gr,"throw",vr)}m(void 0)})}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(asyncToGenerator);var classCallCheck={exports:{}};(function(t){function e(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(classCallCheck);var createClass={exports:{}},toPropertyKey={exports:{}},toPrimitive$1={exports:{}};(function(t){var e=_typeof$5.exports.default;function r(n,o){if(e(n)!=="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,o||"default");if(e(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(toPrimitive$1);(function(t){var e=_typeof$5.exports.default,r=toPrimitive$1.exports;function n(o){var s=r(o,"string");return e(s)==="symbol"?s:String(s)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(toPropertyKey);(function(t){var e=toPropertyKey.exports;function r(o,s){for(var a=0;a<s.length;a++){var c=s[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,e(c.key),c)}}function n(o,s,a){return s&&r(o.prototype,s),a&&r(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(createClass);var inherits$3={exports:{}},setPrototypeOf={exports:{}};(function(t){function e(r,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(setPrototypeOf);(function(t){var e=setPrototypeOf.exports;function r(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&e(n,o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(inherits$3);var possibleConstructorReturn={exports:{}},assertThisInitialized={exports:{}};(function(t){function e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(assertThisInitialized);(function(t){var e=_typeof$5.exports.default,r=assertThisInitialized.exports;function n(o,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(possibleConstructorReturn);var getPrototypeOf$2={exports:{}};(function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(getPrototypeOf$2);var eventemitter3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(d,m,gr){this.fn=d,this.context=m,this.once=gr||!1}function s(d,m,gr,vr,Ar){if(typeof gr!="function")throw new TypeError("The listener must be a function");var Tr=new o(gr,vr||d,Ar),Rr=r?r+m:m;return d._events[Rr]?d._events[Rr].fn?d._events[Rr]=[d._events[Rr],Tr]:d._events[Rr].push(Tr):(d._events[Rr]=Tr,d._eventsCount++),d}function a(d,m){--d._eventsCount===0?d._events=new n:delete d._events[m]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var m=[],gr,vr;if(this._eventsCount===0)return m;for(vr in gr=this._events)e.call(gr,vr)&&m.push(r?vr.slice(1):vr);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(gr)):m},c.prototype.listeners=function(m){var gr=r?r+m:m,vr=this._events[gr];if(!vr)return[];if(vr.fn)return[vr.fn];for(var Ar=0,Tr=vr.length,Rr=new Array(Tr);Ar<Tr;Ar++)Rr[Ar]=vr[Ar].fn;return Rr},c.prototype.listenerCount=function(m){var gr=r?r+m:m,vr=this._events[gr];return vr?vr.fn?1:vr.length:0},c.prototype.emit=function(m,gr,vr,Ar,Tr,Rr){var kr=r?r+m:m;if(!this._events[kr])return!1;var xr=this._events[kr],Dr=arguments.length,Ur,Cr;if(xr.fn){switch(xr.once&&this.removeListener(m,xr.fn,void 0,!0),Dr){case 1:return xr.fn.call(xr.context),!0;case 2:return xr.fn.call(xr.context,gr),!0;case 3:return xr.fn.call(xr.context,gr,vr),!0;case 4:return xr.fn.call(xr.context,gr,vr,Ar),!0;case 5:return xr.fn.call(xr.context,gr,vr,Ar,Tr),!0;case 6:return xr.fn.call(xr.context,gr,vr,Ar,Tr,Rr),!0}for(Cr=1,Ur=new Array(Dr-1);Cr<Dr;Cr++)Ur[Cr-1]=arguments[Cr];xr.fn.apply(xr.context,Ur)}else{var Nr=xr.length,Hr;for(Cr=0;Cr<Nr;Cr++)switch(xr[Cr].once&&this.removeListener(m,xr[Cr].fn,void 0,!0),Dr){case 1:xr[Cr].fn.call(xr[Cr].context);break;case 2:xr[Cr].fn.call(xr[Cr].context,gr);break;case 3:xr[Cr].fn.call(xr[Cr].context,gr,vr);break;case 4:xr[Cr].fn.call(xr[Cr].context,gr,vr,Ar);break;default:if(!Ur)for(Hr=1,Ur=new Array(Dr-1);Hr<Dr;Hr++)Ur[Hr-1]=arguments[Hr];xr[Cr].fn.apply(xr[Cr].context,Ur)}}return!0},c.prototype.on=function(m,gr,vr){return s(this,m,gr,vr,!1)},c.prototype.once=function(m,gr,vr){return s(this,m,gr,vr,!0)},c.prototype.removeListener=function(m,gr,vr,Ar){var Tr=r?r+m:m;if(!this._events[Tr])return this;if(!gr)return a(this,Tr),this;var Rr=this._events[Tr];if(Rr.fn)Rr.fn===gr&&(!Ar||Rr.once)&&(!vr||Rr.context===vr)&&a(this,Tr);else{for(var kr=0,xr=[],Dr=Rr.length;kr<Dr;kr++)(Rr[kr].fn!==gr||Ar&&!Rr[kr].once||vr&&Rr[kr].context!==vr)&&xr.push(Rr[kr]);xr.length?this._events[Tr]=xr.length===1?xr[0]:xr:a(this,Tr)}return this},c.prototype.removeAllListeners=function(m){var gr;return m?(gr=r?r+m:m,this._events[gr]&&a(this,gr)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(eventemitter3);var EventEmitter=eventemitter3.exports;(function(t){var e=interopRequireDefault.exports;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=e(regenerator),n=e(asyncToGenerator.exports),o=e(_typeof$5.exports),s=e(classCallCheck.exports),a=e(createClass.exports),c=e(inherits$3.exports),d=e(possibleConstructorReturn.exports),m=e(getPrototypeOf$2.exports),gr=eventemitter3.exports;function vr(kr){var xr=Ar();return function(){var Ur=(0,m.default)(kr),Cr;if(xr){var Nr=(0,m.default)(this).constructor;Cr=Reflect.construct(Ur,arguments,Nr)}else Cr=Ur.apply(this,arguments);return(0,d.default)(this,Cr)}}function Ar(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Tr=function(kr,xr){var Dr={};for(var Ur in kr)Object.prototype.hasOwnProperty.call(kr,Ur)&&xr.indexOf(Ur)<0&&(Dr[Ur]=kr[Ur]);if(kr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Cr=0,Ur=Object.getOwnPropertySymbols(kr);Cr<Ur.length;Cr++)xr.indexOf(Ur[Cr])<0&&Object.prototype.propertyIsEnumerable.call(kr,Ur[Cr])&&(Dr[Ur[Cr]]=kr[Ur[Cr]]);return Dr},Rr=function(kr){(0,c.default)(Dr,kr);var xr=vr(Dr);function Dr(Ur){var Cr,Nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",Hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Mr=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,Dr);var Fr=Hr.autoconnect,Vr=Fr===void 0?!0:Fr,Xr=Hr.reconnect,Yr=Xr===void 0?!0:Xr,tn=Hr.reconnect_interval,an=tn===void 0?1e3:tn,Lr=Hr.max_reconnects,Er=Lr===void 0?5:Lr,Or=Tr(Hr,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return Cr=xr.call(this),Cr.webSocketFactory=Ur,Cr.queue={},Cr.rpc_id=0,Cr.address=Nr,Cr.autoconnect=Vr,Cr.ready=!1,Cr.reconnect=Yr,Cr.reconnect_timer_id=void 0,Cr.reconnect_interval=an,Cr.max_reconnects=Er,Cr.rest_options=Or,Cr.current_reconnects=0,Cr.generate_request_id=Mr||function(){return++Cr.rpc_id},Cr.autoconnect&&Cr._connect(Cr.address,Object.assign({autoconnect:Cr.autoconnect,reconnect:Cr.reconnect,reconnect_interval:Cr.reconnect_interval,max_reconnects:Cr.max_reconnects},Cr.rest_options)),Cr}return(0,a.default)(Dr,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(Cr,Nr,Hr,Mr){var Fr=this;return!Mr&&(0,o.default)(Hr)==="object"&&(Mr=Hr,Hr=null),new Promise(function(Vr,Xr){if(!Fr.ready)return Xr(new Error("socket not ready"));var Yr=Fr.generate_request_id(Cr,Nr),tn={jsonrpc:"2.0",method:Cr,params:Nr||null,id:Yr};Fr.socket.send(JSON.stringify(tn),Mr,function(an){if(an)return Xr(an);Fr.queue[Yr]={promise:[Vr,Xr]},Hr&&(Fr.queue[Yr].timeout=setTimeout(function(){delete Fr.queue[Yr],Xr(new Error("reply timeout"))},Hr))})})}},{key:"login",value:function(){var Ur=(0,n.default)(r.default.mark(function Nr(Hr){var Mr;return r.default.wrap(function(Vr){for(;;)switch(Vr.prev=Vr.next){case 0:return Vr.next=2,this.call("rpc.login",Hr);case 2:if(Mr=Vr.sent,Mr){Vr.next=5;break}throw new Error("authentication failed");case 5:return Vr.abrupt("return",Mr);case 6:case"end":return Vr.stop()}},Nr,this)}));function Cr(Nr){return Ur.apply(this,arguments)}return Cr}()},{key:"listMethods",value:function(){var Ur=(0,n.default)(r.default.mark(function Nr(){return r.default.wrap(function(Mr){for(;;)switch(Mr.prev=Mr.next){case 0:return Mr.next=2,this.call("__listMethods");case 2:return Mr.abrupt("return",Mr.sent);case 3:case"end":return Mr.stop()}},Nr,this)}));function Cr(){return Ur.apply(this,arguments)}return Cr}()},{key:"notify",value:function(Cr,Nr){var Hr=this;return new Promise(function(Mr,Fr){if(!Hr.ready)return Fr(new Error("socket not ready"));var Vr={jsonrpc:"2.0",method:Cr,params:Nr||null};Hr.socket.send(JSON.stringify(Vr),function(Xr){if(Xr)return Fr(Xr);Mr()})})}},{key:"subscribe",value:function(){var Ur=(0,n.default)(r.default.mark(function Nr(Hr){var Mr;return r.default.wrap(function(Vr){for(;;)switch(Vr.prev=Vr.next){case 0:return typeof Hr=="string"&&(Hr=[Hr]),Vr.next=3,this.call("rpc.on",Hr);case 3:if(Mr=Vr.sent,!(typeof Hr=="string"&&Mr[Hr]!=="ok")){Vr.next=6;break}throw new Error("Failed subscribing to an event '"+Hr+"' with: "+Mr[Hr]);case 6:return Vr.abrupt("return",Mr);case 7:case"end":return Vr.stop()}},Nr,this)}));function Cr(Nr){return Ur.apply(this,arguments)}return Cr}()},{key:"unsubscribe",value:function(){var Ur=(0,n.default)(r.default.mark(function Nr(Hr){var Mr;return r.default.wrap(function(Vr){for(;;)switch(Vr.prev=Vr.next){case 0:return typeof Hr=="string"&&(Hr=[Hr]),Vr.next=3,this.call("rpc.off",Hr);case 3:if(Mr=Vr.sent,!(typeof Hr=="string"&&Mr[Hr]!=="ok")){Vr.next=6;break}throw new Error("Failed unsubscribing from an event with: "+Mr);case 6:return Vr.abrupt("return",Mr);case 7:case"end":return Vr.stop()}},Nr,this)}));function Cr(Nr){return Ur.apply(this,arguments)}return Cr}()},{key:"close",value:function(Cr,Nr){this.socket.close(Cr||1e3,Nr)}},{key:"_connect",value:function(Cr,Nr){var Hr=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(Cr,Nr),this.socket.addEventListener("open",function(){Hr.ready=!0,Hr.emit("open"),Hr.current_reconnects=0}),this.socket.addEventListener("message",function(Mr){var Fr=Mr.data;Fr instanceof ArrayBuffer&&(Fr=dist$1.Buffer.from(Fr).toString());try{Fr=JSON.parse(Fr)}catch{return}if(Fr.notification&&Hr.listeners(Fr.notification).length){if(!Object.keys(Fr.params).length)return Hr.emit(Fr.notification);var Vr=[Fr.notification];if(Fr.params.constructor===Object)Vr.push(Fr.params);else for(var Xr=0;Xr<Fr.params.length;Xr++)Vr.push(Fr.params[Xr]);return Promise.resolve().then(function(){Hr.emit.apply(Hr,Vr)})}if(!Hr.queue[Fr.id])return Fr.method&&Fr.params?Promise.resolve().then(function(){Hr.emit(Fr.method,Fr.params)}):void 0;"error"in Fr=="result"in Fr&&Hr.queue[Fr.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),Hr.queue[Fr.id].timeout&&clearTimeout(Hr.queue[Fr.id].timeout),Fr.error?Hr.queue[Fr.id].promise[1](Fr.error):Hr.queue[Fr.id].promise[0](Fr.result),delete Hr.queue[Fr.id]}),this.socket.addEventListener("error",function(Mr){return Hr.emit("error",Mr)}),this.socket.addEventListener("close",function(Mr){var Fr=Mr.code,Vr=Mr.reason;Hr.ready&&setTimeout(function(){return Hr.emit("close",Fr,Vr)},0),Hr.ready=!1,Hr.socket=void 0,Fr!==1e3&&(Hr.current_reconnects++,Hr.reconnect&&(Hr.max_reconnects>Hr.current_reconnects||Hr.max_reconnects===0)&&(Hr.reconnect_timer_id=setTimeout(function(){return Hr._connect(Cr,Nr)},Hr.reconnect_interval)))})}}]),Dr}(gr.EventEmitter);t.default=Rr})(client);var RpcWebSocketCommonClient=getDefaultExportFromCjs$1(client),websocket_browser={};(function(t){var e=interopRequireDefault.exports;Object.defineProperty(t,"__esModule",{value:!0}),t.default=vr;var r=e(classCallCheck.exports),n=e(createClass.exports),o=e(inherits$3.exports),s=e(possibleConstructorReturn.exports),a=e(getPrototypeOf$2.exports),c=eventemitter3.exports;function d(Ar){var Tr=m();return function(){var kr=(0,a.default)(Ar),xr;if(Tr){var Dr=(0,a.default)(this).constructor;xr=Reflect.construct(kr,arguments,Dr)}else xr=kr.apply(this,arguments);return(0,s.default)(this,xr)}}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var gr=function(Ar){(0,o.default)(Rr,Ar);var Tr=d(Rr);function Rr(kr,xr,Dr){var Ur;return(0,r.default)(this,Rr),Ur=Tr.call(this),Ur.socket=new window.WebSocket(kr,Dr),Ur.socket.onopen=function(){return Ur.emit("open")},Ur.socket.onmessage=function(Cr){return Ur.emit("message",Cr.data)},Ur.socket.onerror=function(Cr){return Ur.emit("error",Cr)},Ur.socket.onclose=function(Cr){Ur.emit("close",Cr.code,Cr.reason)},Ur}return(0,n.default)(Rr,[{key:"send",value:function(xr,Dr,Ur){var Cr=Ur||Dr;try{this.socket.send(xr),Cr()}catch(Nr){Cr(Nr)}}},{key:"close",value:function(xr,Dr){this.socket.close(xr,Dr)}},{key:"addEventListener",value:function(xr,Dr,Ur){this.socket.addEventListener(xr,Dr,Ur)}}]),Rr}(c.EventEmitter);function vr(Ar,Tr){return new gr(Ar,Tr)}})(websocket_browser);var createRpc=getDefaultExportFromCjs$1(websocket_browser);const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$1=BigInt(0),_1n$2=BigInt(1),_2n$1=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let t=0,e=_1n$2,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],SHA3_PI.push(2*(5*n+r)),SHA3_ROTL.push((t+1)*(t+2)/2%64);let o=_0n$1;for(let s=0;s<7;s++)e=(e<<_1n$2^(e>>_7n)*_0x71n)%_256n,e&_2n$1&&(o^=_1n$2<<(_1n$2<<BigInt(s))-_1n$2);_SHA3_IOTA.push(o)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(t,e,r)=>r>32?rotlBH(t,e,r):rotlSH(t,e,r),rotlL=(t,e,r)=>r>32?rotlBL(t,e,r):rotlSL(t,e,r);function keccakP(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,d=(a+2)%10,m=r[d],gr=r[d+1],vr=rotlH(m,gr,1)^r[c],Ar=rotlL(m,gr,1)^r[c+1];for(let Tr=0;Tr<50;Tr+=10)t[a+Tr]^=vr,t[a+Tr+1]^=Ar}let o=t[2],s=t[3];for(let a=0;a<24;a++){const c=SHA3_ROTL[a],d=rotlH(o,s,c),m=rotlL(o,s,c),gr=SHA3_PI[a];o=t[gr],s=t[gr+1],t[gr]=d,t[gr+1]=m}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)r[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=SHA3_IOTA_H[n],t[1]^=SHA3_IOTA_L[n]}r.fill(0)}class Keccak extends Hash{constructor(e,r,n,o=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$1(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$2(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){exists(this);const{blockLen:r,state:n}=this;e=toBytes(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(r-this.pos,o-s);for(let c=0;c<a;c++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:o}=this;e[n]^=r,(r&128)!==0&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){exists(this,!1),bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let o=0,s=e.length;o<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-o);e.set(r.subarray(this.posOut,this.posOut+a),o),this.posOut+=a,o+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return number$1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:o,rounds:s,enableXOF:a}=this;return e||(e=new Keccak(r,n,o,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=o,e.enableXOF=a,e.destroyed=this.destroyed,e}}const gen=(t,e,r)=>wrapConstructor(()=>new Keccak(e,t,r)),keccak_256=gen(1,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(t){const e=validateBasic(t);validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:o}=e;if(r){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut$1,DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=DER;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:b2n(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=DER,r=typeof t=="string"?h2b(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:o,l:s}=DER._parseInt(r.subarray(2)),{d:a,l:c}=DER._parseInt(s);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s:a}},hexFromSig(t){const e=m=>Number.parseInt(m[0],16)&8?"00"+m:m,r=m=>{const gr=m.toString(16);return gr.length&1?`0${gr}`:gr},n=e(r(t.s)),o=e(r(t.r)),s=n.length/2,a=o.length/2,c=r(s),d=r(a);return`30${r(a+s+4)}02${d}${o}02${c}${n}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(t){const e=validatePointOpts(t),{Fp:r}=e,n=e.toBytes||((Rr,kr,xr)=>{const Dr=kr.toAffine();return concatBytes(Uint8Array.from([4]),r.toBytes(Dr.x),r.toBytes(Dr.y))}),o=e.fromBytes||(Rr=>{const kr=Rr.subarray(1),xr=r.fromBytes(kr.subarray(0,r.BYTES)),Dr=r.fromBytes(kr.subarray(r.BYTES,2*r.BYTES));return{x:xr,y:Dr}});function s(Rr){const{a:kr,b:xr}=e,Dr=r.sqr(Rr),Ur=r.mul(Dr,Rr);return r.add(r.add(Ur,r.mul(Rr,kr)),xr)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(Rr){return typeof Rr=="bigint"&&_0n<Rr&&Rr<e.n}function c(Rr){if(!a(Rr))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(Rr){const{allowedPrivateKeyLengths:kr,nByteLength:xr,wrapPrivateKey:Dr,n:Ur}=e;if(kr&&typeof Rr!="bigint"){if(Rr instanceof Uint8Array&&(Rr=bytesToHex(Rr)),typeof Rr!="string"||!kr.includes(Rr.length))throw new Error("Invalid key");Rr=Rr.padStart(xr*2,"0")}let Cr;try{Cr=typeof Rr=="bigint"?Rr:bytesToNumberBE(ensureBytes("private key",Rr,xr))}catch{throw new Error(`private key must be ${xr} bytes, hex or bigint, not ${typeof Rr}`)}return Dr&&(Cr=mod(Cr,Ur)),c(Cr),Cr}const m=new Map;function gr(Rr){if(!(Rr instanceof vr))throw new Error("ProjectivePoint expected")}class vr{constructor(kr,xr,Dr){if(this.px=kr,this.py=xr,this.pz=Dr,kr==null||!r.isValid(kr))throw new Error("x required");if(xr==null||!r.isValid(xr))throw new Error("y required");if(Dr==null||!r.isValid(Dr))throw new Error("z required")}static fromAffine(kr){const{x:xr,y:Dr}=kr||{};if(!kr||!r.isValid(xr)||!r.isValid(Dr))throw new Error("invalid affine point");if(kr instanceof vr)throw new Error("projective point not allowed");const Ur=Cr=>r.eql(Cr,r.ZERO);return Ur(xr)&&Ur(Dr)?vr.ZERO:new vr(xr,Dr,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(kr){const xr=r.invertBatch(kr.map(Dr=>Dr.pz));return kr.map((Dr,Ur)=>Dr.toAffine(xr[Ur])).map(vr.fromAffine)}static fromHex(kr){const xr=vr.fromAffine(o(ensureBytes("pointHex",kr)));return xr.assertValidity(),xr}static fromPrivateKey(kr){return vr.BASE.multiply(d(kr))}_setWindowSize(kr){this._WINDOW_SIZE=kr,m.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:kr,y:xr}=this.toAffine();if(!r.isValid(kr)||!r.isValid(xr))throw new Error("bad point: x or y not FE");const Dr=r.sqr(xr),Ur=s(kr);if(!r.eql(Dr,Ur))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:kr}=this.toAffine();if(r.isOdd)return!r.isOdd(kr);throw new Error("Field doesn't support isOdd")}equals(kr){gr(kr);const{px:xr,py:Dr,pz:Ur}=this,{px:Cr,py:Nr,pz:Hr}=kr,Mr=r.eql(r.mul(xr,Hr),r.mul(Cr,Ur)),Fr=r.eql(r.mul(Dr,Hr),r.mul(Nr,Ur));return Mr&&Fr}negate(){return new vr(this.px,r.neg(this.py),this.pz)}double(){const{a:kr,b:xr}=e,Dr=r.mul(xr,_3n),{px:Ur,py:Cr,pz:Nr}=this;let Hr=r.ZERO,Mr=r.ZERO,Fr=r.ZERO,Vr=r.mul(Ur,Ur),Xr=r.mul(Cr,Cr),Yr=r.mul(Nr,Nr),tn=r.mul(Ur,Cr);return tn=r.add(tn,tn),Fr=r.mul(Ur,Nr),Fr=r.add(Fr,Fr),Hr=r.mul(kr,Fr),Mr=r.mul(Dr,Yr),Mr=r.add(Hr,Mr),Hr=r.sub(Xr,Mr),Mr=r.add(Xr,Mr),Mr=r.mul(Hr,Mr),Hr=r.mul(tn,Hr),Fr=r.mul(Dr,Fr),Yr=r.mul(kr,Yr),tn=r.sub(Vr,Yr),tn=r.mul(kr,tn),tn=r.add(tn,Fr),Fr=r.add(Vr,Vr),Vr=r.add(Fr,Vr),Vr=r.add(Vr,Yr),Vr=r.mul(Vr,tn),Mr=r.add(Mr,Vr),Yr=r.mul(Cr,Nr),Yr=r.add(Yr,Yr),Vr=r.mul(Yr,tn),Hr=r.sub(Hr,Vr),Fr=r.mul(Yr,Xr),Fr=r.add(Fr,Fr),Fr=r.add(Fr,Fr),new vr(Hr,Mr,Fr)}add(kr){gr(kr);const{px:xr,py:Dr,pz:Ur}=this,{px:Cr,py:Nr,pz:Hr}=kr;let Mr=r.ZERO,Fr=r.ZERO,Vr=r.ZERO;const Xr=e.a,Yr=r.mul(e.b,_3n);let tn=r.mul(xr,Cr),an=r.mul(Dr,Nr),Lr=r.mul(Ur,Hr),Er=r.add(xr,Dr),Or=r.add(Cr,Nr);Er=r.mul(Er,Or),Or=r.add(tn,an),Er=r.sub(Er,Or),Or=r.add(xr,Ur);let jr=r.add(Cr,Hr);return Or=r.mul(Or,jr),jr=r.add(tn,Lr),Or=r.sub(Or,jr),jr=r.add(Dr,Ur),Mr=r.add(Nr,Hr),jr=r.mul(jr,Mr),Mr=r.add(an,Lr),jr=r.sub(jr,Mr),Vr=r.mul(Xr,Or),Mr=r.mul(Yr,Lr),Vr=r.add(Mr,Vr),Mr=r.sub(an,Vr),Vr=r.add(an,Vr),Fr=r.mul(Mr,Vr),an=r.add(tn,tn),an=r.add(an,tn),Lr=r.mul(Xr,Lr),Or=r.mul(Yr,Or),an=r.add(an,Lr),Lr=r.sub(tn,Lr),Lr=r.mul(Xr,Lr),Or=r.add(Or,Lr),tn=r.mul(an,Or),Fr=r.add(Fr,tn),tn=r.mul(jr,Or),Mr=r.mul(Er,Mr),Mr=r.sub(Mr,tn),tn=r.mul(Er,an),Vr=r.mul(jr,Vr),Vr=r.add(Vr,tn),new vr(Mr,Fr,Vr)}subtract(kr){return this.add(kr.negate())}is0(){return this.equals(vr.ZERO)}wNAF(kr){return Tr.wNAFCached(this,m,kr,xr=>{const Dr=r.invertBatch(xr.map(Ur=>Ur.pz));return xr.map((Ur,Cr)=>Ur.toAffine(Dr[Cr])).map(vr.fromAffine)})}multiplyUnsafe(kr){const xr=vr.ZERO;if(kr===_0n)return xr;if(c(kr),kr===_1n$1)return this;const{endo:Dr}=e;if(!Dr)return Tr.unsafeLadder(this,kr);let{k1neg:Ur,k1:Cr,k2neg:Nr,k2:Hr}=Dr.splitScalar(kr),Mr=xr,Fr=xr,Vr=this;for(;Cr>_0n||Hr>_0n;)Cr&_1n$1&&(Mr=Mr.add(Vr)),Hr&_1n$1&&(Fr=Fr.add(Vr)),Vr=Vr.double(),Cr>>=_1n$1,Hr>>=_1n$1;return Ur&&(Mr=Mr.negate()),Nr&&(Fr=Fr.negate()),Fr=new vr(r.mul(Fr.px,Dr.beta),Fr.py,Fr.pz),Mr.add(Fr)}multiply(kr){c(kr);let xr=kr,Dr,Ur;const{endo:Cr}=e;if(Cr){const{k1neg:Nr,k1:Hr,k2neg:Mr,k2:Fr}=Cr.splitScalar(xr);let{p:Vr,f:Xr}=this.wNAF(Hr),{p:Yr,f:tn}=this.wNAF(Fr);Vr=Tr.constTimeNegate(Nr,Vr),Yr=Tr.constTimeNegate(Mr,Yr),Yr=new vr(r.mul(Yr.px,Cr.beta),Yr.py,Yr.pz),Dr=Vr.add(Yr),Ur=Xr.add(tn)}else{const{p:Nr,f:Hr}=this.wNAF(xr);Dr=Nr,Ur=Hr}return vr.normalizeZ([Dr,Ur])[0]}multiplyAndAddUnsafe(kr,xr,Dr){const Ur=vr.BASE,Cr=(Hr,Mr)=>Mr===_0n||Mr===_1n$1||!Hr.equals(Ur)?Hr.multiplyUnsafe(Mr):Hr.multiply(Mr),Nr=Cr(this,xr).add(Cr(kr,Dr));return Nr.is0()?void 0:Nr}toAffine(kr){const{px:xr,py:Dr,pz:Ur}=this,Cr=this.is0();kr==null&&(kr=Cr?r.ONE:r.inv(Ur));const Nr=r.mul(xr,kr),Hr=r.mul(Dr,kr),Mr=r.mul(Ur,kr);if(Cr)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Mr,r.ONE))throw new Error("invZ was invalid");return{x:Nr,y:Hr}}isTorsionFree(){const{h:kr,isTorsionFree:xr}=e;if(kr===_1n$1)return!0;if(xr)return xr(vr,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:kr,clearCofactor:xr}=e;return kr===_1n$1?this:xr?xr(vr,this):this.multiplyUnsafe(e.h)}toRawBytes(kr=!0){return this.assertValidity(),n(vr,this,kr)}toHex(kr=!0){return bytesToHex(this.toRawBytes(kr))}}vr.BASE=new vr(e.Gx,e.Gy,r.ONE),vr.ZERO=new vr(r.ZERO,r.ONE,r.ZERO);const Ar=e.nBitLength,Tr=wNAF(vr,e.endo?Math.ceil(Ar/2):Ar);return{CURVE:e,ProjectivePoint:vr,normPrivateKeyToScalar:d,weierstrassEquation:s,isWithinCurveOrder:a}}function validateOpts(t){const e=validateBasic(t);return validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function weierstrass(t){const e=validateOpts(t),{Fp:r,n}=e,o=r.BYTES+1,s=2*r.BYTES+1;function a(Or){return _0n<Or&&Or<r.ORDER}function c(Or){return mod(Or,n)}function d(Or){return invert(Or,n)}const{ProjectivePoint:m,normPrivateKeyToScalar:gr,weierstrassEquation:vr,isWithinCurveOrder:Ar}=weierstrassPoints({...e,toBytes(Or,jr,Gr){const qr=jr.toAffine(),Jr=r.toBytes(qr.x),en=concatBytes;return Gr?en(Uint8Array.from([jr.hasEvenY()?2:3]),Jr):en(Uint8Array.from([4]),Jr,r.toBytes(qr.y))},fromBytes(Or){const jr=Or.length,Gr=Or[0],qr=Or.subarray(1);if(jr===o&&(Gr===2||Gr===3)){const Jr=bytesToNumberBE(qr);if(!a(Jr))throw new Error("Point is not on curve");const en=vr(Jr);let Kr=r.sqrt(en);const Ir=(Kr&_1n$1)===_1n$1;return(Gr&1)===1!==Ir&&(Kr=r.neg(Kr)),{x:Jr,y:Kr}}else if(jr===s&&Gr===4){const Jr=r.fromBytes(qr.subarray(0,r.BYTES)),en=r.fromBytes(qr.subarray(r.BYTES,2*r.BYTES));return{x:Jr,y:en}}else throw new Error(`Point of length ${jr} was invalid. Expected ${o} compressed bytes or ${s} uncompressed bytes`)}}),Tr=Or=>bytesToHex(numberToBytesBE(Or,e.nByteLength));function Rr(Or){const jr=n>>_1n$1;return Or>jr}function kr(Or){return Rr(Or)?c(-Or):Or}const xr=(Or,jr,Gr)=>bytesToNumberBE(Or.slice(jr,Gr));class Dr{constructor(jr,Gr,qr){this.r=jr,this.s=Gr,this.recovery=qr,this.assertValidity()}static fromCompact(jr){const Gr=e.nByteLength;return jr=ensureBytes("compactSignature",jr,Gr*2),new Dr(xr(jr,0,Gr),xr(jr,Gr,2*Gr))}static fromDER(jr){const{r:Gr,s:qr}=DER.toSig(ensureBytes("DER",jr));return new Dr(Gr,qr)}assertValidity(){if(!Ar(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!Ar(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(jr){return new Dr(this.r,this.s,jr)}recoverPublicKey(jr){const{r:Gr,s:qr,recovery:Jr}=this,en=Fr(ensureBytes("msgHash",jr));if(Jr==null||![0,1,2,3].includes(Jr))throw new Error("recovery id invalid");const Kr=Jr===2||Jr===3?Gr+e.n:Gr;if(Kr>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ir=(Jr&1)===0?"02":"03",zr=m.fromHex(Ir+Tr(Kr)),un=d(Kr),vn=c(-en*un),_n=c(qr*un),dn=m.BASE.multiplyAndAddUnsafe(zr,vn,_n);if(!dn)throw new Error("point at infinify");return dn.assertValidity(),dn}hasHighS(){return Rr(this.s)}normalizeS(){return this.hasHighS()?new Dr(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return Tr(this.r)+Tr(this.s)}}const Ur={isValidPrivateKey(Or){try{return gr(Or),!0}catch{return!1}},normPrivateKeyToScalar:gr,randomPrivateKey:()=>{const Or=getMinHashLength(e.n);return mapHashToField(e.randomBytes(Or),e.n)},precompute(Or=8,jr=m.BASE){return jr._setWindowSize(Or),jr.multiply(BigInt(3)),jr}};function Cr(Or,jr=!0){return m.fromPrivateKey(Or).toRawBytes(jr)}function Nr(Or){const jr=Or instanceof Uint8Array,Gr=typeof Or=="string",qr=(jr||Gr)&&Or.length;return jr?qr===o||qr===s:Gr?qr===2*o||qr===2*s:Or instanceof m}function Hr(Or,jr,Gr=!0){if(Nr(Or))throw new Error("first arg must be private key");if(!Nr(jr))throw new Error("second arg must be public key");return m.fromHex(jr).multiply(gr(Or)).toRawBytes(Gr)}const Mr=e.bits2int||function(Or){const jr=bytesToNumberBE(Or),Gr=Or.length*8-e.nBitLength;return Gr>0?jr>>BigInt(Gr):jr},Fr=e.bits2int_modN||function(Or){return c(Mr(Or))},Vr=bitMask(e.nBitLength);function Xr(Or){if(typeof Or!="bigint")throw new Error("bigint expected");if(!(_0n<=Or&&Or<Vr))throw new Error(`bigint expected < 2^${e.nBitLength}`);return numberToBytesBE(Or,e.nByteLength)}function Yr(Or,jr,Gr=tn){if(["recovered","canonical"].some(yn=>yn in Gr))throw new Error("sign() legacy options not supported");const{hash:qr,randomBytes:Jr}=e;let{lowS:en,prehash:Kr,extraEntropy:Ir}=Gr;en==null&&(en=!0),Or=ensureBytes("msgHash",Or),Kr&&(Or=ensureBytes("prehashed msgHash",qr(Or)));const zr=Fr(Or),un=gr(jr),vn=[Xr(un),Xr(zr)];if(Ir!=null){const yn=Ir===!0?Jr(r.BYTES):Ir;vn.push(ensureBytes("extraEntropy",yn))}const _n=concatBytes(...vn),dn=zr;function gn(yn){const Tn=Mr(yn);if(!Ar(Tn))return;const Dn=d(Tn),sn=m.BASE.multiply(Tn).toAffine(),cn=c(sn.x);if(cn===_0n)return;const fn=c(Dn*c(dn+cn*un));if(fn===_0n)return;let Sn=(sn.x===cn?0:2)|Number(sn.y&_1n$1),On=fn;return en&&Rr(fn)&&(On=kr(fn),Sn^=1),new Dr(cn,On,Sn)}return{seed:_n,k2sig:gn}}const tn={lowS:e.lowS,prehash:!1},an={lowS:e.lowS,prehash:!1};function Lr(Or,jr,Gr=tn){const{seed:qr,k2sig:Jr}=Yr(Or,jr,Gr),en=e;return createHmacDrbg(en.hash.outputLen,en.nByteLength,en.hmac)(qr,Jr)}m.BASE._setWindowSize(8);function Er(Or,jr,Gr,qr=an){var sn;const Jr=Or;if(jr=ensureBytes("msgHash",jr),Gr=ensureBytes("publicKey",Gr),"strict"in qr)throw new Error("options.strict was renamed to lowS");const{lowS:en,prehash:Kr}=qr;let Ir,zr;try{if(typeof Jr=="string"||Jr instanceof Uint8Array)try{Ir=Dr.fromDER(Jr)}catch(cn){if(!(cn instanceof DER.Err))throw cn;Ir=Dr.fromCompact(Jr)}else if(typeof Jr=="object"&&typeof Jr.r=="bigint"&&typeof Jr.s=="bigint"){const{r:cn,s:fn}=Jr;Ir=new Dr(cn,fn)}else throw new Error("PARSE");zr=m.fromHex(Gr)}catch(cn){if(cn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(en&&Ir.hasHighS())return!1;Kr&&(jr=e.hash(jr));const{r:un,s:vn}=Ir,_n=Fr(jr),dn=d(vn),gn=c(_n*dn),yn=c(un*dn),Tn=(sn=m.BASE.multiplyAndAddUnsafe(zr,gn,yn))==null?void 0:sn.toAffine();return Tn?c(Tn.x)===un:!1}return{CURVE:e,getPublicKey:Cr,getSharedSecret:Hr,sign:Lr,verify:Er,ProjectivePoint:m,Signature:Dr,utils:Ur}}class HMAC extends Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,hash(e);const n=toBytes(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return exists(this),this.iHash.update(e),this}digestInto(e){exists(this),bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:o,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(t,e,r)=>new HMAC(t,e).update(r).digest();hmac.create=(t,e)=>new HMAC(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(t){return{hash:t,hmac:(e,...r)=>hmac(t,e,concatBytes$1(...r)),randomBytes}}function createCurve(t,e){const r=n=>weierstrass({...t,...getHash(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(t,e)=>(t+e/_2n)/e;function sqrtMod(t){const e=secp256k1P,r=BigInt(3),n=BigInt(6),o=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),d=BigInt(88),m=t*t*t%e,gr=m*m*t%e,vr=pow2(gr,r,e)*gr%e,Ar=pow2(vr,r,e)*gr%e,Tr=pow2(Ar,_2n,e)*m%e,Rr=pow2(Tr,o,e)*Tr%e,kr=pow2(Rr,s,e)*Rr%e,xr=pow2(kr,c,e)*kr%e,Dr=pow2(xr,d,e)*xr%e,Ur=pow2(Dr,c,e)*kr%e,Cr=pow2(Ur,r,e)*gr%e,Nr=pow2(Cr,a,e)*Rr%e,Hr=pow2(Nr,n,e)*m%e,Mr=pow2(Hr,_2n,e);if(!Fp.eql(Fp.sqr(Mr),t))throw new Error("Cannot find square root");return Mr}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=secp256k1N,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=divNearest(s*t,e),d=divNearest(-n*t,e);let m=mod(t-c*r-d*o,e),gr=mod(-c*n-d*s,e);const vr=m>a,Ar=gr>a;if(vr&&(m=e-m),Ar&&(gr=e-gr),m>a||gr>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:vr,k1:m,k2neg:Ar,k2:gr}}}},sha256$1);BigInt(0);secp256k1.ProjectivePoint;const generatePrivateKey=ed25519.utils.randomPrivateKey,generateKeypair=()=>{const t=ed25519.utils.randomPrivateKey(),e=getPublicKey(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},getPublicKey=ed25519.getPublicKey;function isOnCurve(t){try{return ed25519.ExtendedPoint.fromHex(t),!0}catch{return!1}}const sign=(t,e)=>ed25519.sign(t,e.slice(0,32)),verify=ed25519.verify,toBuffer=t=>bufferPolyfill.Buffer.isBuffer(t)?t:t instanceof Uint8Array?bufferPolyfill.Buffer.from(t.buffer,t.byteOffset,t.byteLength):bufferPolyfill.Buffer.from(t);class Struct{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA,this,e)}}class Enum extends Struct{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const SOLANA_SCHEMA=new Map;var _class;let _Symbol$toStringTag$2;const MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(t){return t._bn!==void 0}let uniquePublicKeyCounter=1;_Symbol$toStringTag$2=Symbol.toStringTag;class PublicKey extends Struct{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData(e))this._bn=e._bn;else{if(typeof e=="string"){const r=bs58$2.decode(e);if(r.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN(r)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$2.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH)return e;const r=bufferPolyfill.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[_Symbol$toStringTag$2](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(r),n.toBuffer()]),s=sha256$1(o);return new PublicKey(s)}static createProgramAddressSync(e,r){let n=bufferPolyfill.Buffer.alloc(0);e.forEach(function(s){if(s.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");n=bufferPolyfill.Buffer.concat([n,toBuffer(s)])}),n=bufferPolyfill.Buffer.concat([n,r.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$1(n);if(isOnCurve(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(o)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,o;for(;n!=0;){try{const s=e.concat(bufferPolyfill.Buffer.from([n]));o=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new PublicKey(e);return isOnCurve(r.toBytes())}}_class=PublicKey;PublicKey.default=new _class("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=toBuffer(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=toBuffer(generatePrivateKey()),this._publicKey=toBuffer(getPublicKey(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return bufferPolyfill.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE=1280-40-8,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES$1=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,a)=>{n.set(s.toBase58(),a)});const o=s=>{const a=n.get(s.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a};return e.map(s=>({programIdIndex:o(s.programId),accountKeyIndexes:s.keys.map(a=>o(a.pubkey)),data:s.data}))}}const publicKey$1=(t="publicKey")=>blob$1(32,t),signature=(t="signature")=>blob$1(64,t),rustString=(t="string")=>{const e=struct$1([u32$1("length"),u32$1("lengthPadding"),blob$1(offset(u32$1(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(s,a)=>r(s,a).chars.toString(),o.encode=(s,a,c)=>{const d={chars:bufferPolyfill.Buffer.from(s,"utf8")};return n(d,a,c)},o.alloc=s=>u32$1().span+u32$1().span+bufferPolyfill.Buffer.from(s,"utf8").length,o},authorized=(t="authorized")=>struct$1([publicKey$1("staker"),publicKey$1("withdrawer")],t),lockup=(t="lockup")=>struct$1([ns64("unixTimestamp"),ns64("epoch"),publicKey$1("custodian")],t),voteInit=(t="voteInit")=>struct$1([publicKey$1("nodePubkey"),publicKey$1("authorizedVoter"),publicKey$1("authorizedWithdrawer"),u8$1("commission")],t),voteAuthorizeWithSeedArgs=(t="voteAuthorizeWithSeedArgs")=>struct$1([u32$1("voteAuthorizationType"),publicKey$1("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey$1("newAuthorized")],t);function getAlloc(t,e){const r=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const s=e[o.property];if(Array.isArray(s))return s.length*r(o.elementLayout)}else if("fields"in o)return getAlloc({layout:o},e[o.property]);return 0};let n=0;return t.layout.fields.forEach(o=>{n+=r(o)}),n}function decodeLength(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,(n&128)===0)break}return e}function encodeLength(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function assert$4(t,e){if(!t)throw new Error(e||"Assertion failed")}class CompiledKeys{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,o=a=>{const c=a.toBase58();let d=n.get(c);return d===void 0&&(d={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,d)),d},s=o(r);s.isSigner=!0,s.isWritable=!0;for(const a of e){o(a.programId).isInvoked=!0;for(const c of a.keys){const d=o(c.pubkey);d.isSigner||(d.isSigner=c.isSigner),d.isWritable||(d.isWritable=c.isWritable)}}return new CompiledKeys(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$4(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,d])=>d.isSigner&&d.isWritable),n=e.filter(([,d])=>d.isSigner&&!d.isWritable),o=e.filter(([,d])=>!d.isSigner&&d.isWritable),s=e.filter(([,d])=>!d.isSigner&&!d.isWritable),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{assert$4(r.length>0,"Expected at least one writable signer key");const[d]=r[0];assert$4(d===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...r.map(([d])=>new PublicKey(d)),...n.map(([d])=>new PublicKey(d)),...o.map(([d])=>new PublicKey(d)),...s.map(([d])=>new PublicKey(d))];return[a,c]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[o,s]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(r.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:o},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,o=new Array;for(const[s,a]of this.keyMetaMap.entries())if(r(a)){const c=new PublicKey(s),d=e.findIndex(m=>m.equals(c));d>=0&&(assert$4(d<256,"Max lookup table index exceeded"),n.push(d),o.push(c),this.keyMetaMap.delete(s))}return[n,o]}}class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new PublicKey(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$2.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),[n,o]=r.getMessageComponents(),a=new MessageAccountKeys(o).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:bs58$2.encode(c.data)}));return new Message({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];encodeLength(r,e);const n=this.instructions.map(vr=>{const{accounts:Ar,programIdIndex:Tr}=vr,Rr=Array.from(bs58$2.decode(vr.data));let kr=[];encodeLength(kr,Ar.length);let xr=[];return encodeLength(xr,Rr.length),{programIdIndex:Tr,keyIndicesCount:bufferPolyfill.Buffer.from(kr),keyIndices:Ar,dataLength:bufferPolyfill.Buffer.from(xr),data:Rr}});let o=[];encodeLength(o,n.length);let s=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE);bufferPolyfill.Buffer.from(o).copy(s);let a=o.length;n.forEach(vr=>{a+=struct$1([u8$1("programIdIndex"),blob$1(vr.keyIndicesCount.length,"keyIndicesCount"),seq(u8$1("keyIndex"),vr.keyIndices.length,"keyIndices"),blob$1(vr.dataLength.length,"dataLength"),seq(u8$1("userdatum"),vr.data.length,"data")]).encode(vr,s,a)}),s=s.slice(0,a);const c=struct$1([blob$1(1,"numRequiredSignatures"),blob$1(1,"numReadonlySignedAccounts"),blob$1(1,"numReadonlyUnsignedAccounts"),blob$1(r.length,"keyCount"),seq(publicKey$1("key"),e,"keys"),publicKey$1("recentBlockhash")]),d={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(r),keys:this.accountKeys.map(vr=>toBuffer(vr.toBytes())),recentBlockhash:bs58$2.decode(this.recentBlockhash)};let m=bufferPolyfill.Buffer.alloc(2048);const gr=c.encode(d,m);return s.copy(m,gr),m.slice(0,gr+s.length)}static from(e){let r=[...e];const n=r.shift();if(n!==(n&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=r.shift(),s=r.shift(),a=decodeLength(r);let c=[];for(let Ar=0;Ar<a;Ar++){const Tr=r.slice(0,PUBLIC_KEY_LENGTH);r=r.slice(PUBLIC_KEY_LENGTH),c.push(new PublicKey(bufferPolyfill.Buffer.from(Tr)))}const d=r.slice(0,PUBLIC_KEY_LENGTH);r=r.slice(PUBLIC_KEY_LENGTH);const m=decodeLength(r);let gr=[];for(let Ar=0;Ar<m;Ar++){const Tr=r.shift(),Rr=decodeLength(r),kr=r.slice(0,Rr);r=r.slice(Rr);const xr=decodeLength(r),Dr=r.slice(0,xr),Ur=bs58$2.encode(bufferPolyfill.Buffer.from(Dr));r=r.slice(xr),gr.push({programIdIndex:Tr,accounts:kr,data:Ur})}const vr={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:s},recentBlockhash:bs58$2.encode(bufferPolyfill.Buffer.from(d)),accountKeys:c,instructions:gr};return new Message(vr)}}class MessageV0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const o=e-n,s=this.addressTableLookups.reduce((a,c)=>a+c.writableIndexes.length,0);return o<s}else if(e>=this.header.numRequiredSignatures){const o=e-r,a=n-r-this.header.numReadonlyUnsignedAccounts;return o<a}else{const o=r-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const o=e.find(s=>s.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<o.state.addresses.length)r.writable.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<o.state.addresses.length)r.readonly.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const gr of s){const vr=r.extractTableLookup(gr);if(vr!==void 0){const[Ar,{writable:Tr,readonly:Rr}]=vr;n.push(Ar),o.writable.push(...Tr),o.readonly.push(...Rr)}}const[a,c]=r.getMessageComponents(),m=new MessageAccountKeys(c,o).compileInstructions(e.instructions);return new MessageV0({header:a,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:m,addressTableLookups:n})}serialize(){const e=Array();encodeLength(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();encodeLength(n,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),s=Array();encodeLength(s,this.addressTableLookups.length);const a=struct$1([u8$1("prefix"),struct$1([u8$1("numRequiredSignatures"),u8$1("numReadonlySignedAccounts"),u8$1("numReadonlyUnsignedAccounts")],"header"),blob$1(e.length,"staticAccountKeysLength"),seq(publicKey$1(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$1("recentBlockhash"),blob$1(n.length,"instructionsLength"),blob$1(r.length,"serializedInstructions"),blob$1(s.length,"addressTableLookupsLength"),blob$1(o.length,"serializedAddressTableLookups")]),c=new Uint8Array(PACKET_DATA_SIZE),d=1<<7,m=a.encode({prefix:d,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(gr=>gr.toBytes()),recentBlockhash:bs58$2.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:o},c);return c.slice(0,m)}serializeInstructions(){let e=0;const r=new Uint8Array(PACKET_DATA_SIZE);for(const n of this.compiledInstructions){const o=Array();encodeLength(o,n.accountKeyIndexes.length);const s=Array();encodeLength(s,n.data.length),e+=struct$1([u8$1("programIdIndex"),blob$1(o.length,"encodedAccountKeyIndexesLength"),seq(u8$1(),n.accountKeyIndexes.length,"accountKeyIndexes"),blob$1(s.length,"encodedDataLength"),blob$1(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(PACKET_DATA_SIZE);for(const n of this.addressTableLookups){const o=Array();encodeLength(o,n.writableIndexes.length);const s=Array();encodeLength(s,n.readonlyIndexes.length),e+=struct$1([publicKey$1("accountKey"),blob$1(o.length,"encodedWritableIndexesLength"),seq(u8$1(),n.writableIndexes.length,"writableIndexes"),blob$1(s.length,"encodedReadonlyIndexesLength"),seq(u8$1(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=r.shift(),o=n&VERSION_PREFIX_MASK;assert$4(n!==o,"Expected versioned message but received legacy message");const s=o;assert$4(s===0,`Expected versioned message with version 0 but found version ${s}`);const a={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},c=[],d=decodeLength(r);for(let Rr=0;Rr<d;Rr++)c.push(new PublicKey(r.splice(0,PUBLIC_KEY_LENGTH)));const m=bs58$2.encode(r.splice(0,PUBLIC_KEY_LENGTH)),gr=decodeLength(r),vr=[];for(let Rr=0;Rr<gr;Rr++){const kr=r.shift(),xr=decodeLength(r),Dr=r.splice(0,xr),Ur=decodeLength(r),Cr=new Uint8Array(r.splice(0,Ur));vr.push({programIdIndex:kr,accountKeyIndexes:Dr,data:Cr})}const Ar=decodeLength(r),Tr=[];for(let Rr=0;Rr<Ar;Rr++){const kr=new PublicKey(r.splice(0,PUBLIC_KEY_LENGTH)),xr=decodeLength(r),Dr=r.splice(0,xr),Ur=decodeLength(r),Cr=r.splice(0,Ur);Tr.push({accountKey:kr,writableIndexes:Dr,readonlyIndexes:Cr})}return new MessageV0({header:a,staticAccountKeys:c,recentBlockhash:m,compiledInstructions:vr,addressTableLookups:Tr})}}const VersionedMessage={deserializeMessageVersion(t){const e=t[0],r=e&VERSION_PREFIX_MASK;return r===e?"legacy":r},deserialize:t=>{const e=VersionedMessage.deserializeMessageVersion(t);if(e==="legacy")return Message.from(t);if(e===0)return MessageV0.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let TransactionStatus=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const DEFAULT_SIGNATURE=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES$1).fill(0);class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new TransactionInstruction(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let kr=0;kr<r.length;kr++)if(r[kr].programId===void 0)throw new Error(`Transaction instruction index ${kr} has undefined program id`);const o=[],s=[];r.forEach(kr=>{kr.keys.forEach(Dr=>{s.push({...Dr})});const xr=kr.programId.toString();o.includes(xr)||o.push(xr)}),o.forEach(kr=>{s.push({pubkey:new PublicKey(kr),isSigner:!1,isWritable:!1})});const a=[];s.forEach(kr=>{const xr=kr.pubkey.toString(),Dr=a.findIndex(Ur=>Ur.pubkey.toString()===xr);Dr>-1?(a[Dr].isWritable=a[Dr].isWritable||kr.isWritable,a[Dr].isSigner=a[Dr].isSigner||kr.isSigner):a.push(kr)}),a.sort(function(kr,xr){if(kr.isSigner!==xr.isSigner)return kr.isSigner?-1:1;if(kr.isWritable!==xr.isWritable)return kr.isWritable?-1:1;const Dr={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return kr.pubkey.toBase58().localeCompare(xr.pubkey.toBase58(),"en",Dr)});const c=a.findIndex(kr=>kr.pubkey.equals(n));if(c>-1){const[kr]=a.splice(c,1);kr.isSigner=!0,kr.isWritable=!0,a.unshift(kr)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const kr of this.signatures){const xr=a.findIndex(Dr=>Dr.pubkey.equals(kr.publicKey));if(xr>-1)a[xr].isSigner||(a[xr].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${kr.publicKey.toString()}`)}let d=0,m=0,gr=0;const vr=[],Ar=[];a.forEach(({pubkey:kr,isSigner:xr,isWritable:Dr})=>{xr?(vr.push(kr.toString()),d+=1,Dr||(m+=1)):(Ar.push(kr.toString()),Dr||(gr+=1))});const Tr=vr.concat(Ar),Rr=r.map(kr=>{const{data:xr,programId:Dr}=kr;return{programIdIndex:Tr.indexOf(Dr.toString()),accounts:kr.keys.map(Ur=>Tr.indexOf(Ur.pubkey.toString())),data:bs58$2.encode(xr)}});return Rr.forEach(kr=>{assert$4(kr.programIdIndex>=0),kr.accounts.forEach(xr=>assert$4(xr>=0))}),new Message({header:{numRequiredSignatures:d,numReadonlySignedAccounts:m,numReadonlyUnsignedAccounts:gr},accountKeys:Tr,recentBlockhash:e,instructions:Rr})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((o,s)=>r[s].equals(o.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const o=n.toString();return r.has(o)?!1:(r.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}const o=this._compile();this._partialSign(o,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(o=>{const s=sign(n,o.secretKey);this._addSignature(o.publicKey,toBuffer(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){assert$4(r.length===64);const n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=bufferPolyfill.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(const{signature:n,publicKey:o}of this.signatures)if(n===null){if(r)return!1}else if(!verify(n,e,o.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,r))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:r}=this,n=[];encodeLength(n,r.length);const o=n.length+r.length*64+e.length,s=bufferPolyfill.Buffer.alloc(o);return assert$4(r.length<256),bufferPolyfill.Buffer.from(n).copy(s,0),r.forEach(({signature:a},c)=>{a!==null&&(assert$4(a.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(a).copy(s,n.length+c*64))}),e.copy(s,n.length+r.length*64),assert$4(s.length<=PACKET_DATA_SIZE,`Transaction too large: ${s.length} > ${PACKET_DATA_SIZE}`),s}get keys(){return assert$4(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$4(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$4(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=decodeLength(r);let o=[];for(let s=0;s<n;s++){const a=r.slice(0,SIGNATURE_LENGTH_IN_BYTES$1);r=r.slice(SIGNATURE_LENGTH_IN_BYTES$1),o.push(bs58$2.encode(bufferPolyfill.Buffer.from(a)))}return Transaction.populate(Message.from(r),o)}static populate(e,r=[]){const n=new Transaction;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((o,s)=>{const a={signature:o==bs58$2.encode(DEFAULT_SIGNATURE)?null:bs58$2.decode(o),publicKey:e.accountKeys[s]};n.signatures.push(a)}),e.instructions.forEach(o=>{const s=o.accounts.map(a=>{const c=e.accountKeys[a];return{pubkey:c,isSigner:n.signatures.some(d=>d.publicKey.toString()===c.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});n.instructions.push(new TransactionInstruction({keys:s,programId:e.accountKeys[o.programIdIndex],data:bs58$2.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}}class TransactionMessage{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:o,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d}=n,m=a-c;assert$4(m>0,"Message header is invalid");const gr=e.staticAccountKeys.length-a-d;assert$4(gr>=0,"Message header is invalid");const vr=e.getAccountKeys(r),Ar=vr.get(0);if(Ar===void 0)throw new Error("Failed to decompile message because no account keys were found");const Tr=[];for(const Rr of o){const kr=[];for(const Dr of Rr.accountKeyIndexes){const Ur=vr.get(Dr);if(Ur===void 0)throw new Error(`Failed to find key for account key index ${Dr}`);const Cr=Dr<a;let Nr;Cr?Nr=Dr<m:Dr<vr.staticAccountKeys.length?Nr=Dr-a<gr:Nr=Dr-vr.staticAccountKeys.length<vr.accountKeysFromLookups.writable.length,kr.push({pubkey:Ur,isSigner:Dr<n.numRequiredSignatures,isWritable:Nr})}const xr=vr.get(Rr.programIdIndex);if(xr===void 0)throw new Error(`Failed to find program id for program id index ${Rr.programIdIndex}`);Tr.push(new TransactionInstruction({programId:xr,data:toBuffer(Rr.data),keys:kr}))}return new TransactionMessage({payerKey:Ar,instructions:Tr,recentBlockhash:s})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)assert$4(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let o=0;o<e.header.numRequiredSignatures;o++)n.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES$1));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();encodeLength(r,this.signatures.length);const n=struct$1([blob$1(r.length,"encodedSignaturesLength"),seq(signature(),this.signatures.length,"signatures"),blob$1(e.length,"serializedMessage")]),o=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,s)}static deserialize(e){let r=[...e];const n=[],o=decodeLength(r);for(let a=0;a<o;a++)n.push(new Uint8Array(r.splice(0,SIGNATURE_LENGTH_IN_BYTES$1)));const s=VersionedMessage.deserialize(new Uint8Array(r));return new VersionedTransaction(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const s=n.findIndex(a=>a.equals(o.publicKey));assert$4(s>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[s]=sign(r,o.secretKey)}}addSignature(e,r){assert$4(r.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));assert$4(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=r}}const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND,SYSVAR_CLOCK_PUBKEY=new PublicKey("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$2(t,e,r,n){const o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,o);let a;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)a=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:c}=e.nonceInfo,d=c.keys[0].pubkey;a=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:d,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),a=(await t.confirmTransaction(s,n&&n.commitment)).value;if(a.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(a)})`);return s}function sleep(t){return new Promise(e=>setTimeout(e,t))}function encodeData(t,e){const r=t.layout.span>=0?t.layout.span:getAlloc(t,e),n=bufferPolyfill.Buffer.alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}function decodeData$1(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const FeeCalculatorLayout=nu64("lamportsPerSignature"),NonceAccountLayout=struct$1([u32$1("version"),u32$1("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct$1([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=NonceAccountLayout.decode(toBuffer(e),0);return new NonceAccount({authorizedPubkey:new PublicKey(r.authorizedPubkey),nonce:new PublicKey(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const encodeDecode=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},bigInt=t=>e=>{const r=blob$1(t,e),{encode:n,decode:o}=encodeDecode(r),s=r;return s.decode=(a,c)=>{const d=o(a,c);return toBigIntLE_1(bufferPolyfill.Buffer.from(d))},s.encode=(a,c,d)=>{const m=toBufferLE_1(a,t);return n(m,c,d)},s},u64$1=bigInt(8);class SystemInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS))if(a.index==n){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new PublicKey(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new PublicKey(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:o,programId:s}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,space:o,programId:new PublicKey(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,programId:new PublicKey(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:o,space:s,programId:a}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey(r),seed:n,lamports:o,space:s,programId:new PublicKey(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(r)}}static checkProgramId(e){if(!e.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct$1([u32$1("instruction"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},Assign:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("programId")])},Transfer:{index:2,layout:struct$1([u32$1("instruction"),u64$1("lamports")])},CreateWithSeed:{index:3,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},AdvanceNonceAccount:{index:4,layout:struct$1([u32$1("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$1([u32$1("instruction"),ns64("lamports")])},InitializeNonceAccount:{index:6,layout:struct$1([u32$1("instruction"),publicKey$1("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$1([u32$1("instruction"),publicKey$1("authorized")])},Allocate:{index:8,layout:struct$1([u32$1("instruction"),ns64("space")])},AllocateWithSeed:{index:9,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),ns64("space"),publicKey$1("programId")])},AssignWithSeed:{index:10,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),publicKey$1("programId")])},TransferWithSeed:{index:11,layout:struct$1([u32$1("instruction"),u64$1("lamports"),rustString("seed"),publicKey$1("programId")])},UpgradeNonceAccount:{index:12,layout:struct$1([u32$1("instruction")])}});class SystemProgram{constructor(){}static createAccount(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.Create,n=encodeData(r,{lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;r=encodeData(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;r=encodeData(o,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;r=encodeData(o,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Assign;r=encodeData(o,{programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,n=encodeData(r,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:o,programId:this.programId,data:n})}static createNonceAccount(e){const r=new Transaction;"basePubkey"in e&&"seed"in e?r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,n=encodeData(r,{authorized:toBuffer(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction(o)}static nonceAdvance(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,n=encodeData(r),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction(o)}static nonceWithdraw(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,n=encodeData(r,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,n=encodeData(r,{authorized:toBuffer(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;r=encodeData(o,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;r=encodeData(o,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE-300;class Loader{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader.chunkSize)+1+1)}static async load(e,r,n,o,s){{const vr=await e.getMinimumBalanceForRentExemption(s.length),Ar=await e.getAccountInfo(n.publicKey,"confirmed");let Tr=null;if(Ar!==null){if(Ar.executable)return console.error("Program load failed, account is already executable"),!1;Ar.data.length!==s.length&&(Tr=Tr||new Transaction,Tr.add(SystemProgram.allocate({accountPubkey:n.publicKey,space:s.length}))),Ar.owner.equals(o)||(Tr=Tr||new Transaction,Tr.add(SystemProgram.assign({accountPubkey:n.publicKey,programId:o}))),Ar.lamports<vr&&(Tr=Tr||new Transaction,Tr.add(SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:vr-Ar.lamports})))}else Tr=new Transaction().add(SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:vr>0?vr:1,space:s.length,programId:o}));Tr!==null&&await sendAndConfirmTransaction$2(e,Tr,[r,n],{commitment:"confirmed"})}const a=struct$1([u32$1("instruction"),u32$1("offset"),u32$1("bytesLength"),u32$1("bytesLengthPadding"),seq(u8$1("byte"),offset(u32$1(),-8),"bytes")]),c=Loader.chunkSize;let d=0,m=s,gr=[];for(;m.length>0;){const vr=m.slice(0,c),Ar=bufferPolyfill.Buffer.alloc(c+16);a.encode({instruction:0,offset:d,bytes:vr,bytesLength:0,bytesLengthPadding:0},Ar);const Tr=new Transaction().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:Ar});gr.push(sendAndConfirmTransaction$2(e,Tr,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),d+=c,m=m.slice(c)}await Promise.all(gr);{const vr=struct$1([u32$1("instruction")]),Ar=bufferPolyfill.Buffer.alloc(vr.span);vr.encode({instruction:1},Ar);const Tr=new Transaction().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:o,data:Ar}),Rr="processed",kr=await e.sendTransaction(Tr,[r,n],{preflightCommitment:Rr}),{context:xr,value:Dr}=await e.confirmTransaction({signature:kr,lastValidBlockHeight:Tr.lastValidBlockHeight,blockhash:Tr.recentBlockhash},Rr);if(Dr.err)throw new Error(`Transaction ${kr} failed (${JSON.stringify(Dr)})`);for(;;){try{if(await e.getSlot({commitment:Rr})>xr.slot)break}catch{}await new Promise(Ur=>setTimeout(Ur,Math.round(MS_PER_SLOT/2)))}}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(e){return Loader.getMinNumSignatures(e)}static load(e,r,n,o,s){return Loader.load(e,r,n,s,o)}}function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var objToString=Object.prototype.toString,objKeys=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function stringify(t,e){var r,n,o,s,a,c,d;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return stringify(t.toJSON(),e);if(d=objToString.call(t),d==="[object Array]"){for(o="[",n=t.length-1,r=0;r<n;r++)o+=stringify(t[r],!0)+",";return n>-1&&(o+=stringify(t[r],!0)),o+"]"}else if(d==="[object Object]"){for(s=objKeys(t).sort(),n=s.length,o="",r=0;r<n;)a=s[r],c=stringify(t[a],!1),c!==void 0&&(o&&(o+=","),o+=JSON.stringify(a)+":"+c),r++;return"{"+o+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var fastStableStringify=function(t){var e=stringify(t,!1);if(e!==void 0)return""+e},fastStableStringify$1=getDefaultExportFromCjs(fastStableStringify);const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(t){let e=0;for(;t>1;)t/=2,e++;return e}function nextPowerOfTwo(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class EpochSchedule{constructor(e,r,n,o,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=o,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=trailingZeros(nextPowerOfTwo(e+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,n=this.getSlotsInEpoch(r),o=e-(n-MINIMUM_SLOT_PER_EPOCH);return[r,o]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),o=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[o,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}}const SolanaJSONRPCErrorCode={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:e,message:r,data:n},o){super(o!=null?`${o}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var fetchImpl=globalThis.fetch;class RpcWebSocketClient extends RpcWebSocketCommonClient{constructor(e,r,n){const o=s=>{const a=createRpc(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in a?this.underlyingSocket=a.socket:this.underlyingSocket=a,a};super(o,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function decodeData(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const LOOKUP_TABLE_META_SIZE=56;class AddressLookupTableAccount{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=decodeData(LookupTableMetaLayout,e),n=e.length-LOOKUP_TABLE_META_SIZE;assert$4(n>=0,"lookup table is invalid"),assert$4(n%32===0,"lookup table is invalid");const o=n/32,{addresses:s}=struct$1([seq(publicKey$1(),o,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new PublicKey(r.authority[0]):void 0,addresses:s.map(a=>new PublicKey(a))}}}const LookupTableMetaLayout={index:1,layout:struct$1([u32$1("typeIndex"),u64$1("deactivationSlot"),nu64("lastExtendedSlot"),u8$1("lastExtendedStartIndex"),u8$1(),seq(publicKey$1(),offset(u8$1(),-1),"authority")])},URL_RE=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl(t){const e=t.match(URL_RE);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,o,s]=e,a=t.startsWith("https:")?"wss:":"ws:",c=o==null?null:parseInt(o.slice(1),10),d=c==null?"":`:${c+1}`;return`${a}//${n}${d}${s}`}const PublicKeyFromString=coerce(instance(PublicKey),string(),t=>new PublicKey(t)),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance(bufferPolyfill.Buffer),RawAccountDataResult,t=>bufferPolyfill.Buffer.from(t[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function assertEndpointUrl(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function extractCommitmentFromConfig(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...o}=t;e=n,r=o}return{commitment:e,config:r}}function createRpcResult(t){return union([type({jsonrpc:literal("2.0"),id:string(),result:t}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(t){return coerce(createRpcResult(t),UnknownRpcResult,e=>"error"in e?e:{...e,result:create(e.result,t)})}function jsonRpcResultAndContext(t){return jsonRpcResult(type({context:type({slot:number()}),value:t}))}function notificationResultAndContext(t){return type({context:type({slot:number()}),value:t})}function versionedMessageFromResponse(t,e){return t===0?new MessageV0({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new PublicKey(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:bs58$2.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Message(e)}const GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()}),GetInflationRewardResult=jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number(),commission:optional(nullable(number()))})))),GetRecentPrioritizationFeesResult=array(type({slot:number(),prioritizationFee:number()})),GetInflationRateResult=type({total:number(),validator:number(),foundation:number(),epoch:number()}),GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature"),VersionResult=type({"solana-core":string(),"feature-set":optional(number())}),SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])})))})),BlockProductionResponseStruct=jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})}));function createRpcClient(t,e,r,n,o,s){const a=r||fetchImpl;let c;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let d;return n&&(d=async(gr,vr)=>{const Ar=await new Promise((Tr,Rr)=>{try{n(gr,vr,(kr,xr)=>Tr([kr,xr]))}catch(kr){Rr(kr)}});return await a(...Ar)}),new browser$2(async(gr,vr)=>{const Ar={method:"POST",body:gr,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS)};try{let Tr=5,Rr,kr=500;for(;d?Rr=await d(t,Ar):Rr=await a(t,Ar),!(Rr.status!==429||o===!0||(Tr-=1,Tr===0));)console.log(`Server responded with ${Rr.status} ${Rr.statusText}.  Retrying after ${kr}ms delay...`),await sleep(kr),kr*=2;const xr=await Rr.text();Rr.ok?vr(null,xr):vr(new Error(`${Rr.status} ${Rr.statusText}: ${xr}`))}catch(Tr){Tr instanceof Error&&vr(Tr)}},{})}function createRpcRequest(t){return(e,r)=>new Promise((n,o)=>{t.request(e,r,(s,a)=>{if(s){o(s);return}n(a)})})}function createRpcBatchRequest(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const o=e.map(s=>t.request(s.methodName,s.args));t.request(o,(s,a)=>{if(s){n(s);return}r(a)})})}const GetInflationGovernorRpcResult=jsonRpcResult(GetInflationGovernorResult),GetInflationRateRpcResult=jsonRpcResult(GetInflationRateResult),GetRecentPrioritizationFeesRpcResult=jsonRpcResult(GetRecentPrioritizationFeesResult),GetEpochInfoRpcResult=jsonRpcResult(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult(number()),GetSupplyRpcResult=jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)})),TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})}))),ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString}))),AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()}),KeyedAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce(union([instance(bufferPolyfill.Buffer),ParsedAccountDataResult]),union([RawAccountDataResult,ParsedAccountDataResult]),t=>Array.isArray(t)?create(t,BufferFromRawAccountData):t),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()}),KeyedParsedAccountInfoResult=type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),AccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type({parent:number(),slot:number(),root:number()}),SlotNotificationResult=type({subscription:number(),result:SlotInfoResult}),SlotUpdateResult=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]),SlotUpdateNotificationResult=type({subscription:number(),result:SlotUpdateResult}),SignatureNotificationResult=type({subscription:number(),result:notificationResultAndContext(union([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type({subscription:number(),result:number()}),ContactInfoResult=type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())}),VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())}),GetVoteAccounts=jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)})),ConfirmationStatus=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext(array(nullable(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult(number()),AddressTableLookupStruct=type({accountKey:PublicKeyFromString,writableIndexes:array(number()),readonlyIndexes:array(number())}),ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(AddressTableLookupStruct))})}),AnnotatedAccountKey=type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))}),ConfirmedTransactionAccountsModeResult=type({accountKeys:array(AnnotatedAccountKey),signatures:array(string())}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,t=>"accounts"in t?create(t,RawInstructionResult):create(t,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(AnnotatedAccountKey),instructions:array(ParsedOrRawInstruction),recentBlockhash:string(),addressTableLookups:optional(nullable(array(AddressTableLookupStruct)))})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),owner:optional(string()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type({writable:array(PublicKeyFromString),readonly:array(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),TransactionVersionStruct=union([literal(0),literal("legacy")]),RewardsResult=type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string()),commission:optional(nullable(number()))}),GetBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetNoneModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetAccountsModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedAccountsModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedNoneModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetConfirmedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number())}))),GetBlockSignaturesRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())}))),GetTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),meta:nullable(ConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult,version:optional(TransactionVersionStruct)}))),GetParsedTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct)}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:number()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()})),IsBlockhashValidRpcResult=jsonRpcResultAndContext(boolean()),PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult(array(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})}))),RequestAirdropRpcResult=jsonRpcResult(string()),SendTransactionRpcResult=jsonRpcResult(string()),LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()}),LogsNotificationResult=type({result:notificationResultAndContext(LogsResult),subscription:number()}),COMMON_HTTP_HEADERS={"solana-client":"js/0.0.0-development"};class Connection{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const m={};return async gr=>{const{commitment:vr,config:Ar}=extractCommitmentFromConfig(gr),Tr=this._buildArgs([],vr,void 0,Ar),Rr=fastStableStringify$1(Tr);return m[Rr]=m[Rr]??(async()=>{try{const kr=await this._rpcRequest("getBlockHeight",Tr),xr=create(kr,jsonRpcResult(number()));if("error"in xr)throw new SolanaJSONRPCError(xr.error,"failed to get block height information");return xr.result}finally{delete m[Rr]}})(),await m[Rr]}})();let n,o,s,a,c,d;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,o=r.httpHeaders,s=r.fetch,a=r.fetchMiddleware,c=r.disableRetryOnRateLimit,d=r.httpAgent),this._rpcEndpoint=assertEndpointUrl(e),this._rpcWsEndpoint=n||makeWebsocketUrl(e),this._rpcClient=createRpcClient(e,o,s,a,c,d),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,void 0,o),a=await this._rpcRequest("getBalance",s),c=create(a,jsonRpcResultAndContext(number()));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=create(r,jsonRpcResult(nullable(number())));if("error"in n)throw new SolanaJSONRPCError(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=create(e,jsonRpcResult(number()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=create(e,SlotRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),o=create(n,GetSupplyRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get supply");return o.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenSupply",n),s=create(o,jsonRpcResultAndContext(TokenAmountResult));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenAccountBalance",n),s=create(o,jsonRpcResultAndContext(TokenAmountResult));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:o,config:s}=extractCommitmentFromConfig(n);let a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});const c=this._buildArgs(a,o,"base64",s),d=await this._rpcRequest("getTokenAccountsByOwner",c),m=create(d,GetTokenAccountsByOwner);if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get token accounts owned by account ${e.toBase58()}`);return m.result}async getParsedTokenAccountsByOwner(e,r,n){let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const s=this._buildArgs(o,n,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",s),c=create(a,GetParsedTokenAccountsByOwner);if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],o=await this._rpcRequest("getLargestAccounts",n),s=create(o,GetLargestAccountsRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenLargestAccounts",n),s=create(o,GetTokenLargestAccountsResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"base64",o),a=await this._rpcRequest("getAccountInfo",s),c=create(a,jsonRpcResultAndContext(nullable(AccountInfoResult)));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",o),a=await this._rpcRequest("getAccountInfo",s),c=create(a,jsonRpcResultAndContext(nullable(ParsedAccountInfoResult)));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=e.map(m=>m.toBase58()),a=this._buildArgs([s],n,"jsonParsed",o),c=await this._rpcRequest("getMultipleAccounts",a),d=create(c,jsonRpcResultAndContext(array(nullable(ParsedAccountInfoResult))));if("error"in d)throw new SolanaJSONRPCError(d.error,`failed to get info for accounts ${s}`);return d.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=e.map(m=>m.toBase58()),a=this._buildArgs([s],n,"base64",o),c=await this._rpcRequest("getMultipleAccounts",a),d=create(c,jsonRpcResultAndContext(array(nullable(AccountInfoResult))));if("error"in d)throw new SolanaJSONRPCError(d.error,`failed to get info for accounts ${s}`);return d.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:o,config:s}=extractCommitmentFromConfig(r),a=this._buildArgs([e.toBase58()],o,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),c=await this._rpcRequest("getStakeActivation",a),d=create(c,jsonRpcResult(StakeActivationResult));if("error"in d)throw new SolanaJSONRPCError(d.error,`failed to get Stake Activation ${e.toBase58()}`);return d.result}async getProgramAccounts(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),{encoding:s,...a}=o||{},c=this._buildArgs([e.toBase58()],n,s||"base64",a),d=await this._rpcRequest("getProgramAccounts",c),m=array(KeyedAccountInfoResult),gr=a.withContext===!0?create(d,jsonRpcResultAndContext(m)):create(d,jsonRpcResult(m));if("error"in gr)throw new SolanaJSONRPCError(gr.error,`failed to get accounts owned by program ${e.toBase58()}`);return gr.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",o),a=await this._rpcRequest("getProgramAccounts",s),c=create(a,jsonRpcResult(array(KeyedParsedAccountInfoResult)));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,r){var s;let n;if(typeof e=="string")n=e;else{const a=e;if((s=a.abortSignal)!=null&&s.aborted)return Promise.reject(a.abortSignal.reason);n=a.signature}let o;try{o=bs58$2.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return assert$4(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,o,s=!1;const a=new Promise((d,m)=>{try{n=this.onSignature(r,(vr,Ar)=>{n=void 0;const Tr={context:Ar,value:vr};d({__type:TransactionStatus.PROCESSED,response:Tr})},e);const gr=new Promise(vr=>{n==null?vr():o=this._onSubscriptionStateChange(n,Ar=>{Ar==="subscribed"&&vr()})});(async()=>{if(await gr,s)return;const vr=await this.getSignatureStatus(r);if(s||vr==null)return;const{context:Ar,value:Tr}=vr;if(Tr!=null)if(Tr!=null&&Tr.err)m(Tr.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(Tr.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(Tr.confirmationStatus==="processed"||Tr.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,d({__type:TransactionStatus.PROCESSED,response:{context:Ar,value:Tr}})}})()}catch(gr){m(gr)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:a}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:o}}){let s=!1;const a=new Promise(vr=>{const Ar=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let Tr=await Ar();if(!s){for(;Tr<=n;)if(await sleep(1e3),s||(Tr=await Ar(),s))return;vr({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),m=this.getCancellationPromise(r);let gr;try{const vr=await Promise.race([m,d,a]);if(vr.__type===TransactionStatus.PROCESSED)gr=vr.response;else throw new TransactionExpiredBlockheightExceededError(o)}finally{s=!0,c()}return gr}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:o,nonceValue:s,signature:a}}){let c=!1;const d=new Promise(Tr=>{let Rr=s,kr=null;const xr=async()=>{try{const{context:Dr,value:Ur}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:n});return kr=Dr.slot,Ur==null?void 0:Ur.nonce}catch{return Rr}};(async()=>{if(Rr=await xr(),!c)for(;;){if(s!==Rr){Tr({__type:TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:kr});return}if(await sleep(2e3),c||(Rr=await xr(),c))return}})()}),{abortConfirmation:m,confirmationPromise:gr}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),vr=this.getCancellationPromise(r);let Ar;try{const Tr=await Promise.race([vr,gr,d]);if(Tr.__type===TransactionStatus.PROCESSED)Ar=Tr.response;else{let Rr;for(;;){const kr=await this.getSignatureStatus(a);if(kr==null)break;if(kr.context.slot<(Tr.slotInWhichNonceDidAdvance??n)){await sleep(400);continue}Rr=kr;break}if(Rr!=null&&Rr.value){const kr=e||"finalized",{confirmationStatus:xr}=Rr.value;switch(kr){case"processed":case"recent":if(xr!=="processed"&&xr!=="confirmed"&&xr!=="finalized")throw new TransactionExpiredNonceInvalidError(a);break;case"confirmed":case"single":case"singleGossip":if(xr!=="confirmed"&&xr!=="finalized")throw new TransactionExpiredNonceInvalidError(a);break;case"finalized":case"max":case"root":if(xr!=="finalized")throw new TransactionExpiredNonceInvalidError(a);break;default:(Dr=>{})(kr)}Ar={context:Rr.context,value:{err:Rr.value.err}}}else throw new TransactionExpiredNonceInvalidError(a)}}finally{c=!0,m()}return Ar}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const o=new Promise(d=>{let m=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{m=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>d({__type:TransactionStatus.TIMED_OUT,timeoutMs:m}),m)}),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let c;try{const d=await Promise.race([a,o]);if(d.__type===TransactionStatus.PROCESSED)c=d.response;else throw new TransactionExpiredTimeoutError(r,d.timeoutMs/1e3)}finally{clearTimeout(n),s()}return c}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=create(e,jsonRpcResult(array(ContactInfoResult)));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),o=create(n,GetVoteAccounts);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",o),a=create(s,jsonRpcResult(number()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot");return a.result}async getSlotLeader(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",o),a=create(s,jsonRpcResult(string()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,r){const n=[e,r],o=await this._rpcRequest("getSlotLeaders",n),s=create(o,jsonRpcResult(array(PublicKeyFromString)));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:o}=await this.getSignatureStatuses([e],r);assert$4(o.length===1);const s=o[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const o=await this._rpcRequest("getSignatureStatuses",n),s=create(o,GetSignatureStatusesRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",o),a=create(s,jsonRpcResult(number()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),o=create(n,GetInflationGovernorRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get inflation");return o.result}async getInflationReward(e,r,n){const{commitment:o,config:s}=extractCommitmentFromConfig(n),a=this._buildArgs([e.map(m=>m.toBase58())],o,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),c=await this._rpcRequest("getInflationReward",a),d=create(c,GetInflationRewardResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get inflation reward");return d.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=create(e,GetInflationRateRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",o),a=create(s,GetEpochInfoRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=create(e,GetEpochScheduleRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get epoch schedule");const n=r.result;return new EpochSchedule(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=create(e,GetLeaderScheduleRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),o=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=create(o,GetMinimumBalanceForRentExemptionRpcResult);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),o=create(n,GetRecentBlockhashAndContextRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=create(r,GetRecentPerformanceSamplesRpcResult);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),o=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=create(o,GetFeeCalculatorRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get fee calculator");const{context:a,value:c}=s.result;return{context:a,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,r){const n=toBuffer(e.serialize()).toString("base64"),o=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",o),a=create(s,jsonRpcResultAndContext(nullable(number())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get fee for message");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){var a;const r=(a=e==null?void 0:e.lockedWritableAccounts)==null?void 0:a.map(c=>c.toBase58()),n=r!=null&&r.length?[r]:[],o=await this._rpcRequest("getRecentPrioritizationFees",n),s=create(o,GetRecentPrioritizationFeesRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",o),a=create(s,GetLatestBlockhashRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgs([e],n,void 0,o),a=await this._rpcRequest("isBlockhashValid",s),c=create(a,IsBlockhashValidRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=create(e,jsonRpcResult(VersionResult));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=create(e,jsonRpcResult(string()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,o),a=await this._rpcRequest("getBlock",s);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const c=create(a,GetAccountsModeBlockRpcResult);if("error"in c)throw c.error;return c.result}case"none":{const c=create(a,GetNoneModeBlockRpcResult);if("error"in c)throw c.error;return c.result}default:{const c=create(a,GetBlockRpcResult);if("error"in c)throw c.error;const{result:d}=c;return d?{...d,transactions:d.transactions.map(({transaction:m,meta:gr,version:vr})=>({meta:gr,transaction:{...m,message:versionedMessageFromResponse(vr,m.message)},version:vr}))}:null}}}catch(c){throw new SolanaJSONRPCError(c,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),a=await this._rpcRequest("getBlock",s);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const c=create(a,GetParsedAccountsModeBlockRpcResult);if("error"in c)throw c.error;return c.result}case"none":{const c=create(a,GetParsedNoneModeBlockRpcResult);if("error"in c)throw c.error;return c.result}default:{const c=create(a,GetParsedBlockRpcResult);if("error"in c)throw c.error;return c.result}}}catch(c){throw new SolanaJSONRPCError(c,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:c,...d}=e;n=c,r=d}const o=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",o),a=create(s,BlockProductionResponseStruct);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get block production information");return a.result}async getTransaction(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,o),a=await this._rpcRequest("getTransaction",s),c=create(a,GetTransactionRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get transaction");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:versionedMessageFromResponse(d.version,d.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),a=await this._rpcRequest("getTransaction",s),c=create(a,GetParsedTransactionRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=e.map(d=>{const m=this._buildArgsAtLeastConfirmed([d],n,"jsonParsed",o);return{methodName:"getTransaction",args:m}});return(await this._rpcBatchRequest(s)).map(d=>{const m=create(d,GetParsedTransactionRpcResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get transactions");return m.result})}async getTransactions(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=e.map(d=>{const m=this._buildArgsAtLeastConfirmed([d],n,void 0,o);return{methodName:"getTransaction",args:m}});return(await this._rpcBatchRequest(s)).map(d=>{const m=create(d,GetTransactionRpcResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get transactions");const gr=m.result;return gr&&{...gr,transaction:{...gr.transaction,message:versionedMessageFromResponse(gr.version,gr.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedBlock",n),s=create(o,GetConfirmedBlockRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");const c={...a,transactions:a.transactions.map(({transaction:d,meta:m})=>{const gr=new Message(d.message);return{meta:m,transaction:{...d,message:gr}}})};return{...c,transactions:c.transactions.map(({transaction:d,meta:m})=>({meta:m,transaction:Transaction.populate(d.message,d.signatures)}))}}async getBlocks(e,r,n){const o=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",o),a=create(s,jsonRpcResult(array(number())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",n),s=create(o,GetBlockSignaturesRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get block");const a=s.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",n),s=create(o,GetBlockSignaturesRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedTransaction",n),s=create(o,GetTransactionRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");const a=s.result;if(!a)return a;const c=new Message(a.transaction.message),d=a.transaction.signatures;return{...a,transaction:Transaction.populate(c,d)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",n),s=create(o,GetParsedTransactionRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(a=>{const c=this._buildArgsAtLeastConfirmed([a],r,"jsonParsed");return{methodName:"getConfirmedTransaction",args:c}});return(await this._rpcBatchRequest(n)).map(a=>{const c=create(a,GetParsedTransactionRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,r,n){let o={},s=await this.getFirstAvailableBlock();for(;!("until"in o)&&(r--,!(r<=0||r<s));)try{const d=await this.getConfirmedBlockSignatures(r,"finalized");d.signatures.length>0&&(o.until=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}let a=await this.getSlot("finalized");for(;!("before"in o)&&(n++,!(n>a));)try{const d=await this.getConfirmedBlockSignatures(n);d.signatures.length>0&&(o.before=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(d=>d.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),a=create(s,GetConfirmedSignaturesForAddress2RpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,r,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",o),a=create(s,GetSignaturesForAddressRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,r){const{context:n,value:o}=await this.getAccountInfoAndContext(e,r);let s=null;return o!==null&&(s=new AddressLookupTableAccount({key:e,state:AddressLookupTableAccount.deserialize(o.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:o}=await this.getAccountInfoAndContext(e,r);let s=null;return o!==null&&(s=NonceAccount.fromAccountData(o.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),o=create(n,RequestAirdropRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const n=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let o=0;o<50;o++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",o),a=create(s,jsonRpcResultAndContext(number()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,r,n){if("message"in e){const kr=e.serialize(),xr=bufferPolyfill.Buffer.from(kr).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const Dr=r||{};Dr.encoding="base64","commitment"in Dr||(Dr.commitment=this.commitment);const Ur=[xr,Dr],Cr=await this._rpcRequest("simulateTransaction",Ur),Nr=create(Cr,SimulatedTransactionResponseStruct);if("error"in Nr)throw new Error("failed to simulate transaction: "+Nr.error.message);return Nr.result}let o;if(e instanceof Transaction){let Rr=e;o=new Transaction,o.feePayer=Rr.feePayer,o.instructions=e.instructions,o.nonceInfo=Rr.nonceInfo,o.signatures=Rr.signatures}else o=Transaction.populate(e),o._message=o._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(o.nonceInfo&&s)o.sign(...s);else{let Rr=this._disableBlockhashCaching;for(;;){const kr=await this._blockhashWithExpiryBlockHeight(Rr);if(o.lastValidBlockHeight=kr.lastValidBlockHeight,o.recentBlockhash=kr.blockhash,!s)break;if(o.sign(...s),!o.signature)throw new Error("!signature");const xr=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(xr)&&!this._blockhashInfo.transactionSignatures.includes(xr)){this._blockhashInfo.simulatedSignatures.push(xr);break}else Rr=!0}}const a=o._compile(),c=a.serialize(),m=o._serialize(c).toString("base64"),gr={encoding:"base64",commitment:this.commitment};if(n){const Rr=(Array.isArray(n)?n:a.nonProgramIds()).map(kr=>kr.toBase58());gr.accounts={encoding:"base64",addresses:Rr}}s&&(gr.sigVerify=!0);const vr=[m,gr],Ar=await this._rpcRequest("simulateTransaction",vr),Tr=create(Ar,SimulatedTransactionResponseStruct);if("error"in Tr){let Rr;if("data"in Tr.error&&(Rr=Tr.error.data.logs,Rr&&Array.isArray(Rr))){const kr=`
    `,xr=kr+Rr.join(kr);console.error(Tr.error.message,xr)}throw new SendTransactionError("failed to simulate transaction: "+Tr.error.message,Rr)}return Tr.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const a=e.serialize();return await this.sendRawTransaction(a,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const o=r;if(e.nonceInfo)e.sign(...o);else{let a=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const d=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(d))a=!0;else{this._blockhashInfo.transactionSignatures.push(d);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=toBuffer(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},o=r&&r.skipPreflight,s=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),o&&(n.skipPreflight=o),s&&(n.preflightCommitment=s);const a=[e,n],c=await this._rpcRequest("sendTransaction",a),d=create(c,SendTransactionRpcResult);if("error"in d){let m;throw"data"in d.error&&(m=d.error.data.logs),new SendTransactionError("failed to send transaction: "+d.error.message,m)}return d.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var o;const n=(o=this._subscriptionsByHash[e])==null?void 0:o.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(a=>{try{a(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var s;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const o=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const o=this._subscriptionsByHash[n];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[n],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:a}=o;try{this._setSubscription(n,{...o,state:"subscribing"});const c=await this._rpcWebSocket.call(a,s);this._setSubscription(n,{...o,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=o.callbacks,await this._updateSubscriptions()}catch(c){if(c instanceof Error&&console.error(`${a} error for argument`,s,c.message),!r())return;this._setSubscription(n,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:a}=o;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...o,state:"unsubscribing"}),this._setSubscription(n,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(a,[s])}catch(c){if(c instanceof Error&&console.error(`${a} error:`,c.message),!r())return;this._setSubscription(n,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(o=>{try{o(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=create(e,AccountNotificationResult);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,o=fastStableStringify$1([e.method,r],!0),s=this._subscriptionsByHash[o];return s===void 0?this._subscriptionsByHash[o]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const a=this._subscriptionsByHash[o];assert$4(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=create(e,ProgramAccountNotificationResult);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,o){const s=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=create(e,LogsNotificationResult);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=create(e,SlotNotificationResult);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=create(e,SlotUpdateNotificationResult);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,o){const s=r||this._commitment;if(s||n||o){let a={};n&&(a.encoding=n),s&&(a.commitment=s),o&&(a=Object.assign(a,o)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,r,n,o){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,o)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=create(e,SignatureNotificationResult);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const o=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(a,c)=>{if(a.type==="status"){r(a.result,c);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}onSignatureWithOptions(e,r,n){const{commitment:o,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},a=this._buildArgs([e],o,void 0,s),c=this._makeSubscription({callback:(d,m)=>{r(d,m);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=create(e,RootNotificationResult);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const o=e.slice(0,32),s=getPublicKey(o);for(let a=0;a<32;a++)if(n[a]!==s[a])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:n,secretKey:e})}static fromSeed(e){const r=getPublicKey(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Keypair({publicKey:r,secretKey:n})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:struct$1([u32$1("instruction"),u64$1("recentSlot"),u8$1("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$1([u32$1("instruction")])},ExtendLookupTable:{index:2,layout:struct$1([u32$1("instruction"),u64$1(),seq(publicKey$1(),offset(u32$1(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$1([u32$1("instruction")])},CloseLookupTable:{index:4,layout:struct$1([u32$1("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(a.index==n){o=s;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new PublicKey(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(e){const[r,n]=PublicKey.findProgramAddressSync([e.authority.toBuffer(),toBufferLE_1(BigInt(e.recentSlot),8)],this.programId),o=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,s=encodeData(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:a,data:s}),r]}static freezeLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,n=encodeData(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:o,data:n})}static extendLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,n=encodeData(r,{addresses:e.addresses.map(s=>s.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:o,data:n})}static deactivateLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,n=encodeData(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:o,data:n})}static closeLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,n=encodeData(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:o,data:n})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u8$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(a.index==n){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct$1([u8$1("instruction"),u32$1("units"),u32$1("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$1([u8$1("instruction"),u32$1("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$1([u8$1("instruction"),u32$1("units")])},SetComputeUnitPrice:{index:3,layout:struct$1([u8$1("instruction"),u64$1("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,n=encodeData(r,e);return new TransactionInstruction({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,n=encodeData(r,e);return new TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,n=encodeData(r,e);return new TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,n=encodeData(r,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:n})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u8$1("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:o,instructionIndex:s}=e;assert$4(r.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${r.length} bytes`),assert$4(o.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${o.length} bytes`);const a=ED25519_INSTRUCTION_LAYOUT.span,c=a+r.length,d=c+o.length,m=1,gr=bufferPolyfill.Buffer.alloc(d+n.length),vr=s??65535;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:m,padding:0,signatureOffset:c,signatureInstructionIndex:vr,publicKeyOffset:a,publicKeyInstructionIndex:vr,messageDataOffset:d,messageDataSize:n.length,messageInstructionIndex:vr},gr),gr.fill(r,a),gr.fill(o,c),gr.fill(n,d),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:gr})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:o}=e;assert$4(r.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${r.length} bytes`);try{const s=Keypair.fromSecretKey(r),a=s.publicKey.toBytes(),c=sign(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:c,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");const ecdsaSign=(t,e)=>{const r=secp256k1.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};secp256k1.utils.isValidPrivateKey;const publicKeyCreate=secp256k1.getPublicKey,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u16("signatureOffset"),u8$1("signatureInstructionIndex"),u16("ethAddressOffset"),u8$1("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$1("messageInstructionIndex"),blob$1(20,"ethAddress"),blob$1(64,"signature"),u8$1("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(e){assert$4(e.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${e.length} bytes`);try{return bufferPolyfill.Buffer.from(keccak_256(toBuffer(e))).slice(-ETHEREUM_ADDRESS_BYTES)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:o,recoveryId:s,instructionIndex:a}=e;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(r),message:n,signature:o,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:o,recoveryId:s,instructionIndex:a=0}=e;let c;typeof r=="string"?r.startsWith("0x")?c=bufferPolyfill.Buffer.from(r.substr(2),"hex"):c=bufferPolyfill.Buffer.from(r,"hex"):c=r,assert$4(c.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${c.length} bytes`);const d=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,m=d,gr=d+c.length,vr=gr+o.length+1,Ar=1,Tr=bufferPolyfill.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+n.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:Ar,signatureOffset:gr,signatureInstructionIndex:a,ethAddressOffset:m,ethAddressInstructionIndex:a,messageDataOffset:vr,messageDataSize:n.length,messageInstructionIndex:a,signature:toBuffer(o),ethAddress:toBuffer(c),recoveryId:s},Tr),Tr.fill(toBuffer(n),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:Tr})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:o}=e;assert$4(r.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${r.length} bytes`);try{const s=toBuffer(r),a=publicKeyCreate(s,!1).slice(1),c=bufferPolyfill.Buffer.from(keccak_256(toBuffer(n))),[d,m]=ecdsaSign(c,s);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:d,recoveryId:m,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");var _class2;const STAKE_CONFIG_ID=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class Lockup{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}_class2=Lockup;Lockup.default=new _class2(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(a.index==n){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized(new PublicKey(r.staker),new PublicKey(r.withdrawer)),lockup:new Lockup(n.unixTimestamp,n.epoch,new PublicKey(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:o,authorityOwner:s}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new PublicKey(s),newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct$1([u32$1("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$1([u32$1("instruction")])},Split:{index:3,layout:struct$1([u32$1("instruction"),ns64("lamports")])},Withdraw:{index:4,layout:struct$1([u32$1("instruction"),ns64("lamports")])},Deactivate:{index:5,layout:struct$1([u32$1("instruction")])},Merge:{index:7,layout:struct$1([u32$1("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$1("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:o}=e,s=o||Lockup.default,a=STAKE_INSTRUCTION_LAYOUTS.Initialize,c=encodeData(a,{authorized:{staker:toBuffer(n.staker.toBuffer()),withdrawer:toBuffer(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:toBuffer(s.custodian.toBuffer())}}),d={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new TransactionInstruction(d)}static createAccountWithSeed(e){const r=new Transaction;r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:o,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static createAccount(e){const r=new Transaction;r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:o,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:o}=e,s=STAKE_INSTRUCTION_LAYOUTS.Delegate,a=encodeData(s);return new Transaction().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,c=STAKE_INSTRUCTION_LAYOUTS.Authorize,d=encodeData(c,{newAuthorized:toBuffer(o.toBuffer()),stakeAuthorizationType:s.index}),m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&m.push({pubkey:a,isSigner:!1,isWritable:!1}),new Transaction().add({keys:m,programId:this.programId,data:d})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:o,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:c,custodianPubkey:d}=e,m=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,gr=encodeData(m,{newAuthorized:toBuffer(a.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:o,authorityOwner:toBuffer(s.toBuffer())}),vr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return d&&vr.push({pubkey:d,isSigner:!1,isWritable:!1}),new Transaction().add({keys:vr,programId:this.programId,data:gr})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:s}=e,a=STAKE_INSTRUCTION_LAYOUTS.Split,c=encodeData(a,{lamports:s});return new TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e){const r=new Transaction;return r.add(SystemProgram.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,basePubkey:s,seed:a,lamports:c}=e,d=new Transaction;return d.add(SystemProgram.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),d.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:c}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:o}=e,s=STAKE_INSTRUCTION_LAYOUTS.Merge,a=encodeData(s);return new Transaction().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:o,lamports:s,custodianPubkey:a}=e,c=STAKE_INSTRUCTION_LAYOUTS.Withdraw,d=encodeData(c,{lamports:s}),m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&m.push({pubkey:a,isSigner:!1,isWritable:!1}),new Transaction().add({keys:m,programId:this.programId,data:d})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,o=STAKE_INSTRUCTION_LAYOUTS.Deactivate,s=encodeData(o);return new Transaction().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111");StakeProgram.space=200;class VoteInit{constructor(e,r,n,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=o}}class VoteInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(a.index==n){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(r.nodePubkey),new PublicKey(r.authorizedVoter),new PublicKey(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:o,voteAuthorizationType:s}}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new PublicKey(o),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct$1([u32$1("instruction"),voteInit()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$1([u32$1("instruction"),ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$1([u32$1("instruction"),voteAuthorizeWithSeedArgs()])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:o}=e,s=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,a=encodeData(s,{voteInit:{nodePubkey:toBuffer(o.nodePubkey.toBuffer()),authorizedVoter:toBuffer(o.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new TransactionInstruction(c)}static createAccount(e){const r=new Transaction;return r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,voteAuthorizationType:s}=e,a=VOTE_INSTRUCTION_LAYOUTS.Authorize,c=encodeData(a,{newAuthorized:toBuffer(o.toBuffer()),voteAuthorizationType:s.index}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:d,programId:this.programId,data:c})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:c}=e,d=VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,m=encodeData(d,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer(n.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:toBuffer(s.toBuffer()),voteAuthorizationType:a.index}}),gr=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:gr,programId:this.programId,data:m})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:o,toPubkey:s}=e,a=VOTE_INSTRUCTION_LAYOUTS.Withdraw,c=encodeData(a,{lamports:o}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:d,programId:this.programId,data:c})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram.withdraw(e)}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111");VoteProgram.space=3731;const VALIDATOR_INFO_KEY=new PublicKey("Va1idator1nfo111111111111111111111111111111"),InfoString=type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())});class ValidatorInfo{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(decodeLength(r)!==2)return null;const o=[];for(let s=0;s<2;s++){const a=new PublicKey(r.slice(0,PUBLIC_KEY_LENGTH));r=r.slice(PUBLIC_KEY_LENGTH);const c=r.slice(0,1)[0]===1;r=r.slice(1),o.push({publicKey:a,isSigner:c})}if(o[0].publicKey.equals(VALIDATOR_INFO_KEY)&&o[1].isSigner){const s=rustString().decode(bufferPolyfill.Buffer.from(r)),a=JSON.parse(s);return assert$5(a,InfoString),new ValidatorInfo(o[1].publicKey,a)}return null}}const VOTE_PROGRAM_ID=new PublicKey("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct$1([publicKey$1("nodePubkey"),publicKey$1("authorizedWithdrawer"),u8$1("commission"),nu64(),seq(struct$1([nu64("slot"),u32$1("confirmationCount")]),offset(u32$1(),-8),"votes"),u8$1("rootSlotValid"),nu64("rootSlot"),nu64(),seq(struct$1([nu64("epoch"),publicKey$1("authorizedVoter")]),offset(u32$1(),-8),"authorizedVoters"),struct$1([seq(struct$1([publicKey$1("authorizedPubkey"),nu64("epochOfLastAuthorizedSwitch"),nu64("targetEpoch")]),32,"buf"),nu64("idx"),u8$1("isEmpty")],"priorVoters"),nu64(),seq(struct$1([nu64("epoch"),nu64("credits"),nu64("prevCredits")]),offset(u32$1(),-8),"epochCredits"),struct$1([nu64("slot"),nu64("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=VoteAccountLayout.decode(toBuffer(e),4);let o=n.rootSlot;return n.rootSlotValid||(o=null),new VoteAccount({nodePubkey:new PublicKey(n.nodePubkey),authorizedWithdrawer:new PublicKey(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:o,authorizedVoters:n.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey(t)}}function parsePriorVoters({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new PublicKey(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function getPriorVoters({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(parsePriorVoters),...t.slice(0,e).map(parsePriorVoters)]}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(t,e){const r=e===!1?"http":"https";if(!t)return endpoint[r].devnet;const n=endpoint[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function sendAndConfirmRawTransaction(t,e,r,n){let o,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(o=r,s=n):s=r;const a=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},c=await t.sendRawTransaction(e,a),d=s&&s.commitment,gr=(await(o?t.confirmTransaction(o,d):t.confirmTransaction(c,d))).value;if(gr.err)throw new Error(`Raw transaction ${c} failed (${JSON.stringify(gr)})`);return c}const LAMPORTS_PER_SOL=1e9;var index_browser_esm$1=Object.freeze(Object.defineProperty({__proto__:null,Account,AddressLookupTableAccount,AddressLookupTableInstruction,AddressLookupTableProgram,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout,Keypair,LAMPORTS_PER_SOL,LOOKUP_TABLE_INSTRUCTION_LAYOUTS,Loader,Lockup,MAX_SEED_LENGTH,Message,MessageAccountKeys,MessageV0,NONCE_ACCOUNT_LENGTH,NonceAccount,PACKET_DATA_SIZE,PUBLIC_KEY_LENGTH,PublicKey,SIGNATURE_LENGTH_IN_BYTES:SIGNATURE_LENGTH_IN_BYTES$1,SOLANA_SCHEMA,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY,SYSVAR_RENT_PUBKEY,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,SolanaJSONRPCError,SolanaJSONRPCErrorCode,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct,SystemInstruction,SystemProgram,Transaction,TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError,TransactionInstruction,TransactionMessage,TransactionStatus,VALIDATOR_INFO_KEY,VERSION_PREFIX_MASK,VOTE_PROGRAM_ID,ValidatorInfo,VersionedMessage,VersionedTransaction,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction,sendAndConfirmTransaction:sendAndConfirmTransaction$2},Symbol.toStringTag,{value:"Module"}));function tryOnScopeDispose$1(t){return getCurrentScope()?(onScopeDispose(t),!0):!1}function toValue(t){return typeof t=="function"?t():unref(t)}const isClient$1=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const toString$4=Object.prototype.toString,isObject$3=t=>toString$4.call(t)==="[object Object]",noop$4=()=>{};function createFilterWrapper$1(t,e){function r(...n){return new Promise((o,s)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(o).catch(s)})}return r}const bypassFilter$1=t=>t();function debounceFilter(t,e={}){let r,n,o=noop$4;const s=c=>{clearTimeout(c),o(),o=noop$4};return c=>{const d=toValue(t),m=toValue(e.maxWait);return r&&s(r),d<=0||m!==void 0&&m<=0?(n&&(s(n),n=null),Promise.resolve(c())):new Promise((gr,vr)=>{o=e.rejectOnCancel?vr:gr,m&&!n&&(n=setTimeout(()=>{r&&s(r),n=null,gr(c())},m)),r=setTimeout(()=>{n&&s(n),n=null,gr(c())},d)})}}function pausableFilter$1(t=bypassFilter$1){const e=ref(!0);function r(){e.value=!1}function n(){e.value=!0}const o=(...s)=>{e.value&&t(...s)};return{isActive:readonly(e),pause:r,resume:n,eventFilter:o}}function watchWithFilter$1(t,e,r={}){const{eventFilter:n=bypassFilter$1,...o}=r;return watch(t,createFilterWrapper$1(n,e),o)}function watchPausable$1(t,e,r={}){const{eventFilter:n,...o}=r,{eventFilter:s,pause:a,resume:c,isActive:d}=pausableFilter$1(n);return{stop:watchWithFilter$1(t,e,{...o,eventFilter:s}),pause:a,resume:c,isActive:d}}function tryOnMounted$1(t,e=!0){getCurrentInstance()?onMounted(t):e?t():nextTick(t)}function watchDebounced(t,e,r={}){const{debounce:n=0,maxWait:o=void 0,...s}=r;return watchWithFilter$1(t,e,{...s,eventFilter:debounceFilter(n,{maxWait:o})})}function unrefElement$1(t){var e;const r=toValue(t);return(e=r==null?void 0:r.$el)!=null?e:r}const defaultWindow$1=isClient$1?window:void 0;function useEventListener$1(...t){let e,r,n,o;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,o]=t,e=defaultWindow$1):[e,r,n,o]=t,!e)return noop$4;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const s=[],a=()=>{s.forEach(gr=>gr()),s.length=0},c=(gr,vr,Ar,Tr)=>(gr.addEventListener(vr,Ar,Tr),()=>gr.removeEventListener(vr,Ar,Tr)),d=watch(()=>[unrefElement$1(e),toValue(o)],([gr,vr])=>{if(a(),!gr)return;const Ar=isObject$3(vr)?{...vr}:vr;s.push(...r.flatMap(Tr=>n.map(Rr=>c(gr,Tr,Rr,Ar))))},{immediate:!0,flush:"post"}),m=()=>{d(),a()};return tryOnScopeDispose$1(m),m}const _global$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$1.global<"u"?dist$1.global:typeof self<"u"?self:{},globalKey$1="__vueuse_ssr_handlers__",handlers$1=getHandlers();function getHandlers(){return globalKey$1 in _global$2||(_global$2[globalKey$1]=_global$2[globalKey$1]||{}),_global$2[globalKey$1]}function getSSRHandler$1(t,e){return handlers$1[t]||e}function guessSerializerType$1(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const StorageSerializers$1={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},customStorageEventName$1="vueuse-storage";function useStorage$1(t,e,r,n={}){var o;const{flush:s="pre",deep:a=!0,listenToStorageChanges:c=!0,writeDefaults:d=!0,mergeDefaults:m=!1,shallow:gr,window:vr=defaultWindow$1,eventFilter:Ar,onError:Tr=Xr=>{console.error(Xr)},initOnMounted:Rr}=n,kr=(gr?shallowRef:ref)(typeof e=="function"?e():e);if(!r)try{r=getSSRHandler$1("getDefaultStorage",()=>{var Xr;return(Xr=defaultWindow$1)==null?void 0:Xr.localStorage})()}catch(Xr){Tr(Xr)}if(!r)return kr;const xr=toValue(e),Dr=guessSerializerType$1(xr),Ur=(o=n.serializer)!=null?o:StorageSerializers$1[Dr],{pause:Cr,resume:Nr}=watchPausable$1(kr,()=>Hr(kr.value),{flush:s,deep:a,eventFilter:Ar});return vr&&c&&tryOnMounted$1(()=>{useEventListener$1(vr,"storage",Vr),useEventListener$1(vr,customStorageEventName$1,Fr),Rr&&Vr()}),Rr||Vr(),kr;function Hr(Xr){try{if(Xr==null)r.removeItem(t);else{const Yr=Ur.write(Xr),tn=r.getItem(t);tn!==Yr&&(r.setItem(t,Yr),vr&&vr.dispatchEvent(new CustomEvent(customStorageEventName$1,{detail:{key:t,oldValue:tn,newValue:Yr,storageArea:r}})))}}catch(Yr){Tr(Yr)}}function Mr(Xr){const Yr=Xr?Xr.newValue:r.getItem(t);if(Yr==null)return d&&xr!==null&&r.setItem(t,Ur.write(xr)),xr;if(!Xr&&m){const tn=Ur.read(Yr);return typeof m=="function"?m(tn,xr):Dr==="object"&&!Array.isArray(tn)?{...xr,...tn}:tn}else return typeof Yr!="string"?Yr:Ur.read(Yr)}function Fr(Xr){Vr(Xr.detail)}function Vr(Xr){if(!(Xr&&Xr.storageArea!==r)){if(Xr&&Xr.key==null){kr.value=xr;return}if(!(Xr&&Xr.key!==t)){Cr();try{(Xr==null?void 0:Xr.newValue)!==Ur.write(kr.value)&&(kr.value=Mr(Xr))}catch(Yr){Tr(Yr)}finally{Xr?nextTick(Nr):Nr()}}}}}function useLocalStorage$1(t,e,r={}){const{window:n=defaultWindow$1}=r;return useStorage$1(t,e,n==null?void 0:n.localStorage,r)}class BaseHttpRequest{constructor(e){this.config=e}}function bind$2(t,e){return function(){return t.apply(e,arguments)}}const{toString:toString$3}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf=(t=>e=>{const r=toString$3.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray:isArray$2}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer$1(t){return t!==null&&!isUndefined$1(t)&&t.constructor!==null&&!isUndefined$1(t.constructor)&&isFunction$4(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView$1(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString$3=typeOfTest("string"),isFunction$4=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$2=t=>t!==null&&typeof t=="object",isBoolean$1=t=>t===!0||t===!1,isPlainObject$1=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf$1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},isDate$2=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob$1=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject$2(t)&&isFunction$4(t.pipe),isFormData$1=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction$4(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction$4(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$2(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,o;if(typeof t!="object"&&(t=[t]),isArray$2(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let c;for(n=0;n<a;n++)c=s[n],e.call(null,t[c],c,t)}}function findKey(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,o;for(;n-- >0;)if(o=r[n],e===o.toLowerCase())return o;return null}const _global$1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:dist$1.global)(),isContextDefined=t=>!isUndefined$1(t)&&t!==_global$1;function merge(){const{caseless:t}=isContextDefined(this)&&this||{},e={},r=(n,o)=>{const s=t&&findKey(e,o)||o;isPlainObject$1(e[s])&&isPlainObject$1(n)?e[s]=merge(e[s],n):isPlainObject$1(n)?e[s]=merge({},n):isArray$2(n)?e[s]=n.slice():e[s]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&forEach$2(arguments[n],r);return e}const extend=(t,e,r,{allOwnKeys:n}={})=>(forEach$2(e,(o,s)=>{r&&isFunction$4(o)?t[s]=bind$2(o,r):t[s]=o},{allOwnKeys:n}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits$2=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject=(t,e,r,n)=>{let o,s,a;const c={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)a=o[s],(!n||n(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=r!==!1&&getPrototypeOf$1(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},endsWith$2=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},toArray=t=>{if(!t)return null;if(isArray$2(t))return t;let e=t.length;if(!isNumber$1(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},isTypedArray$1=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},matchAll=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),hasOwnProperty$3=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),isRegExp$3=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};forEach$2(r,(o,s)=>{let a;(a=e(o,s,t))!==!1&&(n[s]=a||o)}),Object.defineProperties(t,n)},freezeMethods=t=>{reduceDescriptors(t,(e,r)=>{if(isFunction$4(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(!!isFunction$4(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(t,e)=>{const r={},n=o=>{o.forEach(s=>{r[s]=!0})};return isArray$2(t)?n(t):n(String(t).split(e)),r},noop$3=()=>{},toFiniteNumber=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET$2={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(t=16,e=ALPHABET$2.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function isSpecCompliantForm(t){return!!(t&&isFunction$4(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const toJSONObject=t=>{const e=new Array(10),r=(n,o)=>{if(isObject$2(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[o]=n;const s=isArray$2(n)?[]:{};return forEach$2(n,(a,c)=>{const d=r(a,o+1);!isUndefined$1(d)&&(s[c]=d)}),e[o]=void 0,s}}return n};return r(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject$2(t)||isFunction$4(t))&&isFunction$4(t.then)&&isFunction$4(t.catch);var utils$3={isArray:isArray$2,isArrayBuffer,isBuffer:isBuffer$1,isFormData:isFormData$1,isArrayBufferView:isArrayBufferView$1,isString:isString$3,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$2,isPlainObject:isPlainObject$1,isUndefined:isUndefined$1,isDate:isDate$2,isFile,isBlob:isBlob$1,isRegExp:isRegExp$3,isFunction:isFunction$4,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach:forEach$2,merge,extend,trim,stripBOM,inherits:inherits$2,toFlatObject,kindOf,kindOfTest,endsWith:endsWith$2,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$3,hasOwnProp:hasOwnProperty$3,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$3,toFiniteNumber,findKey,global:_global$1,isContextDefined,ALPHABET:ALPHABET$2,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(t,e,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}utils$3.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$3.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(t,e,r,n,o,s)=>{const a=Object.create(prototype$1);return utils$3.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),AxiosError.call(a,t.message,e,r,n,o),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};var httpAdapter=null;function isVisitable(t){return utils$3.isPlainObject(t)||utils$3.isArray(t)}function removeBrackets(t){return utils$3.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,r){return t?t.concat(e).map(function(o,s){return o=removeBrackets(o),!r&&s?"["+o+"]":o}).join(r?".":""):e}function isFlatArray(t){return utils$3.isArray(t)&&!t.some(isVisitable)}const predicates=utils$3.toFlatObject(utils$3,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(t,e,r){if(!utils$3.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=utils$3.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(kr,xr){return!utils$3.isUndefined(xr[kr])});const n=r.metaTokens,o=r.visitor||gr,s=r.dots,a=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&utils$3.isSpecCompliantForm(e);if(!utils$3.isFunction(o))throw new TypeError("visitor must be a function");function m(Rr){if(Rr===null)return"";if(utils$3.isDate(Rr))return Rr.toISOString();if(!d&&utils$3.isBlob(Rr))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$3.isArrayBuffer(Rr)||utils$3.isTypedArray(Rr)?d&&typeof Blob=="function"?new Blob([Rr]):dist$1.Buffer.from(Rr):Rr}function gr(Rr,kr,xr){let Dr=Rr;if(Rr&&!xr&&typeof Rr=="object"){if(utils$3.endsWith(kr,"{}"))kr=n?kr:kr.slice(0,-2),Rr=JSON.stringify(Rr);else if(utils$3.isArray(Rr)&&isFlatArray(Rr)||(utils$3.isFileList(Rr)||utils$3.endsWith(kr,"[]"))&&(Dr=utils$3.toArray(Rr)))return kr=removeBrackets(kr),Dr.forEach(function(Cr,Nr){!(utils$3.isUndefined(Cr)||Cr===null)&&e.append(a===!0?renderKey([kr],Nr,s):a===null?kr:kr+"[]",m(Cr))}),!1}return isVisitable(Rr)?!0:(e.append(renderKey(xr,kr,s),m(Rr)),!1)}const vr=[],Ar=Object.assign(predicates,{defaultVisitor:gr,convertValue:m,isVisitable});function Tr(Rr,kr){if(!utils$3.isUndefined(Rr)){if(vr.indexOf(Rr)!==-1)throw Error("Circular reference detected in "+kr.join("."));vr.push(Rr),utils$3.forEach(Rr,function(Dr,Ur){(!(utils$3.isUndefined(Dr)||Dr===null)&&o.call(e,Dr,utils$3.isString(Ur)?Ur.trim():Ur,kr,Ar))===!0&&Tr(Dr,kr?kr.concat(Ur):[Ur])}),vr.pop()}}if(!utils$3.isObject(t))throw new TypeError("data must be an object");return Tr(t),e}function encode$1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,r){this._pairs.push([e,r])};prototype.toString=function(e){const r=e?function(n){return e.call(this,n,encode$1)}:encode$1;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,r){if(!e)return t;const n=r&&r.encode||encode,o=r&&r.serialize;let s;if(o?s=o(e,r):s=utils$3.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$3.forEach(this.handlers,function(n){n!==null&&e(n)})}}var InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$3=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$3},protocols:["http","https","file","blob","url","data"]};const hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(t=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var utils$2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserWebWorkerEnv,hasStandardBrowserEnv},Symbol.toStringTag,{value:"Module"})),platform={...utils$2,...platform$1};function toURLEncodedForm(t,e){return toFormData(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,s){return platform.isNode&&utils$3.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils$3.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},r=Object.keys(t);let n;const o=r.length;let s;for(n=0;n<o;n++)s=r[n],e[s]=t[s];return e}function formDataToJSON(t){function e(r,n,o,s){let a=r[s++];const c=Number.isFinite(+a),d=s>=r.length;return a=!a&&utils$3.isArray(o)?o.length:a,d?(utils$3.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!c):((!o[a]||!utils$3.isObject(o[a]))&&(o[a]=[]),e(r,n,o[a],s)&&utils$3.isArray(o[a])&&(o[a]=arrayToObject(o[a])),!c)}if(utils$3.isFormData(t)&&utils$3.isFunction(t.entries)){const r={};return utils$3.forEachEntry(t,(n,o)=>{e(parsePropPath(n),o,r,0)}),r}return null}function stringifySafely(t,e,r){if(utils$3.isString(t))try{return(e||JSON.parse)(t),utils$3.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,s=utils$3.isObject(e);if(s&&utils$3.isHTMLForm(e)&&(e=new FormData(e)),utils$3.isFormData(e))return o&&o?JSON.stringify(formDataToJSON(e)):e;if(utils$3.isArrayBuffer(e)||utils$3.isBuffer(e)||utils$3.isStream(e)||utils$3.isFile(e)||utils$3.isBlob(e))return e;if(utils$3.isArrayBufferView(e))return e.buffer;if(utils$3.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((c=utils$3.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return toFormData(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||o?(r.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const r=this.transitional||defaults$1.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(e&&utils$3.isString(e)&&(n&&!this.responseType||o)){const a=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?AxiosError.from(c,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$3.forEach(["delete","get","head","post","put","patch"],t=>{defaults$1.headers[t]={}});var defaults$2=defaults$1;const ignoreDuplicateOf=utils$3.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=t=>{const e={};let r,n,o;return t&&t.split(`
`).forEach(function(a){o=a.indexOf(":"),r=a.substring(0,o).trim().toLowerCase(),n=a.substring(o+1).trim(),!(!r||e[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e};const $internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$3.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,r,n,o){if(utils$3.isFunction(n))return n.call(this,e,r);if(o&&(e=r),!!utils$3.isString(e)){if(utils$3.isString(n))return e.indexOf(n)!==-1;if(utils$3.isRegExp(n))return n.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function buildAccessors(t,e){const r=utils$3.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(o,s,a){return this[n].call(this,e,o,s,a)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,r,n){const o=this;function s(c,d,m){const gr=normalizeHeader(d);if(!gr)throw new Error("header name must be a non-empty string");const vr=utils$3.findKey(o,gr);(!vr||o[vr]===void 0||m===!0||m===void 0&&o[vr]!==!1)&&(o[vr||d]=normalizeValue(c))}const a=(c,d)=>utils$3.forEach(c,(m,gr)=>s(m,gr,d));return utils$3.isPlainObject(e)||e instanceof this.constructor?a(e,r):utils$3.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?a(parseHeaders(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=normalizeHeader(e),e){const n=utils$3.findKey(this,e);if(n){const o=this[n];if(!r)return o;if(r===!0)return parseTokens(o);if(utils$3.isFunction(r))return r.call(this,o,n);if(utils$3.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=normalizeHeader(e),e){const n=utils$3.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||matchHeaderValue(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let o=!1;function s(a){if(a=normalizeHeader(a),a){const c=utils$3.findKey(n,a);c&&(!r||matchHeaderValue(n,n[c],c,r))&&(delete n[c],o=!0)}}return utils$3.isArray(e)?e.forEach(s):s(e),o}clear(e){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const s=r[n];(!e||matchHeaderValue(this,this[s],s,e,!0))&&(delete this[s],o=!0)}return o}normalize(e){const r=this,n={};return utils$3.forEach(this,(o,s)=>{const a=utils$3.findKey(n,s);if(a){r[a]=normalizeValue(o),delete r[s];return}const c=e?formatHeader(s):String(s).trim();c!==s&&delete r[s],r[c]=normalizeValue(o),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return utils$3.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=e&&utils$3.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(o=>n.set(o)),n}static accessor(e){const n=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function s(a){const c=normalizeHeader(a);n[c]||(buildAccessors(o,a),n[c]=!0)}return utils$3.isArray(e)?e.forEach(s):s(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$3.reduceDescriptors(AxiosHeaders.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});utils$3.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(t,e){const r=this||defaults$2,n=e||r,o=AxiosHeaders$1.from(n.headers);let s=n.data;return utils$3.forEach(t,function(c){s=c.call(r,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function isCancel(t){return!!(t&&t.__CANCEL__)}function CanceledError(t,e,r){AxiosError.call(this,t??"canceled",AxiosError.ERR_CANCELED,e,r),this.name="CanceledError"}utils$3.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle$1(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var cookies=platform.hasStandardBrowserEnv?{write(t,e,r,n,o,s){const a=[t+"="+encodeURIComponent(e)];utils$3.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),utils$3.isString(n)&&a.push("path="+n),utils$3.isString(o)&&a.push("domain="+o),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e){return t&&!isAbsoluteURL(e)?combineURLs(t,e):e}var isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function o(s){let a=s;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=o(window.location.href),function(a){const c=utils$3.isString(a)?o(a):a;return c.protocol===n.protocol&&c.host===n.host}}():function(){return function(){return!0}}();function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const r=new Array(t),n=new Array(t);let o=0,s=0,a;return e=e!==void 0?e:1e3,function(d){const m=Date.now(),gr=n[s];a||(a=m),r[o]=d,n[o]=m;let vr=s,Ar=0;for(;vr!==o;)Ar+=r[vr++],vr=vr%t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),m-a<e)return;const Tr=gr&&m-gr;return Tr?Math.round(Ar*1e3/Tr):void 0}}function progressEventReducer(t,e){let r=0;const n=speedometer(50,250);return o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,c=s-r,d=n(c),m=s<=a;r=s;const gr={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:d||void 0,estimated:d&&a&&m?(a-s)/d:void 0,event:o};gr[e?"download":"upload"]=!0,t(gr)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u";var xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(r,n){let o=t.data;const s=AxiosHeaders$1.from(t.headers).normalize();let{responseType:a,withXSRFToken:c}=t,d;function m(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}let gr;if(utils$3.isFormData(o)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((gr=s.getContentType())!==!1){const[kr,...xr]=gr?gr.split(";").map(Dr=>Dr.trim()).filter(Boolean):[];s.setContentType([kr||"multipart/form-data",...xr].join("; "))}}let vr=new XMLHttpRequest;if(t.auth){const kr=t.auth.username||"",xr=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(kr+":"+xr))}const Ar=buildFullPath(t.baseURL,t.url);vr.open(t.method.toUpperCase(),buildURL(Ar,t.params,t.paramsSerializer),!0),vr.timeout=t.timeout;function Tr(){if(!vr)return;const kr=AxiosHeaders$1.from("getAllResponseHeaders"in vr&&vr.getAllResponseHeaders()),Dr={data:!a||a==="text"||a==="json"?vr.responseText:vr.response,status:vr.status,statusText:vr.statusText,headers:kr,config:t,request:vr};settle$1(function(Cr){r(Cr),m()},function(Cr){n(Cr),m()},Dr),vr=null}if("onloadend"in vr?vr.onloadend=Tr:vr.onreadystatechange=function(){!vr||vr.readyState!==4||vr.status===0&&!(vr.responseURL&&vr.responseURL.indexOf("file:")===0)||setTimeout(Tr)},vr.onabort=function(){!vr||(n(new AxiosError("Request aborted",AxiosError.ECONNABORTED,t,vr)),vr=null)},vr.onerror=function(){n(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,vr)),vr=null},vr.ontimeout=function(){let xr=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const Dr=t.transitional||transitionalDefaults;t.timeoutErrorMessage&&(xr=t.timeoutErrorMessage),n(new AxiosError(xr,Dr.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,t,vr)),vr=null},platform.hasStandardBrowserEnv&&(c&&utils$3.isFunction(c)&&(c=c(t)),c||c!==!1&&isURLSameOrigin(Ar))){const kr=t.xsrfHeaderName&&t.xsrfCookieName&&cookies.read(t.xsrfCookieName);kr&&s.set(t.xsrfHeaderName,kr)}o===void 0&&s.setContentType(null),"setRequestHeader"in vr&&utils$3.forEach(s.toJSON(),function(xr,Dr){vr.setRequestHeader(Dr,xr)}),utils$3.isUndefined(t.withCredentials)||(vr.withCredentials=!!t.withCredentials),a&&a!=="json"&&(vr.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&vr.addEventListener("progress",progressEventReducer(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&vr.upload&&vr.upload.addEventListener("progress",progressEventReducer(t.onUploadProgress)),(t.cancelToken||t.signal)&&(d=kr=>{!vr||(n(!kr||kr.type?new CanceledError(null,t,vr):kr),vr.abort(),vr=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d)));const Rr=parseProtocol(Ar);if(Rr&&platform.protocols.indexOf(Rr)===-1){n(new AxiosError("Unsupported protocol "+Rr+":",AxiosError.ERR_BAD_REQUEST,t));return}vr.send(o||null)})};const knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils$3.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$3.isFunction(t)||t===null||t===!1;var adapters={getAdapter:t=>{t=utils$3.isArray(t)?t:[t];const{length:e}=t;let r,n;const o={};for(let s=0;s<e;s++){r=t[s];let a;if(n=r,!isResolvedHandle(r)&&(n=knownAdapters[(a=String(r)).toLowerCase()],n===void 0))throw new AxiosError(`Unknown adapter '${a}'`);if(n)break;o[a||"#"+s]=n}if(!n){const s=Object.entries(o).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(renderReason).join(`
`):" "+renderReason(s[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults$2.adapter)(t).then(function(n){return throwIfCancellationRequested(t),n.data=transformData.call(t,t.transformResponse,n),n.headers=AxiosHeaders$1.from(n.headers),n},function(n){return isCancel(n)||(throwIfCancellationRequested(t),n&&n.response&&(n.response.data=transformData.call(t,t.transformResponse,n.response),n.response.headers=AxiosHeaders$1.from(n.response.headers))),Promise.reject(n)})}const headersToObject=t=>t instanceof AxiosHeaders$1?t.toJSON():t;function mergeConfig(t,e){e=e||{};const r={};function n(m,gr,vr){return utils$3.isPlainObject(m)&&utils$3.isPlainObject(gr)?utils$3.merge.call({caseless:vr},m,gr):utils$3.isPlainObject(gr)?utils$3.merge({},gr):utils$3.isArray(gr)?gr.slice():gr}function o(m,gr,vr){if(utils$3.isUndefined(gr)){if(!utils$3.isUndefined(m))return n(void 0,m,vr)}else return n(m,gr,vr)}function s(m,gr){if(!utils$3.isUndefined(gr))return n(void 0,gr)}function a(m,gr){if(utils$3.isUndefined(gr)){if(!utils$3.isUndefined(m))return n(void 0,m)}else return n(void 0,gr)}function c(m,gr,vr){if(vr in e)return n(m,gr);if(vr in t)return n(void 0,m)}const d={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(m,gr)=>o(headersToObject(m),headersToObject(gr),!0)};return utils$3.forEach(Object.keys(Object.assign({},t,e)),function(gr){const vr=d[gr]||o,Ar=vr(t[gr],e[gr],gr);utils$3.isUndefined(Ar)&&vr!==c||(r[gr]=Ar)}),r}const VERSION="1.6.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function(e,r,n){function o(s,a){return"[Axios v"+VERSION+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,c)=>{if(e===!1)throw new AxiosError(o(a," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[a]&&(deprecatedWarnings[a]=!0,console.warn(o(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,c):!0}};function assertOptions(t,e,r){if(typeof t!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let o=n.length;for(;o-- >0;){const s=n[o],a=e[s];if(a){const c=t[s],d=c===void 0||a(c,s,t);if(d!==!0)throw new AxiosError("option "+s+" must be "+d,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+s,AxiosError.ERR_BAD_OPTION)}}var validator={assertOptions,validators:validators$1};const validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=mergeConfig(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:s}=r;n!==void 0&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils$3.isFunction(o)?r.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&utils$3.merge(s.common,s[r.method]);s&&utils$3.forEach(["delete","get","head","post","put","patch","common"],Rr=>{delete s[Rr]}),r.headers=AxiosHeaders$1.concat(a,s);const c=[];let d=!0;this.interceptors.request.forEach(function(kr){typeof kr.runWhen=="function"&&kr.runWhen(r)===!1||(d=d&&kr.synchronous,c.unshift(kr.fulfilled,kr.rejected))});const m=[];this.interceptors.response.forEach(function(kr){m.push(kr.fulfilled,kr.rejected)});let gr,vr=0,Ar;if(!d){const Rr=[dispatchRequest.bind(this),void 0];for(Rr.unshift.apply(Rr,c),Rr.push.apply(Rr,m),Ar=Rr.length,gr=Promise.resolve(r);vr<Ar;)gr=gr.then(Rr[vr++],Rr[vr++]);return gr}Ar=c.length;let Tr=r;for(vr=0;vr<Ar;){const Rr=c[vr++],kr=c[vr++];try{Tr=Rr(Tr)}catch(xr){kr.call(this,xr);break}}try{gr=dispatchRequest.call(this,Tr)}catch(Rr){return Promise.reject(Rr)}for(vr=0,Ar=m.length;vr<Ar;)gr=gr.then(m[vr++],m[vr++]);return gr}getUri(e){e=mergeConfig(this.defaults,e);const r=buildFullPath(e.baseURL,e.url);return buildURL(r,e.params,e.paramsSerializer)}}utils$3.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(r,n){return this.request(mergeConfig(n||{},{method:e,url:r,data:(n||{}).data}))}});utils$3.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,c){return this.request(mergeConfig(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Axios.prototype[e]=r(),Axios.prototype[e+"Form"]=r(!0)});var Axios$1=Axios;class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(o=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](o);n._listeners=null}),this.promise.then=o=>{let s;const a=new Promise(c=>{n.subscribe(c),s=c}).then(o);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,c){n.reason||(n.reason=new CanceledError(s,a,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new CancelToken(function(o){e=o}),cancel:e}}}var CancelToken$1=CancelToken;function spread(t){return function(r){return t.apply(null,r)}}function isAxiosError(t){return utils$3.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([t,e])=>{HttpStatusCode[e]=t});var HttpStatusCode$1=HttpStatusCode;function createInstance(t){const e=new Axios$1(t),r=bind$2(Axios$1.prototype.request,e);return utils$3.extend(r,Axios$1.prototype,e,{allOwnKeys:!0}),utils$3.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return createInstance(mergeConfig(t,o))},r}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=t=>formDataToJSON(utils$3.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;var axios$1=axios,browser$1=typeof self=="object"?self.FormData:window.FormData;class ApiError extends Error{url;status;statusText;body;request;constructor(e,r,n){super(n),this.name="ApiError",this.url=r.url,this.status=r.status,this.statusText=r.statusText,this.body=r.body,this.request=e}}class CancelError extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}}var _o,bo,po,Ko,Jo,Ws,ms;class CancelablePromise{constructor(e){Uo(this,_o,void 0);Uo(this,bo,void 0);Uo(this,po,void 0);Uo(this,Ko,void 0);Uo(this,Jo,void 0);Uo(this,Ws,void 0);Uo(this,ms,void 0);ho(this,_o,!1),ho(this,bo,!1),ho(this,po,!1),ho(this,Ko,[]),ho(this,Jo,new Promise((r,n)=>{ho(this,Ws,r),ho(this,ms,n);const o=c=>{var d;ui(this,_o)||ui(this,bo)||ui(this,po)||(ho(this,_o,!0),(d=ui(this,Ws))==null||d.call(this,c))},s=c=>{var d;ui(this,_o)||ui(this,bo)||ui(this,po)||(ho(this,bo,!0),(d=ui(this,ms))==null||d.call(this,c))},a=c=>{ui(this,_o)||ui(this,bo)||ui(this,po)||ui(this,Ko).push(c)};return Object.defineProperty(a,"isResolved",{get:()=>ui(this,_o)}),Object.defineProperty(a,"isRejected",{get:()=>ui(this,bo)}),Object.defineProperty(a,"isCancelled",{get:()=>ui(this,po)}),e(o,s,a)}))}get[Symbol.toStringTag](){return"Cancellable Promise"}then(e,r){return ui(this,Jo).then(e,r)}catch(e){return ui(this,Jo).catch(e)}finally(e){return ui(this,Jo).finally(e)}cancel(){var e;if(!(ui(this,_o)||ui(this,bo)||ui(this,po))){if(ho(this,po,!0),ui(this,Ko).length)try{for(const r of ui(this,Ko))r()}catch(r){console.warn("Cancellation threw an error",r);return}ui(this,Ko).length=0,(e=ui(this,ms))==null||e.call(this,new CancelError("Request aborted"))}}get isCancelled(){return ui(this,po)}}_o=new WeakMap,bo=new WeakMap,po=new WeakMap,Ko=new WeakMap,Jo=new WeakMap,Ws=new WeakMap,ms=new WeakMap;const isDefined=t=>t!=null,isString$2=t=>typeof t=="string",isStringWithValue=t=>isString$2(t)&&t!=="",isBlob=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),isFormData=t=>t instanceof browser$1,isSuccess=t=>t>=200&&t<300,base64=t=>{try{return btoa(t)}catch{return dist$1.Buffer.from(t).toString("base64")}},getQueryString=t=>{const e=[],r=(o,s)=>{e.push(`${encodeURIComponent(o)}=${encodeURIComponent(String(s))}`)},n=(o,s)=>{isDefined(s)&&(Array.isArray(s)?s.forEach(a=>{n(o,a)}):typeof s=="object"?Object.entries(s).forEach(([a,c])=>{n(`${o}[${a}]`,c)}):r(o,s))};return Object.entries(t).forEach(([o,s])=>{n(o,s)}),e.length>0?`?${e.join("&")}`:""},getUrl=(t,e)=>{const r=t.ENCODE_PATH||encodeURI,n=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(s,a)=>{var c;return(c=e.path)!=null&&c.hasOwnProperty(a)?r(String(e.path[a])):s}),o=`${t.BASE}${n}`;return e.query?`${o}${getQueryString(e.query)}`:o},getFormData=t=>{if(t.formData){const e=new browser$1,r=(n,o)=>{isString$2(o)||isBlob(o)?e.append(n,o):e.append(n,JSON.stringify(o))};return Object.entries(t.formData).filter(([n,o])=>isDefined(o)).forEach(([n,o])=>{Array.isArray(o)?o.forEach(s=>r(n,s)):r(n,o)}),e}},resolve=async(t,e)=>typeof e=="function"?e(t):e,getHeaders=async(t,e,r)=>{const n=await resolve(e,t.TOKEN),o=await resolve(e,t.USERNAME),s=await resolve(e,t.PASSWORD),a=await resolve(e,t.HEADERS),c=typeof(r==null?void 0:r.getHeaders)=="function"&&(r==null?void 0:r.getHeaders())||{},d=Object.entries({Accept:"application/json",...a,...e.headers,...c}).filter(([m,gr])=>isDefined(gr)).reduce((m,[gr,vr])=>({...m,[gr]:String(vr)}),{});if(isStringWithValue(n)&&(d.Authorization=`Bearer ${n}`),isStringWithValue(o)&&isStringWithValue(s)){const m=base64(`${o}:${s}`);d.Authorization=`Basic ${m}`}return e.body&&(e.mediaType?d["Content-Type"]=e.mediaType:isBlob(e.body)?d["Content-Type"]=e.body.type||"application/octet-stream":isString$2(e.body)?d["Content-Type"]="text/plain":isFormData(e.body)||(d["Content-Type"]="application/json")),d},getRequestBody=t=>{if(t.body)return t.body},sendRequest=async(t,e,r,n,o,s,a,c)=>{const d=axios$1.CancelToken.source(),m={url:r,headers:s,data:n??o,method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:d.token};a(()=>d.cancel("The user aborted a request."));try{return await c.request(m)}catch(gr){const vr=gr;if(vr.response)return vr.response;throw gr}},getResponseHeader=(t,e)=>{if(e){const r=t.headers[e];if(isString$2(r))return r}},getResponseBody=t=>{if(t.status!==204)return t.data},catchErrorCodes=(t,e)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(n)throw new ApiError(t,e,n);if(!e.ok){const o=e.status??"unknown",s=e.statusText??"unknown",a=(()=>{try{return JSON.stringify(e.body,null,2)}catch{return}})();throw new ApiError(t,e,`Generic Error: status: ${o}; status text: ${s}; body: ${a}`)}},request=(t,e,r=axios$1)=>new CancelablePromise(async(n,o,s)=>{try{const a=getUrl(t,e),c=getFormData(e),d=getRequestBody(e),m=await getHeaders(t,e,c);if(!s.isCancelled){const gr=await sendRequest(t,e,a,d,c,m,s,r),vr=getResponseBody(gr),Ar=getResponseHeader(gr,e.responseHeader),Tr={url:a,ok:isSuccess(gr.status),status:gr.status,statusText:gr.statusText,body:Ar??vr};catchErrorCodes(e,Tr),n(Tr.body)}}catch(a){o(a)}});class AxiosHttpRequest extends BaseHttpRequest{constructor(e){super(e)}request(e){return request(this.config,e)}}class CursorService{constructor(e){this.httpRequest=e}getCursor(){return this.httpRequest.request({method:"GET",url:"/get_cursor"})}}class TradesService{constructor(e){this.httpRequest=e}getPriceChange(e,r,n){return this.httpRequest.request({method:"GET",url:"/get_price_change",query:{mint_currency:e,mint_asset:r,timespan:n}})}getPrices(e,r){return this.httpRequest.request({method:"GET",url:"/get_prices",query:{mint_currency:e,mint_asset:r}})}getTrades(e,r,n){return this.httpRequest.request({method:"GET",url:"/get_trades",query:{mint_currency:e,mint_asset:r,limit:n}})}search(e,r,n){return this.httpRequest.request({method:"GET",url:"/search",query:{search_option:e,search:r,limit:n}})}}class UdfService{constructor(e){this.httpRequest=e}getHome(){return this.httpRequest.request({method:"GET",url:"/udf/"})}getConfig(){return this.httpRequest.request({method:"GET",url:"/udf/config"})}getHistory(e,r,n,o,s,a){return this.httpRequest.request({method:"GET",url:"/udf/history",query:{symbol:e,from:r,to:n,resolution:o,countback:s,currencyCode:a}})}getSearch(e,r,n,o){return this.httpRequest.request({method:"GET",url:"/udf/search",query:{query:e,type:n,exchange:o,limit:r}})}getSymbolInfo(e){return this.httpRequest.request({method:"GET",url:"/udf/symbol_info",query:{group:e}})}getSymbols(e){return this.httpRequest.request({method:"GET",url:"/udf/symbols",query:{symbol:e},errors:{404:"Nothing found"}})}getTime(){return this.httpRequest.request({method:"GET",url:"/udf/time"})}}class APIClient{cursor;trades;udf;request;constructor(e,r=AxiosHttpRequest){this.request=new r({BASE:(e==null?void 0:e.BASE)??"",VERSION:(e==null?void 0:e.VERSION)??"0.3.0",WITH_CREDENTIALS:(e==null?void 0:e.WITH_CREDENTIALS)??!1,CREDENTIALS:(e==null?void 0:e.CREDENTIALS)??"include",TOKEN:e==null?void 0:e.TOKEN,USERNAME:e==null?void 0:e.USERNAME,PASSWORD:e==null?void 0:e.PASSWORD,HEADERS:e==null?void 0:e.HEADERS,ENCODE_PATH:e==null?void 0:e.ENCODE_PATH}),this.cursor=new CursorService(this.request),this.trades=new TradesService(this.request),this.udf=new UdfService(this.request)}}const RPC_NETWORKS=[{name:"alchemy1",url:"https://solana-mainnet.g.alchemy.com/v2/Se0ZjThxk8lDs43e7TwELBHcJLmlNiGs"},{name:"alchemy2",url:"https://solana-mainnet.g.alchemy.com/v2/hhh3czrJbOnssV11HBINkPZSe-HzR3Jy"},{name:"alchemy3",url:"https://solana-mainnet.g.alchemy.com/v2/yBo6NZ0AfTb0J1h2zrxcioXlidYfmxDo"}],FEE_WALLET=new PublicKey("rmmWw3yt47PysDGd86G1qgVACFkt6Nd4SoLQ38fejEV"),SERVICE_FEE=1e5,useGlobalStore=defineStore("globalstore",{state:()=>({is_done:!1,rpc_selected:useLocalStorage$1("rpc_selected",RPC_NETWORKS[0]),settings:useLocalStorage$1("settings",{enable_grid_orders:!1,always_show_drawer:!1,enable_tv_chart:!0}),token_list:[],connection:{},api_client:new APIClient({BASE:"https://api.skullnbones.xyz"}),update_site_counter:0}),getters:{},actions:{update_connection(){console.log("RPC is set to: "+this.rpc_selected.url),this.connection=new Connection(this.rpc_selected.url,{commitment:"confirmed"})},async load_token_list(){axios$1.get("https://cdn.jsdelivr.net/gh/solflare-wallet/token-list@latest/solana-tokenlist.json").then(t=>{const e=t.data;this.token_list=e.tokens})}}});var E_Currency=(t=>(t[t.SOL=0]="SOL",t[t.USDC=1]="USDC",t[t.ATLAS=2]="ATLAS",t[t.POLIS=3]="POLIS",t))(E_Currency||{});const CURRENCIES=[{name:"Solana",symbol:"SOL",type:0,img_path:"currencies/SOL.webp"},{name:"USDC",symbol:"USDC",type:1,mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",img_path:"currencies/USDC.webp"},{name:"ATLAS",symbol:"ATLAS",type:2,mint:"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx",img_path:"currencies/ATLAS.webp"},{name:"Polis",symbol:"POLIS",type:3,mint:"poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk",img_path:"currencies/POLIS.webp"}],STARATLASAPI_URL="https://galaxy.staratlas.com/nfts",useGlobalStaratlasAPIStore=defineStore("globalStaratlasAPIStore",{state:()=>({nfts:[],raw:[]}),getters:{get_itemTypes(t){return[...new Set(t.raw.map(e=>e.attributes.itemType))]}},actions:{async update(){const t=(await axios$1.get(STARATLASAPI_URL)).data;this.raw=t,this.nfts=[],t.forEach(e=>{CURRENCIES.filter(r=>r.type==E_Currency.ATLAS||r.type==E_Currency.USDC).forEach(r=>{this.nfts.push({symbol:e.symbol+r.symbol,img_path:`sa_files/webp/${e.mint}.webp`,mint_asset:e.mint,mint_pair:r.mint,data:e,currency:r,name:`${e.name} [${r.name}]`})})})}}});class WalletError extends Error{constructor(e,r){super(e),this.error=r}}class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WalletLoadError extends WalletError{constructor(){super(...arguments),this.name="WalletLoadError"}}class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}}class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}var WalletReadyState;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(WalletReadyState||(WalletReadyState={}));class BaseWalletAdapter extends EventEmitter{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,r,n={}){const o=this.publicKey;if(!o)throw new WalletNotConnectedError;return e.feePayer=e.feePayer||o,e.recentBlockhash=e.recentBlockhash||(await r.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function scopePollingDetectionStrategy(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function r(){if(t())for(const s of e)s()}const n=setInterval(r,1e3);e.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",r,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",r))),document.readyState!=="complete"&&(window.addEventListener("load",r,{once:!0}),e.push(()=>window.removeEventListener("load",r))),r()}function isIosAndRedirectable(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),r=t.includes("safari");return e&&r}function isVersionedTransaction$2(t){return"version"in t}class BaseSignerWalletAdapter extends BaseWalletAdapter{async sendTransaction(e,r,n={}){let o=!0;try{if(isVersionedTransaction$2(e)){if(!this.supportedTransactionVersions)throw new WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new WalletSendTransactionError(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const s=e.serialize();return await r.sendRawTransaction(s,n)}catch(s){throw s instanceof WalletSignTransactionError?(o=!1,s):new WalletSendTransactionError(s==null?void 0:s.message,s)}}else try{const{signers:s,...a}=n;e=await this.prepareTransaction(e,r,a),s!=null&&s.length&&e.partialSign(...s),e=await this.signTransaction(e);const c=e.serialize();return await r.sendRawTransaction(c,a)}catch(s){throw s instanceof WalletSignTransactionError?(o=!1,s):new WalletSendTransactionError(s==null?void 0:s.message,s)}}catch(s){throw o&&this.emit("error",s),s}}async signAllTransactions(e){for(const n of e)if(isVersionedTransaction$2(n)){if(!this.supportedTransactionVersions)throw new WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new WalletSignTransactionError(`Signing transaction version ${n.version} isn't supported by this wallet`)}const r=[];for(const n of e)r.push(await this.signTransaction(n));return r}}class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}var _a;const isClient=typeof window<"u",isFunction$3=t=>typeof t=="function",isString$1=t=>typeof t=="string",noop$2=()=>{},isIOS=isClient&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(t){return typeof t=="function"?t():unref(t)}function createFilterWrapper(t,e){function r(...n){return new Promise((o,s)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(o).catch(s)})}return r}const bypassFilter=t=>t();function pausableFilter(t=bypassFilter){const e=ref(!0);function r(){e.value=!1}function n(){e.value=!0}const o=(...s)=>{e.value&&t(...s)};return{isActive:readonly(e),pause:r,resume:n,eventFilter:o}}function identity(t){return t}function tryOnScopeDispose(t){return getCurrentScope()?(onScopeDispose(t),!0):!1}function resolveRef(t){return typeof t=="function"?computed$1(t):ref(t)}function tryOnMounted(t,e=!0){getCurrentInstance()?onMounted(t):e?t():nextTick(t)}function useTimeoutFn(t,e,r={}){const{immediate:n=!0}=r,o=ref(!1);let s=null;function a(){s&&(clearTimeout(s),s=null)}function c(){o.value=!1,a()}function d(...m){a(),o.value=!0,s=setTimeout(()=>{o.value=!1,s=null,t(...m)},resolveUnref(e))}return n&&(o.value=!0,isClient&&d()),tryOnScopeDispose(c),{isPending:readonly(o),start:d,stop:c}}var __getOwnPropSymbols$6=Object.getOwnPropertySymbols,__hasOwnProp$6=Object.prototype.hasOwnProperty,__propIsEnum$6=Object.prototype.propertyIsEnumerable,__objRest$5=(t,e)=>{var r={};for(var n in t)__hasOwnProp$6.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&__getOwnPropSymbols$6)for(var n of __getOwnPropSymbols$6(t))e.indexOf(n)<0&&__propIsEnum$6.call(t,n)&&(r[n]=t[n]);return r};function watchWithFilter(t,e,r={}){const n=r,{eventFilter:o=bypassFilter}=n,s=__objRest$5(n,["eventFilter"]);return watch(t,createFilterWrapper(o,e),s)}var __defProp$2=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(t,e,r)=>e in t?__defProp$2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__spreadValues$2=(t,e)=>{for(var r in e||(e={}))__hasOwnProp$2.call(e,r)&&__defNormalProp$2(t,r,e[r]);if(__getOwnPropSymbols$2)for(var r of __getOwnPropSymbols$2(e))__propIsEnum$2.call(e,r)&&__defNormalProp$2(t,r,e[r]);return t},__spreadProps$2=(t,e)=>__defProps$2(t,__getOwnPropDescs$2(e)),__objRest$1=(t,e)=>{var r={};for(var n in t)__hasOwnProp$2.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&__getOwnPropSymbols$2)for(var n of __getOwnPropSymbols$2(t))e.indexOf(n)<0&&__propIsEnum$2.call(t,n)&&(r[n]=t[n]);return r};function watchPausable(t,e,r={}){const n=r,{eventFilter:o}=n,s=__objRest$1(n,["eventFilter"]),{eventFilter:a,pause:c,resume:d,isActive:m}=pausableFilter(o);return{stop:watchWithFilter(t,e,__spreadProps$2(__spreadValues$2({},s),{eventFilter:a})),pause:c,resume:d,isActive:m}}function unrefElement(t){var e;const r=resolveUnref(t);return(e=r==null?void 0:r.$el)!=null?e:r}const defaultWindow=isClient?window:void 0;isClient&&window.document;const defaultNavigator=isClient?window.navigator:void 0;isClient&&window.location;function useEventListener(...t){let e,r,n,o;if(isString$1(t[0])||Array.isArray(t[0])?([r,n,o]=t,e=defaultWindow):[e,r,n,o]=t,!e)return noop$2;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const s=[],a=()=>{s.forEach(gr=>gr()),s.length=0},c=(gr,vr,Ar,Tr)=>(gr.addEventListener(vr,Ar,Tr),()=>gr.removeEventListener(vr,Ar,Tr)),d=watch(()=>[unrefElement(e),resolveUnref(o)],([gr,vr])=>{a(),gr&&s.push(...r.flatMap(Ar=>n.map(Tr=>c(gr,Ar,Tr,vr))))},{immediate:!0,flush:"post"}),m=()=>{d(),a()};return tryOnScopeDispose(m),m}let _iOSWorkaround=!1;function onClickOutside(t,e,r={}){const{window:n=defaultWindow,ignore:o=[],capture:s=!0,detectIframe:a=!1}=r;if(!n)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(n.document.body.children).forEach(Ar=>Ar.addEventListener("click",noop$2)));let c=!0;const d=Ar=>o.some(Tr=>{if(typeof Tr=="string")return Array.from(n.document.querySelectorAll(Tr)).some(Rr=>Rr===Ar.target||Ar.composedPath().includes(Rr));{const Rr=unrefElement(Tr);return Rr&&(Ar.target===Rr||Ar.composedPath().includes(Rr))}}),gr=[useEventListener(n,"click",Ar=>{const Tr=unrefElement(t);if(!(!Tr||Tr===Ar.target||Ar.composedPath().includes(Tr))){if(Ar.detail===0&&(c=!d(Ar)),!c){c=!0;return}e(Ar)}},{passive:!0,capture:s}),useEventListener(n,"pointerdown",Ar=>{const Tr=unrefElement(t);Tr&&(c=!Ar.composedPath().includes(Tr)&&!d(Ar))},{passive:!0}),a&&useEventListener(n,"blur",Ar=>{var Tr;const Rr=unrefElement(t);((Tr=n.document.activeElement)==null?void 0:Tr.tagName)==="IFRAME"&&!(Rr!=null&&Rr.contains(n.document.activeElement))&&e(Ar)})].filter(Boolean);return()=>gr.forEach(Ar=>Ar())}const createKeyPredicate=t=>typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0;function onKeyStroke(...t){let e,r,n={};t.length===3?(e=t[0],r=t[1],n=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,r=t[0],n=t[1]):(e=t[0],r=t[1]):(e=!0,r=t[0]);const{target:o=defaultWindow,eventName:s="keydown",passive:a=!1}=n,c=createKeyPredicate(e);return useEventListener(o,s,m=>{c(m)&&r(m)},a)}function useSupported(t,e=!1){const r=ref(),n=()=>r.value=Boolean(t());return n(),tryOnMounted(n,e),r}function useClipboard(t={}){const{navigator:e=defaultNavigator,read:r=!1,source:n,copiedDuring:o=1500,legacy:s=!1}=t,a=["copy","cut"],c=useSupported(()=>e&&"clipboard"in e),d=computed$1(()=>c.value||s),m=ref(""),gr=ref(!1),vr=useTimeoutFn(()=>gr.value=!1,o);function Ar(){c.value?e.clipboard.readText().then(xr=>{m.value=xr}):m.value=kr()}if(d.value&&r)for(const xr of a)useEventListener(xr,Ar);async function Tr(xr=resolveUnref(n)){d.value&&xr!=null&&(c.value?await e.clipboard.writeText(xr):Rr(xr),m.value=xr,gr.value=!0,vr.start())}function Rr(xr){const Dr=document.createElement("textarea");Dr.value=xr??"",Dr.style.position="absolute",Dr.style.opacity="0",document.body.appendChild(Dr),Dr.select(),document.execCommand("copy"),Dr.remove()}function kr(){var xr,Dr,Ur;return(Ur=(Dr=(xr=document==null?void 0:document.getSelection)==null?void 0:xr.call(document))==null?void 0:Dr.toString())!=null?Ur:""}return{isSupported:d,text:m,copied:gr,copy:Tr}}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$1.global<"u"?dist$1.global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};const handlers=_global[globalKey];function getSSRHandler(t,e){return handlers[t]||e}function guessSerializerType(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var __defProp$k=Object.defineProperty,__getOwnPropSymbols$m=Object.getOwnPropertySymbols,__hasOwnProp$m=Object.prototype.hasOwnProperty,__propIsEnum$m=Object.prototype.propertyIsEnumerable,__defNormalProp$k=(t,e,r)=>e in t?__defProp$k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__spreadValues$k=(t,e)=>{for(var r in e||(e={}))__hasOwnProp$m.call(e,r)&&__defNormalProp$k(t,r,e[r]);if(__getOwnPropSymbols$m)for(var r of __getOwnPropSymbols$m(e))__propIsEnum$m.call(e,r)&&__defNormalProp$k(t,r,e[r]);return t};const StorageSerializers={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},customStorageEventName="vueuse-storage";function useStorage(t,e,r,n={}){var o;const{flush:s="pre",deep:a=!0,listenToStorageChanges:c=!0,writeDefaults:d=!0,mergeDefaults:m=!1,shallow:gr,window:vr=defaultWindow,eventFilter:Ar,onError:Tr=Vr=>{console.error(Vr)}}=n,Rr=(gr?shallowRef:ref)(e);if(!r)try{r=getSSRHandler("getDefaultStorage",()=>{var Vr;return(Vr=defaultWindow)==null?void 0:Vr.localStorage})()}catch(Vr){Tr(Vr)}if(!r)return Rr;const kr=resolveUnref(e),xr=guessSerializerType(kr),Dr=(o=n.serializer)!=null?o:StorageSerializers[xr],{pause:Ur,resume:Cr}=watchPausable(Rr,()=>Nr(Rr.value),{flush:s,deep:a,eventFilter:Ar});return vr&&c&&(useEventListener(vr,"storage",Fr),useEventListener(vr,customStorageEventName,Mr)),Fr(),Rr;function Nr(Vr){try{if(Vr==null)r.removeItem(t);else{const Xr=Dr.write(Vr),Yr=r.getItem(t);Yr!==Xr&&(r.setItem(t,Xr),vr&&vr.dispatchEvent(new CustomEvent(customStorageEventName,{detail:{key:t,oldValue:Yr,newValue:Xr,storageArea:r}})))}}catch(Xr){Tr(Xr)}}function Hr(Vr){const Xr=Vr?Vr.newValue:r.getItem(t);if(Xr==null)return d&&kr!==null&&r.setItem(t,Dr.write(kr)),kr;if(!Vr&&m){const Yr=Dr.read(Xr);return isFunction$3(m)?m(Yr,kr):xr==="object"&&!Array.isArray(Yr)?__spreadValues$k(__spreadValues$k({},kr),Yr):Yr}else return typeof Xr!="string"?Xr:Dr.read(Xr)}function Mr(Vr){Fr(Vr.detail)}function Fr(Vr){if(!(Vr&&Vr.storageArea!==r)){if(Vr&&Vr.key==null){Rr.value=kr;return}if(!(Vr&&Vr.key!==t)){Ur();try{Rr.value=Hr(Vr)}catch(Xr){Tr(Xr)}finally{Vr?nextTick(Cr):Cr()}}}}}function useLocalStorage(t,e,r={}){const{window:n=defaultWindow}=r;return useStorage(t,e,n==null?void 0:n.localStorage,r)}var SwipeDirection;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));function checkOverflowScroll(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientHeight<t.scrollHeight||e.overflowY==="auto"&&t.clientWidth<t.scrollWidth)return!0;{const r=t.parentNode;return!r||r.tagName==="BODY"?!1:checkOverflowScroll(r)}}function preventDefault(t){const e=t||window.event,r=e.target;return checkOverflowScroll(r)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}function useScrollLock(t,e=!1){const r=ref(e);let n=null,o;watch(resolveRef(t),c=>{if(c){const d=c;o=d.style.overflow,r.value&&(d.style.overflow="hidden")}},{immediate:!0});const s=()=>{const c=resolveUnref(t);!c||r.value||(isIOS&&(n=useEventListener(c,"touchmove",d=>{preventDefault(d)},{passive:!1})),c.style.overflow="hidden",r.value=!0)},a=()=>{const c=resolveUnref(t);!c||!r.value||(isIOS&&(n==null||n()),c.style.overflow=o,r.value=!1)};return tryOnScopeDispose(a),computed$1({get(){return r.value},set(c){c?s():a()}})}var __defProp$1=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(t,e,r)=>e in t?__defProp$1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__spreadValues=(t,e)=>{for(var r in e||(e={}))__hasOwnProp.call(e,r)&&__defNormalProp$1(t,r,e[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(e))__propIsEnum.call(e,r)&&__defNormalProp$1(t,r,e[r]);return t};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);var __defProp=Object.defineProperty,__defNormalProp=(t,e,r)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__publicField=(t,e,r)=>(__defNormalProp(t,typeof e!="symbol"?e+"":e,r),r);class WalletNotSelectedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}class WalletNotInitializedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}const SolanaMobileWalletAdapterErrorCode={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND"};class SolanaMobileWalletAdapterError extends Error{constructor(...e){const[r,n,o]=e;super(n),this.code=r,this.data=o,this.name="SolanaMobileWalletAdapterError"}}class SolanaMobileWalletAdapterProtocolError extends Error{constructor(...e){const[r,n,o,s]=e;super(o),this.code=n,this.data=s,this.jsonRpcMessageId=r,this.name="SolanaMobileWalletAdapterProtocolError"}}function __awaiter$2$1(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})}function createHelloReq(t,e){return __awaiter$2$1(this,void 0,void 0,function*(){const r=yield crypto.subtle.exportKey("raw",t),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,r),o=new Uint8Array(r.byteLength+n.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(n),r.byteLength),o})}const SEQUENCE_NUMBER_BYTES=4;function createSequenceNumberVector(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(SEQUENCE_NUMBER_BYTES);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}function generateAssociationKeypair(){return __awaiter$2$1(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function generateECDHKeypair(){return __awaiter$2$1(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}const INITIALIZATION_VECTOR_BYTES=12;function encryptJsonRpcMessage(t,e){return __awaiter$2$1(this,void 0,void 0,function*(){const r=JSON.stringify(t),n=createSequenceNumberVector(t.id),o=new Uint8Array(INITIALIZATION_VECTOR_BYTES);crypto.getRandomValues(o);const s=yield crypto.subtle.encrypt(getAlgorithmParams(n,o),e,new TextEncoder().encode(r)),a=new Uint8Array(n.byteLength+o.byteLength+s.byteLength);return a.set(new Uint8Array(n),0),a.set(new Uint8Array(o),n.byteLength),a.set(new Uint8Array(s),n.byteLength+o.byteLength),a})}function decryptJsonRpcMessage(t,e){return __awaiter$2$1(this,void 0,void 0,function*(){const r=t.slice(0,SEQUENCE_NUMBER_BYTES),n=t.slice(SEQUENCE_NUMBER_BYTES,SEQUENCE_NUMBER_BYTES+INITIALIZATION_VECTOR_BYTES),o=t.slice(SEQUENCE_NUMBER_BYTES+INITIALIZATION_VECTOR_BYTES),s=yield crypto.subtle.decrypt(getAlgorithmParams(r,n),e,o),a=getUtf8Decoder().decode(s),c=JSON.parse(a);if(Object.hasOwnProperty.call(c,"error"))throw new SolanaMobileWalletAdapterProtocolError(c.id,c.error.code,c.error.message);return c})}function getAlgorithmParams(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let _utf8Decoder;function getUtf8Decoder(){return _utf8Decoder===void 0&&(_utf8Decoder=new TextDecoder("utf-8")),_utf8Decoder}function parseHelloRsp(t,e,r){return __awaiter$2$1(this,void 0,void 0,function*(){const[n,o]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t,{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:o},r,256),a=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},a,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function getRandomAssociationPort(){return assertAssociationPort(49152+Math.floor(Math.random()*(65535-49152+1)))}function assertAssociationPort(t){if(t<49152||t>65535)throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function arrayBufferToBase64String(t){let e="";const r=new Uint8Array(t),n=r.byteLength;for(let o=0;o<n;o++)e+=String.fromCharCode(r[o]);return window.btoa(e)}function getStringWithURLUnsafeCharactersReplaced(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const INTENT_NAME="solana-wallet";function getPathParts(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function getIntentURL(t,e){let r=null;if(e){try{r=new URL(e)}catch{}if((r==null?void 0:r.protocol)!=="https:")throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}r||(r=new URL(`${INTENT_NAME}:/`));const n=t.startsWith("/")?t:[...getPathParts(r.pathname),...getPathParts(t)].join("/");return new URL(n,r)}function getAssociateAndroidIntentURL(t,e,r){return __awaiter$2$1(this,void 0,void 0,function*(){const n=assertAssociationPort(e),o=yield crypto.subtle.exportKey("raw",t),s=arrayBufferToBase64String(o),a=getIntentURL("v1/associate/local",r);return a.searchParams.set("association",getStringWithURLUnsafeCharactersReplaced(s)),a.searchParams.set("port",`${n}`),a})}const Browser={Firefox:0,Other:1};function assertUnreachable(t){return t}function getBrowser(){return navigator.userAgent.indexOf("Firefox/")!==-1?Browser.Firefox:Browser.Other}function getDetectionPromise(){return new Promise((t,e)=>{function r(){clearTimeout(o),window.removeEventListener("blur",n)}function n(){r(),t()}window.addEventListener("blur",n);const o=setTimeout(()=>{r(),e()},2e3)})}let _frame=null;function launchUrlThroughHiddenFrame(t){_frame==null&&(_frame=document.createElement("iframe"),_frame.style.display="none",document.body.appendChild(_frame)),_frame.contentWindow.location.href=t.toString()}function startSession(t,e){return __awaiter$2$1(this,void 0,void 0,function*(){const r=getRandomAssociationPort(),n=yield getAssociateAndroidIntentURL(t,r,e);if(n.protocol==="https:")window.location.assign(n);else try{const o=getBrowser();switch(o){case Browser.Firefox:launchUrlThroughHiddenFrame(n);break;case Browser.Other:{const s=getDetectionPromise();window.location.assign(n),yield s;break}default:}}catch{throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}return r})}const WEBSOCKET_CONNECTION_CONFIG={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},WEBSOCKET_PROTOCOL="com.solana.mobilewalletadapter.v1";function assertSecureContext(){if(typeof window>"u"||window.isSecureContext!==!0)throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function assertSecureEndpointSpecificURI(t){let e;try{e=new URL(t)}catch{throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function getSequenceNumberFromByteArray(t){return new DataView(t).getUint32(0,!1)}function transact$1(t,e){return __awaiter$2$1(this,void 0,void 0,function*(){assertSecureContext();const r=yield generateAssociationKeypair(),n=yield startSession(r.publicKey,e==null?void 0:e.baseUri),o=`ws://localhost:${n}/solana-wallet`;let s;const a=(()=>{const gr=[...WEBSOCKET_CONNECTION_CONFIG.retryDelayScheduleMs];return()=>gr.length>1?gr.shift():gr[0]})();let c=1,d=0,m={__type:"disconnected"};return new Promise((gr,vr)=>{let Ar;const Tr={},Rr=()=>__awaiter$2$1(this,void 0,void 0,function*(){if(m.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${m.__type}\`.`);return}const{associationKeypair:Hr}=m;Ar.removeEventListener("open",Rr);const Mr=yield generateECDHKeypair();Ar.send(yield createHelloReq(Mr.publicKey,Hr.privateKey)),m={__type:"hello_req_sent",associationPublicKey:Hr.publicKey,ecdhPrivateKey:Mr.privateKey}}),kr=Hr=>{Hr.wasClean?m={__type:"disconnected"}:vr(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${Hr.code}: ${Hr.reason}).`,{closeEvent:Hr})),Ur()},xr=Hr=>__awaiter$2$1(this,void 0,void 0,function*(){Ur(),Date.now()-s>=WEBSOCKET_CONNECTION_CONFIG.timeoutMs?vr(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${n}.`)):(yield new Promise(Mr=>{const Fr=a();Cr=window.setTimeout(Mr,Fr)}),Nr())}),Dr=Hr=>__awaiter$2$1(this,void 0,void 0,function*(){const Mr=yield Hr.data.arrayBuffer();switch(m.__type){case"connected":try{const Fr=Mr.slice(0,SEQUENCE_NUMBER_BYTES),Vr=getSequenceNumberFromByteArray(Fr);if(Vr!==d+1)throw new Error("Encrypted message has invalid sequence number");d=Vr;const Xr=yield decryptJsonRpcMessage(Mr,m.sharedSecret),Yr=Tr[Xr.id];delete Tr[Xr.id],Yr.resolve(Xr.result)}catch(Fr){if(Fr instanceof SolanaMobileWalletAdapterProtocolError){const Vr=Tr[Fr.jsonRpcMessageId];delete Tr[Fr.jsonRpcMessageId],Vr.reject(Fr)}else throw Fr}break;case"hello_req_sent":{const Fr=yield parseHelloRsp(Mr,m.associationPublicKey,m.ecdhPrivateKey);m={__type:"connected",sharedSecret:Fr};const Vr=new Proxy({},{get(Xr,Yr){if(Xr[Yr]==null){const tn=Yr.toString().replace(/[A-Z]/g,an=>`_${an.toLowerCase()}`).toLowerCase();Xr[Yr]=function(an){return __awaiter$2$1(this,void 0,void 0,function*(){const Lr=c++;return Ar.send(yield encryptJsonRpcMessage({id:Lr,jsonrpc:"2.0",method:tn,params:an??{}},Fr)),new Promise((Er,Or)=>{Tr[Lr]={resolve(jr){switch(Yr){case"authorize":case"reauthorize":{const{wallet_uri_base:Gr}=jr;if(Gr!=null)try{assertSecureEndpointSpecificURI(Gr)}catch(qr){Or(qr);return}break}}Er(jr)},reject:Or}})})}}return Xr[Yr]},defineProperty(){return!1},deleteProperty(){return!1}});try{gr(yield t(Vr))}catch(Xr){vr(Xr)}finally{Ur(),Ar.close()}break}}});let Ur,Cr;const Nr=()=>{Ur&&Ur(),m={__type:"connecting",associationKeypair:r},s===void 0&&(s=Date.now()),Ar=new WebSocket(o,[WEBSOCKET_PROTOCOL]),Ar.addEventListener("open",Rr),Ar.addEventListener("close",kr),Ar.addEventListener("error",xr),Ar.addEventListener("message",Dr),Ur=()=>{window.clearTimeout(Cr),Ar.removeEventListener("open",Rr),Ar.removeEventListener("close",kr),Ar.removeEventListener("error",xr),Ar.removeEventListener("message",Dr)}};Nr()})})}function base$1(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=n}var a=t.length,c=t.charAt(0),d=Math.log(a)/Math.log(256),m=Math.log(256)/Math.log(a);function gr(Tr){if(Tr instanceof Uint8Array||(ArrayBuffer.isView(Tr)?Tr=new Uint8Array(Tr.buffer,Tr.byteOffset,Tr.byteLength):Array.isArray(Tr)&&(Tr=Uint8Array.from(Tr))),!(Tr instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Tr.length===0)return"";for(var Rr=0,kr=0,xr=0,Dr=Tr.length;xr!==Dr&&Tr[xr]===0;)xr++,Rr++;for(var Ur=(Dr-xr)*m+1>>>0,Cr=new Uint8Array(Ur);xr!==Dr;){for(var Nr=Tr[xr],Hr=0,Mr=Ur-1;(Nr!==0||Hr<kr)&&Mr!==-1;Mr--,Hr++)Nr+=256*Cr[Mr]>>>0,Cr[Mr]=Nr%a>>>0,Nr=Nr/a>>>0;if(Nr!==0)throw new Error("Non-zero carry");kr=Hr,xr++}for(var Fr=Ur-kr;Fr!==Ur&&Cr[Fr]===0;)Fr++;for(var Vr=c.repeat(Rr);Fr<Ur;++Fr)Vr+=t.charAt(Cr[Fr]);return Vr}function vr(Tr){if(typeof Tr!="string")throw new TypeError("Expected String");if(Tr.length===0)return new Uint8Array;for(var Rr=0,kr=0,xr=0;Tr[Rr]===c;)kr++,Rr++;for(var Dr=(Tr.length-Rr)*d+1>>>0,Ur=new Uint8Array(Dr);Tr[Rr];){var Cr=e[Tr.charCodeAt(Rr)];if(Cr===255)return;for(var Nr=0,Hr=Dr-1;(Cr!==0||Nr<xr)&&Hr!==-1;Hr--,Nr++)Cr+=a*Ur[Hr]>>>0,Ur[Hr]=Cr%256>>>0,Cr=Cr/256>>>0;if(Cr!==0)throw new Error("Non-zero carry");xr=Nr,Rr++}for(var Mr=Dr-xr;Mr!==Dr&&Ur[Mr]===0;)Mr++;for(var Fr=new Uint8Array(kr+(Dr-Mr)),Vr=kr;Mr!==Dr;)Fr[Vr++]=Ur[Mr++];return Fr}function Ar(Tr){var Rr=vr(Tr);if(Rr)return Rr;throw new Error("Non-base"+a+" character")}return{encode:gr,decodeUnsafe:vr,decode:Ar}}var src$1=base$1;const basex$1=src$1,ALPHABET$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58$1=basex$1(ALPHABET$1);function __rest(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function __awaiter$1$1(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})}function fromUint8Array(t){return window.btoa(String.fromCharCode.call(null,...t))}function toUint8Array$1(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function getPayloadFromTransaction(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return fromUint8Array(e)}function getTransactionFromWireMessage(t){const r=t[0]*SIGNATURE_LENGTH_IN_BYTES$1+1;return VersionedMessage.deserializeMessageVersion(t.slice(r,t.length))==="legacy"?Transaction.from(t):VersionedTransaction.deserialize(t)}function transact(t,e){return __awaiter$1$1(this,void 0,void 0,function*(){return yield transact$1(n=>{const o=new Proxy({},{get(s,a){if(s[a]==null)switch(a){case"signAndSendTransactions":s[a]=function(c){var{minContextSlot:d,transactions:m}=c,gr=__rest(c,["minContextSlot","transactions"]);return __awaiter$1$1(this,void 0,void 0,function*(){const vr=m.map(getPayloadFromTransaction),{signatures:Ar}=yield n.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},gr),d!=null?{options:{min_context_slot:d}}:null),{payloads:vr}));return Ar.map(toUint8Array$1).map(bs58$1.encode)})};break;case"signMessages":s[a]=function(c){var{payloads:d}=c,m=__rest(c,["payloads"]);return __awaiter$1$1(this,void 0,void 0,function*(){const gr=d.map(fromUint8Array),{signed_payloads:vr}=yield n.signMessages(Object.assign(Object.assign({},m),{payloads:gr}));return vr.map(toUint8Array$1)})};break;case"signTransactions":s[a]=function(c){var{transactions:d}=c,m=__rest(c,["transactions"]);return __awaiter$1$1(this,void 0,void 0,function*(){const gr=d.map(getPayloadFromTransaction),{signed_payloads:vr}=yield n.signTransactions(Object.assign(Object.assign({},m),{payloads:gr}));return vr.map(toUint8Array$1).map(getTransactionFromWireMessage)})};break;default:{s[a]=n[a];break}}return s[a]},defineProperty(){return!1},deleteProperty(){return!1}});return t(o)},e)})}function __awaiter$z(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})}function toUint8Array(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function getIsSupported(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const SolanaMobileWalletAdapterWalletName="Mobile Wallet Adapter",SIGNATURE_LENGTH_IN_BYTES=64;function getPublicKeyFromAddress(t){const e=toUint8Array(t);return new PublicKey(e)}function isVersionedTransaction$1(t){return"version"in t}class SolanaMobileWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(e){super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=SolanaMobileWalletAdapterWalletName,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=getIsSupported()?WalletReadyState.Loadable:WalletReadyState.Unsupported,this._authorizationResultCache=e.authorizationResultCache,this._addressSelector=e.addressSelector,this._appIdentity=e.appIdentity,this._cluster=e.cluster,this._onWalletNotFound=e.onWalletNotFound,this._readyState!==WalletReadyState.Unsupported&&this._authorizationResultCache.get().then(r=>{r&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=getPublicKeyFromAddress(this._selectedAddress)}catch(e){throw new WalletPublicKeyError(e instanceof Error&&(e==null?void 0:e.message)||"Unknown error",e)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==WalletReadyState.Installed&&this.emit("readyStateChange",this._readyState=WalletReadyState.Installed)}runWithGuard(e){return __awaiter$z(this,void 0,void 0,function*(){try{return yield e()}catch(r){throw this.emit("error",r),r}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return __awaiter$z(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return __awaiter$z(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){if(this._readyState!==WalletReadyState.Installed&&this._readyState!==WalletReadyState.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();e&&this.handleAuthorizationResult(e)}catch(e){throw new WalletConnectionError(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}connect(){return __awaiter$z(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){if(this._readyState!==WalletReadyState.Installed&&this._readyState!==WalletReadyState.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();if(e){this.handleAuthorizationResult(e);return}yield this.transact(r=>__awaiter$z(this,void 0,void 0,function*(){const n=yield r.authorize({cluster:this._cluster,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}))}catch(e){throw new WalletConnectionError(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}handleAuthorizationResult(e){var r;return __awaiter$z(this,void 0,void 0,function*(){const n=this._authorizationResult==null||((r=this._authorizationResult)===null||r===void 0?void 0:r.accounts.length)!==e.accounts.length||this._authorizationResult.accounts.some((o,s)=>o.address!==e.accounts[s].address);if(this._authorizationResult=e,this.declareWalletAsInstalled(),n){const o=yield this._addressSelector.select(e.accounts.map(({address:s})=>s));o!==this._selectedAddress&&(this._selectedAddress=o,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(e,r){return __awaiter$z(this,void 0,void 0,function*(){try{const n=yield e.reauthorize({auth_token:r});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new WalletDisconnectedError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}})}disconnect(){return __awaiter$z(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(e){var r;return __awaiter$z(this,void 0,void 0,function*(){const n=(r=this._authorizationResult)===null||r===void 0?void 0:r.wallet_uri_base,o=n?{baseUri:n}:void 0,s=this._connectionGeneration;try{return yield transact(e,o)}catch(a){throw this._connectionGeneration!==s&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),a}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new WalletNotConnectedError;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(e){return __awaiter$z(this,void 0,void 0,function*(){const{authToken:r}=this.assertIsAuthorized();try{return yield this.transact(n=>__awaiter$z(this,void 0,void 0,function*(){return yield this.performReauthorization(n,r),yield n.signTransactions({transactions:e})}))}catch(n){throw new WalletSignTransactionError(n==null?void 0:n.message,n)}})}sendTransaction(e,r,n){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){const{authToken:o}=this.assertIsAuthorized(),s=n==null?void 0:n.minContextSlot;try{return yield this.transact(a=>__awaiter$z(this,void 0,void 0,function*(){function c(){let vr;switch(r.commitment){case"confirmed":case"finalized":case"processed":vr=r.commitment;break;default:vr="finalized"}let Ar;switch(n==null?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":Ar=n.preflightCommitment;break;case void 0:Ar=vr;default:Ar="finalized"}return(Ar==="finalized"?2:Ar==="confirmed"?1:0)<(vr==="finalized"?2:vr==="confirmed"?1:0)?Ar:vr}const[d,m,gr]=yield Promise.all([a.getCapabilities(),this.performReauthorization(a,o),isVersionedTransaction$1(e)?null:(()=>__awaiter$z(this,void 0,void 0,function*(){var vr;if(e.feePayer||(e.feePayer=(vr=this.publicKey)!==null&&vr!==void 0?vr:void 0),e.recentBlockhash==null){const{blockhash:Ar}=yield r.getLatestBlockhash({commitment:c()});e.recentBlockhash=Ar}}))()]);if(d.supports_sign_and_send_transactions)return(yield a.signAndSendTransactions({minContextSlot:s,transactions:[e]}))[0];{const[vr]=yield a.signTransactions({transactions:[e]});if(isVersionedTransaction$1(vr))return yield r.sendTransaction(vr);{const Ar=vr.serialize();return yield r.sendRawTransaction(Ar,Object.assign(Object.assign({},n),{preflightCommitment:c()}))}}}))}catch(a){throw new WalletSendTransactionError(a==null?void 0:a.message,a)}}))})}signTransaction(e){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){const[r]=yield this.performSignTransactions([e]);return r}))})}signAllTransactions(e){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){return yield this.performSignTransactions(e)}))})}signMessage(e){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){const{authToken:r,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact(o=>__awaiter$z(this,void 0,void 0,function*(){yield this.performReauthorization(o,r);const[s]=yield o.signMessages({addresses:[n],payloads:[e]});return s.slice(-SIGNATURE_LENGTH_IN_BYTES)}))}catch(o){throw new WalletSignMessageError(o==null?void 0:o.message,o)}}))})}}function createDefaultAddressSelector(){return{select(t){return __awaiter$z(this,void 0,void 0,function*(){return t[0]})}}}const CACHE_KEY="SolanaMobileWalletAdapterDefaultAuthorizationCache";function createDefaultAuthorizationResultCache(){let t;try{t=window.localStorage}catch{}return{clear(){return __awaiter$z(this,void 0,void 0,function*(){if(!!t)try{t.removeItem(CACHE_KEY)}catch{}})},get(){return __awaiter$z(this,void 0,void 0,function*(){if(!!t)try{return JSON.parse(t.getItem(CACHE_KEY))||void 0}catch{}})},set(e){return __awaiter$z(this,void 0,void 0,function*(){if(!!t)try{t.setItem(CACHE_KEY,JSON.stringify(e))}catch{}})}}}function defaultWalletNotFoundHandler(t){return __awaiter$z(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(t.url)})}function createDefaultWalletNotFoundHandler(){return defaultWalletNotFoundHandler}function useAdapterListeners(t,e,r,n,o,s){watch(t,(a,c)=>{const d=a==null?void 0:a.adapter,m=c==null?void 0:c.adapter;!d||!m||d.name!==m.name&&m.name!==SolanaMobileWalletAdapterWalletName&&m.disconnect()}),watchEffect(a=>{var c;const d=(c=t.value)==null?void 0:c.adapter;if(!d)return;const m=()=>{o()},gr=()=>{e.value||r.value||n(!0)},vr=Ar=>s(Ar,d);d.on("connect",m),d.on("disconnect",gr),d.on("error",vr),a(()=>{d.off("connect",m),d.off("disconnect",gr),d.off("error",vr)})})}function useAutoConnect(t,e,r,n,o,s,a){const c=ref(t),d=ref(!1);return watch(e,()=>{d.value=!1}),watchEffect(()=>{d.value||!c.value||!e.value||!s.value||o.value||n.value||(async()=>{if(!!e.value){n.value=!0,d.value=!0;try{r.value?await e.value.adapter.autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED():await e.value.adapter.connect()}catch{a()}finally{n.value=!1}}})()}),c}function useEnvironment(t){const e=getUserAgent(),r=getUriForAppIdentity(),n=computed$1(()=>getEnvironment(t.value,e)),o=computed$1(()=>n.value===1);return{userAgent:e,uriForAppIdentity:r,environment:n,isMobile:o}}let _userAgent;function getUserAgent(){var t,e;return _userAgent===void 0&&(_userAgent=(e=(t=globalThis.navigator)==null?void 0:t.userAgent)!=null?e:null),_userAgent}function getUriForAppIdentity(){const t=globalThis.location;return t==null?null:`${t.protocol}//${t.host}`}function getEnvironment(t,e){return t.some(o=>o.name!==SolanaMobileWalletAdapterWalletName&&o.readyState===WalletReadyState.Installed)?0:e&&isOsThatSupportsMwa(e)&&!isWebView(e)?1:0}function isOsThatSupportsMwa(t){return/android/i.test(t)}function isWebView(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function useErrorHandler(t,e){return(r,n)=>t.value?r:e?(e(r,n),r):(console.error(r,n),r instanceof WalletNotReadyError&&typeof window<"u"&&n&&window.open(n.url,"_blank"),r)}function useMobileWalletAdapters(t,e,r,n){const o=computed$1(()=>{if(!e.value)return null;const s=t.value.find(a=>a.name===SolanaMobileWalletAdapterWalletName);return s||new SolanaMobileWalletAdapter({addressSelector:createDefaultAddressSelector(),appIdentity:{uri:r||void 0},authorizationResultCache:createDefaultAuthorizationResultCache(),cluster:n.value,onWalletNotFound:createDefaultWalletNotFoundHandler()})});return computed$1(()=>o.value==null||t.value.indexOf(o.value)!==-1?t.value:[o.value,...t.value])}function useReadyStateListeners(t){watchEffect(e=>{function r(n){const o=t.value,s=o.findIndex(({adapter:a})=>a===this);s!==-1&&(t.value=[...o.slice(0,s),{adapter:this,readyState:n},...o.slice(s+1)])}t.value.forEach(({adapter:n})=>n.on("readyStateChange",r,n)),e(()=>t.value.forEach(({adapter:n})=>n.off("readyStateChange",r,n)))})}function useSelectWalletName(t,e){const r=useLocalStorage(t,e.value?SolanaMobileWalletAdapterWalletName:null),n=computed$1(()=>r.value===SolanaMobileWalletAdapterWalletName),o=computed$1(()=>n.value&&e.value);return{name:r,isUsingMwaAdapter:n,isUsingMwaAdapterOnMobile:o,select:c=>{r.value!==c&&(r.value=c)},deselect:(c=!0)=>{(c||n.value)&&(r.value=null)}}}function getCommitment(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const SOLANA_MAINNET_CHAIN="solana:mainnet",SOLANA_DEVNET_CHAIN="solana:devnet",SOLANA_TESTNET_CHAIN="solana:testnet",SOLANA_LOCALNET_CHAIN="solana:localnet",MAINNET_ENDPOINT="https://api.mainnet-beta.solana.com";function getChainForEndpoint(t){return t.includes(MAINNET_ENDPOINT)?SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?SOLANA_LOCALNET_CHAIN:SOLANA_MAINNET_CHAIN}function arraysEqual(t,e){if(t===e)return!0;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}var safeBuffer={exports:{}},buffer$1={},base64Js$1={};base64Js$1.byteLength=byteLength$1;base64Js$1.toByteArray=toByteArray$1;base64Js$1.fromByteArray=fromByteArray$1;var lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len$1=code$1.length;i$1<len$1;++i$1)lookup$1[i$1]=code$1[i$1],revLookup$1[code$1.charCodeAt(i$1)]=i$1;revLookup$1["-".charCodeAt(0)]=62;revLookup$1["_".charCodeAt(0)]=63;function getLens$1(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function byteLength$1(t){var e=getLens$1(t),r=e[0],n=e[1];return(r+n)*3/4-n}function _byteLength$1(t,e,r){return(e+r)*3/4-r}function toByteArray$1(t){var e,r=getLens$1(t),n=r[0],o=r[1],s=new Arr$1(_byteLength$1(t,n,o)),a=0,c=o>0?n-4:n,d;for(d=0;d<c;d+=4)e=revLookup$1[t.charCodeAt(d)]<<18|revLookup$1[t.charCodeAt(d+1)]<<12|revLookup$1[t.charCodeAt(d+2)]<<6|revLookup$1[t.charCodeAt(d+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return o===2&&(e=revLookup$1[t.charCodeAt(d)]<<2|revLookup$1[t.charCodeAt(d+1)]>>4,s[a++]=e&255),o===1&&(e=revLookup$1[t.charCodeAt(d)]<<10|revLookup$1[t.charCodeAt(d+1)]<<4|revLookup$1[t.charCodeAt(d+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function tripletToBase64$1(t){return lookup$1[t>>18&63]+lookup$1[t>>12&63]+lookup$1[t>>6&63]+lookup$1[t&63]}function encodeChunk$1(t,e,r){for(var n,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),o.push(tripletToBase64$1(n));return o.join("")}function fromByteArray$1(t){for(var e,r=t.length,n=r%3,o=[],s=16383,a=0,c=r-n;a<c;a+=s)o.push(encodeChunk$1(t,a,a+s>c?c:a+s));return n===1?(e=t[r-1],o.push(lookup$1[e>>2]+lookup$1[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(lookup$1[e>>10]+lookup$1[e>>4&63]+lookup$1[e<<2&63]+"=")),o.join("")}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$1.read=function(t,e,r,n,o){var s,a,c=o*8-n-1,d=(1<<c)-1,m=d>>1,gr=-7,vr=r?o-1:0,Ar=r?-1:1,Tr=t[e+vr];for(vr+=Ar,s=Tr&(1<<-gr)-1,Tr>>=-gr,gr+=c;gr>0;s=s*256+t[e+vr],vr+=Ar,gr-=8);for(a=s&(1<<-gr)-1,s>>=-gr,gr+=n;gr>0;a=a*256+t[e+vr],vr+=Ar,gr-=8);if(s===0)s=1-m;else{if(s===d)return a?NaN:(Tr?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-m}return(Tr?-1:1)*a*Math.pow(2,s-n)};ieee754$1.write=function(t,e,r,n,o,s){var a,c,d,m=s*8-o-1,gr=(1<<m)-1,vr=gr>>1,Ar=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,Tr=n?0:s-1,Rr=n?1:-1,kr=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=gr):(a=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+vr>=1?e+=Ar/d:e+=Ar*Math.pow(2,1-vr),e*d>=2&&(a++,d/=2),a+vr>=gr?(c=0,a=gr):a+vr>=1?(c=(e*d-1)*Math.pow(2,o),a=a+vr):(c=e*Math.pow(2,vr-1)*Math.pow(2,o),a=0));o>=8;t[r+Tr]=c&255,Tr+=Rr,c/=256,o-=8);for(a=a<<o|c,m+=o;m>0;t[r+Tr]=a&255,Tr+=Rr,a/=256,m-=8);t[r+Tr-Rr]|=kr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js$1,r=ieee754$1,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=Ur,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const wr=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(wr,y),wr.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function a(wr){if(wr>o)throw new RangeError('The value "'+wr+'" is invalid for option "size"');const y=new Uint8Array(wr);return Object.setPrototypeOf(y,c.prototype),y}function c(wr,y,_r){if(typeof wr=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return vr(wr)}return d(wr,y,_r)}c.poolSize=8192;function d(wr,y,_r){if(typeof wr=="string")return Ar(wr,y);if(ArrayBuffer.isView(wr))return Rr(wr);if(wr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof wr);if(Un(wr,ArrayBuffer)||wr&&Un(wr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Un(wr,SharedArrayBuffer)||wr&&Un(wr.buffer,SharedArrayBuffer)))return kr(wr,y,_r);if(typeof wr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $r=wr.valueOf&&wr.valueOf();if($r!=null&&$r!==wr)return c.from($r,y,_r);const Br=xr(wr);if(Br)return Br;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof wr[Symbol.toPrimitive]=="function")return c.from(wr[Symbol.toPrimitive]("string"),y,_r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof wr)}c.from=function(wr,y,_r){return d(wr,y,_r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function m(wr){if(typeof wr!="number")throw new TypeError('"size" argument must be of type number');if(wr<0)throw new RangeError('The value "'+wr+'" is invalid for option "size"')}function gr(wr,y,_r){return m(wr),wr<=0?a(wr):y!==void 0?typeof _r=="string"?a(wr).fill(y,_r):a(wr).fill(y):a(wr)}c.alloc=function(wr,y,_r){return gr(wr,y,_r)};function vr(wr){return m(wr),a(wr<0?0:Dr(wr)|0)}c.allocUnsafe=function(wr){return vr(wr)},c.allocUnsafeSlow=function(wr){return vr(wr)};function Ar(wr,y){if((typeof y!="string"||y==="")&&(y="utf8"),!c.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const _r=Cr(wr,y)|0;let $r=a(_r);const Br=$r.write(wr,y);return Br!==_r&&($r=$r.slice(0,Br)),$r}function Tr(wr){const y=wr.length<0?0:Dr(wr.length)|0,_r=a(y);for(let $r=0;$r<y;$r+=1)_r[$r]=wr[$r]&255;return _r}function Rr(wr){if(Un(wr,Uint8Array)){const y=new Uint8Array(wr);return kr(y.buffer,y.byteOffset,y.byteLength)}return Tr(wr)}function kr(wr,y,_r){if(y<0||wr.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(wr.byteLength<y+(_r||0))throw new RangeError('"length" is outside of buffer bounds');let $r;return y===void 0&&_r===void 0?$r=new Uint8Array(wr):_r===void 0?$r=new Uint8Array(wr,y):$r=new Uint8Array(wr,y,_r),Object.setPrototypeOf($r,c.prototype),$r}function xr(wr){if(c.isBuffer(wr)){const y=Dr(wr.length)|0,_r=a(y);return _r.length===0||wr.copy(_r,0,0,y),_r}if(wr.length!==void 0)return typeof wr.length!="number"||Fn(wr.length)?a(0):Tr(wr);if(wr.type==="Buffer"&&Array.isArray(wr.data))return Tr(wr.data)}function Dr(wr){if(wr>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return wr|0}function Ur(wr){return+wr!=wr&&(wr=0),c.alloc(+wr)}c.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==c.prototype},c.compare=function(y,_r){if(Un(y,Uint8Array)&&(y=c.from(y,y.offset,y.byteLength)),Un(_r,Uint8Array)&&(_r=c.from(_r,_r.offset,_r.byteLength)),!c.isBuffer(y)||!c.isBuffer(_r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===_r)return 0;let $r=y.length,Br=_r.length;for(let Wr=0,Qr=Math.min($r,Br);Wr<Qr;++Wr)if(y[Wr]!==_r[Wr]){$r=y[Wr],Br=_r[Wr];break}return $r<Br?-1:Br<$r?1:0},c.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(y,_r){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return c.alloc(0);let $r;if(_r===void 0)for(_r=0,$r=0;$r<y.length;++$r)_r+=y[$r].length;const Br=c.allocUnsafe(_r);let Wr=0;for($r=0;$r<y.length;++$r){let Qr=y[$r];if(Un(Qr,Uint8Array))Wr+Qr.length>Br.length?(c.isBuffer(Qr)||(Qr=c.from(Qr)),Qr.copy(Br,Wr)):Uint8Array.prototype.set.call(Br,Qr,Wr);else if(c.isBuffer(Qr))Qr.copy(Br,Wr);else throw new TypeError('"list" argument must be an Array of Buffers');Wr+=Qr.length}return Br};function Cr(wr,y){if(c.isBuffer(wr))return wr.length;if(ArrayBuffer.isView(wr)||Un(wr,ArrayBuffer))return wr.byteLength;if(typeof wr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof wr);const _r=wr.length,$r=arguments.length>2&&arguments[2]===!0;if(!$r&&_r===0)return 0;let Br=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return _r;case"utf8":case"utf-8":return An(wr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _r*2;case"hex":return _r>>>1;case"base64":return kn(wr).length;default:if(Br)return $r?-1:An(wr).length;y=(""+y).toLowerCase(),Br=!0}}c.byteLength=Cr;function Nr(wr,y,_r){let $r=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((_r===void 0||_r>this.length)&&(_r=this.length),_r<=0)||(_r>>>=0,y>>>=0,_r<=y))return"";for(wr||(wr="utf8");;)switch(wr){case"hex":return Jr(this,y,_r);case"utf8":case"utf-8":return Er(this,y,_r);case"ascii":return Gr(this,y,_r);case"latin1":case"binary":return qr(this,y,_r);case"base64":return Lr(this,y,_r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return en(this,y,_r);default:if($r)throw new TypeError("Unknown encoding: "+wr);wr=(wr+"").toLowerCase(),$r=!0}}c.prototype._isBuffer=!0;function Hr(wr,y,_r){const $r=wr[y];wr[y]=wr[_r],wr[_r]=$r}c.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _r=0;_r<y;_r+=2)Hr(this,_r,_r+1);return this},c.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _r=0;_r<y;_r+=4)Hr(this,_r,_r+3),Hr(this,_r+1,_r+2);return this},c.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _r=0;_r<y;_r+=8)Hr(this,_r,_r+7),Hr(this,_r+1,_r+6),Hr(this,_r+2,_r+5),Hr(this,_r+3,_r+4);return this},c.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?Er(this,0,y):Nr.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(y){if(!c.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:c.compare(this,y)===0},c.prototype.inspect=function(){let y="";const _r=t.INSPECT_MAX_BYTES;return y=this.toString("hex",0,_r).replace(/(.{2})/g,"$1 ").trim(),this.length>_r&&(y+=" ... "),"<Buffer "+y+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(y,_r,$r,Br,Wr){if(Un(y,Uint8Array)&&(y=c.from(y,y.offset,y.byteLength)),!c.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(_r===void 0&&(_r=0),$r===void 0&&($r=y?y.length:0),Br===void 0&&(Br=0),Wr===void 0&&(Wr=this.length),_r<0||$r>y.length||Br<0||Wr>this.length)throw new RangeError("out of range index");if(Br>=Wr&&_r>=$r)return 0;if(Br>=Wr)return-1;if(_r>=$r)return 1;if(_r>>>=0,$r>>>=0,Br>>>=0,Wr>>>=0,this===y)return 0;let Qr=Wr-Br,In=$r-_r;const Bn=Math.min(Qr,In),Cn=this.slice(Br,Wr),Hn=y.slice(_r,$r);for(let Mn=0;Mn<Bn;++Mn)if(Cn[Mn]!==Hn[Mn]){Qr=Cn[Mn],In=Hn[Mn];break}return Qr<In?-1:In<Qr?1:0};function Mr(wr,y,_r,$r,Br){if(wr.length===0)return-1;if(typeof _r=="string"?($r=_r,_r=0):_r>2147483647?_r=2147483647:_r<-2147483648&&(_r=-2147483648),_r=+_r,Fn(_r)&&(_r=Br?0:wr.length-1),_r<0&&(_r=wr.length+_r),_r>=wr.length){if(Br)return-1;_r=wr.length-1}else if(_r<0)if(Br)_r=0;else return-1;if(typeof y=="string"&&(y=c.from(y,$r)),c.isBuffer(y))return y.length===0?-1:Fr(wr,y,_r,$r,Br);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?Br?Uint8Array.prototype.indexOf.call(wr,y,_r):Uint8Array.prototype.lastIndexOf.call(wr,y,_r):Fr(wr,[y],_r,$r,Br);throw new TypeError("val must be string, number or Buffer")}function Fr(wr,y,_r,$r,Br){let Wr=1,Qr=wr.length,In=y.length;if($r!==void 0&&($r=String($r).toLowerCase(),$r==="ucs2"||$r==="ucs-2"||$r==="utf16le"||$r==="utf-16le")){if(wr.length<2||y.length<2)return-1;Wr=2,Qr/=2,In/=2,_r/=2}function Bn(Hn,Mn){return Wr===1?Hn[Mn]:Hn.readUInt16BE(Mn*Wr)}let Cn;if(Br){let Hn=-1;for(Cn=_r;Cn<Qr;Cn++)if(Bn(wr,Cn)===Bn(y,Hn===-1?0:Cn-Hn)){if(Hn===-1&&(Hn=Cn),Cn-Hn+1===In)return Hn*Wr}else Hn!==-1&&(Cn-=Cn-Hn),Hn=-1}else for(_r+In>Qr&&(_r=Qr-In),Cn=_r;Cn>=0;Cn--){let Hn=!0;for(let Mn=0;Mn<In;Mn++)if(Bn(wr,Cn+Mn)!==Bn(y,Mn)){Hn=!1;break}if(Hn)return Cn}return-1}c.prototype.includes=function(y,_r,$r){return this.indexOf(y,_r,$r)!==-1},c.prototype.indexOf=function(y,_r,$r){return Mr(this,y,_r,$r,!0)},c.prototype.lastIndexOf=function(y,_r,$r){return Mr(this,y,_r,$r,!1)};function Vr(wr,y,_r,$r){_r=Number(_r)||0;const Br=wr.length-_r;$r?($r=Number($r),$r>Br&&($r=Br)):$r=Br;const Wr=y.length;$r>Wr/2&&($r=Wr/2);let Qr;for(Qr=0;Qr<$r;++Qr){const In=parseInt(y.substr(Qr*2,2),16);if(Fn(In))return Qr;wr[_r+Qr]=In}return Qr}function Xr(wr,y,_r,$r){return En(An(y,wr.length-_r),wr,_r,$r)}function Yr(wr,y,_r,$r){return En(Ln(y),wr,_r,$r)}function tn(wr,y,_r,$r){return En(kn(y),wr,_r,$r)}function an(wr,y,_r,$r){return En(pn(y,wr.length-_r),wr,_r,$r)}c.prototype.write=function(y,_r,$r,Br){if(_r===void 0)Br="utf8",$r=this.length,_r=0;else if($r===void 0&&typeof _r=="string")Br=_r,$r=this.length,_r=0;else if(isFinite(_r))_r=_r>>>0,isFinite($r)?($r=$r>>>0,Br===void 0&&(Br="utf8")):(Br=$r,$r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Wr=this.length-_r;if(($r===void 0||$r>Wr)&&($r=Wr),y.length>0&&($r<0||_r<0)||_r>this.length)throw new RangeError("Attempt to write outside buffer bounds");Br||(Br="utf8");let Qr=!1;for(;;)switch(Br){case"hex":return Vr(this,y,_r,$r);case"utf8":case"utf-8":return Xr(this,y,_r,$r);case"ascii":case"latin1":case"binary":return Yr(this,y,_r,$r);case"base64":return tn(this,y,_r,$r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return an(this,y,_r,$r);default:if(Qr)throw new TypeError("Unknown encoding: "+Br);Br=(""+Br).toLowerCase(),Qr=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Lr(wr,y,_r){return y===0&&_r===wr.length?e.fromByteArray(wr):e.fromByteArray(wr.slice(y,_r))}function Er(wr,y,_r){_r=Math.min(wr.length,_r);const $r=[];let Br=y;for(;Br<_r;){const Wr=wr[Br];let Qr=null,In=Wr>239?4:Wr>223?3:Wr>191?2:1;if(Br+In<=_r){let Bn,Cn,Hn,Mn;switch(In){case 1:Wr<128&&(Qr=Wr);break;case 2:Bn=wr[Br+1],(Bn&192)===128&&(Mn=(Wr&31)<<6|Bn&63,Mn>127&&(Qr=Mn));break;case 3:Bn=wr[Br+1],Cn=wr[Br+2],(Bn&192)===128&&(Cn&192)===128&&(Mn=(Wr&15)<<12|(Bn&63)<<6|Cn&63,Mn>2047&&(Mn<55296||Mn>57343)&&(Qr=Mn));break;case 4:Bn=wr[Br+1],Cn=wr[Br+2],Hn=wr[Br+3],(Bn&192)===128&&(Cn&192)===128&&(Hn&192)===128&&(Mn=(Wr&15)<<18|(Bn&63)<<12|(Cn&63)<<6|Hn&63,Mn>65535&&Mn<1114112&&(Qr=Mn))}}Qr===null?(Qr=65533,In=1):Qr>65535&&(Qr-=65536,$r.push(Qr>>>10&1023|55296),Qr=56320|Qr&1023),$r.push(Qr),Br+=In}return jr($r)}const Or=4096;function jr(wr){const y=wr.length;if(y<=Or)return String.fromCharCode.apply(String,wr);let _r="",$r=0;for(;$r<y;)_r+=String.fromCharCode.apply(String,wr.slice($r,$r+=Or));return _r}function Gr(wr,y,_r){let $r="";_r=Math.min(wr.length,_r);for(let Br=y;Br<_r;++Br)$r+=String.fromCharCode(wr[Br]&127);return $r}function qr(wr,y,_r){let $r="";_r=Math.min(wr.length,_r);for(let Br=y;Br<_r;++Br)$r+=String.fromCharCode(wr[Br]);return $r}function Jr(wr,y,_r){const $r=wr.length;(!y||y<0)&&(y=0),(!_r||_r<0||_r>$r)&&(_r=$r);let Br="";for(let Wr=y;Wr<_r;++Wr)Br+=Kn[wr[Wr]];return Br}function en(wr,y,_r){const $r=wr.slice(y,_r);let Br="";for(let Wr=0;Wr<$r.length-1;Wr+=2)Br+=String.fromCharCode($r[Wr]+$r[Wr+1]*256);return Br}c.prototype.slice=function(y,_r){const $r=this.length;y=~~y,_r=_r===void 0?$r:~~_r,y<0?(y+=$r,y<0&&(y=0)):y>$r&&(y=$r),_r<0?(_r+=$r,_r<0&&(_r=0)):_r>$r&&(_r=$r),_r<y&&(_r=y);const Br=this.subarray(y,_r);return Object.setPrototypeOf(Br,c.prototype),Br};function Kr(wr,y,_r){if(wr%1!==0||wr<0)throw new RangeError("offset is not uint");if(wr+y>_r)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=this[y],Wr=1,Qr=0;for(;++Qr<_r&&(Wr*=256);)Br+=this[y+Qr]*Wr;return Br},c.prototype.readUintBE=c.prototype.readUIntBE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=this[y+--_r],Wr=1;for(;_r>0&&(Wr*=256);)Br+=this[y+--_r]*Wr;return Br},c.prototype.readUint8=c.prototype.readUInt8=function(y,_r){return y=y>>>0,_r||Kr(y,1,this.length),this[y]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(y,_r){return y=y>>>0,_r||Kr(y,2,this.length),this[y]|this[y+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(y,_r){return y=y>>>0,_r||Kr(y,2,this.length),this[y]<<8|this[y+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},c.prototype.readBigUInt64LE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=_r+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,Wr=this[++y]+this[++y]*2**8+this[++y]*2**16+$r*2**24;return BigInt(Br)+(BigInt(Wr)<<BigInt(32))}),c.prototype.readBigUInt64BE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=_r*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],Wr=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+$r;return(BigInt(Br)<<BigInt(32))+BigInt(Wr)}),c.prototype.readIntLE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=this[y],Wr=1,Qr=0;for(;++Qr<_r&&(Wr*=256);)Br+=this[y+Qr]*Wr;return Wr*=128,Br>=Wr&&(Br-=Math.pow(2,8*_r)),Br},c.prototype.readIntBE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=_r,Wr=1,Qr=this[y+--Br];for(;Br>0&&(Wr*=256);)Qr+=this[y+--Br]*Wr;return Wr*=128,Qr>=Wr&&(Qr-=Math.pow(2,8*_r)),Qr},c.prototype.readInt8=function(y,_r){return y=y>>>0,_r||Kr(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},c.prototype.readInt16LE=function(y,_r){y=y>>>0,_r||Kr(y,2,this.length);const $r=this[y]|this[y+1]<<8;return $r&32768?$r|4294901760:$r},c.prototype.readInt16BE=function(y,_r){y=y>>>0,_r||Kr(y,2,this.length);const $r=this[y+1]|this[y]<<8;return $r&32768?$r|4294901760:$r},c.prototype.readInt32LE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},c.prototype.readInt32BE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},c.prototype.readBigInt64LE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+($r<<24);return(BigInt(Br)<<BigInt(32))+BigInt(_r+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),c.prototype.readBigInt64BE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=(_r<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(Br)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+$r)}),c.prototype.readFloatLE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),r.read(this,y,!0,23,4)},c.prototype.readFloatBE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),r.read(this,y,!1,23,4)},c.prototype.readDoubleLE=function(y,_r){return y=y>>>0,_r||Kr(y,8,this.length),r.read(this,y,!0,52,8)},c.prototype.readDoubleBE=function(y,_r){return y=y>>>0,_r||Kr(y,8,this.length),r.read(this,y,!1,52,8)};function Ir(wr,y,_r,$r,Br,Wr){if(!c.isBuffer(wr))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>Br||y<Wr)throw new RangeError('"value" argument is out of bounds');if(_r+$r>wr.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,$r=$r>>>0,!Br){const In=Math.pow(2,8*$r)-1;Ir(this,y,_r,$r,In,0)}let Wr=1,Qr=0;for(this[_r]=y&255;++Qr<$r&&(Wr*=256);)this[_r+Qr]=y/Wr&255;return _r+$r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,$r=$r>>>0,!Br){const In=Math.pow(2,8*$r)-1;Ir(this,y,_r,$r,In,0)}let Wr=$r-1,Qr=1;for(this[_r+Wr]=y&255;--Wr>=0&&(Qr*=256);)this[_r+Wr]=y/Qr&255;return _r+$r},c.prototype.writeUint8=c.prototype.writeUInt8=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,1,255,0),this[_r]=y&255,_r+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,65535,0),this[_r]=y&255,this[_r+1]=y>>>8,_r+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,65535,0),this[_r]=y>>>8,this[_r+1]=y&255,_r+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,4294967295,0),this[_r+3]=y>>>24,this[_r+2]=y>>>16,this[_r+1]=y>>>8,this[_r]=y&255,_r+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,4294967295,0),this[_r]=y>>>24,this[_r+1]=y>>>16,this[_r+2]=y>>>8,this[_r+3]=y&255,_r+4};function zr(wr,y,_r,$r,Br){sn(y,$r,Br,wr,_r,7);let Wr=Number(y&BigInt(4294967295));wr[_r++]=Wr,Wr=Wr>>8,wr[_r++]=Wr,Wr=Wr>>8,wr[_r++]=Wr,Wr=Wr>>8,wr[_r++]=Wr;let Qr=Number(y>>BigInt(32)&BigInt(4294967295));return wr[_r++]=Qr,Qr=Qr>>8,wr[_r++]=Qr,Qr=Qr>>8,wr[_r++]=Qr,Qr=Qr>>8,wr[_r++]=Qr,_r}function un(wr,y,_r,$r,Br){sn(y,$r,Br,wr,_r,7);let Wr=Number(y&BigInt(4294967295));wr[_r+7]=Wr,Wr=Wr>>8,wr[_r+6]=Wr,Wr=Wr>>8,wr[_r+5]=Wr,Wr=Wr>>8,wr[_r+4]=Wr;let Qr=Number(y>>BigInt(32)&BigInt(4294967295));return wr[_r+3]=Qr,Qr=Qr>>8,wr[_r+2]=Qr,Qr=Qr>>8,wr[_r+1]=Qr,Qr=Qr>>8,wr[_r]=Qr,_r+8}c.prototype.writeBigUInt64LE=jn(function(y,_r=0){return zr(this,y,_r,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=jn(function(y,_r=0){return un(this,y,_r,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,!Br){const Bn=Math.pow(2,8*$r-1);Ir(this,y,_r,$r,Bn-1,-Bn)}let Wr=0,Qr=1,In=0;for(this[_r]=y&255;++Wr<$r&&(Qr*=256);)y<0&&In===0&&this[_r+Wr-1]!==0&&(In=1),this[_r+Wr]=(y/Qr>>0)-In&255;return _r+$r},c.prototype.writeIntBE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,!Br){const Bn=Math.pow(2,8*$r-1);Ir(this,y,_r,$r,Bn-1,-Bn)}let Wr=$r-1,Qr=1,In=0;for(this[_r+Wr]=y&255;--Wr>=0&&(Qr*=256);)y<0&&In===0&&this[_r+Wr+1]!==0&&(In=1),this[_r+Wr]=(y/Qr>>0)-In&255;return _r+$r},c.prototype.writeInt8=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,1,127,-128),y<0&&(y=255+y+1),this[_r]=y&255,_r+1},c.prototype.writeInt16LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,32767,-32768),this[_r]=y&255,this[_r+1]=y>>>8,_r+2},c.prototype.writeInt16BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,32767,-32768),this[_r]=y>>>8,this[_r+1]=y&255,_r+2},c.prototype.writeInt32LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,2147483647,-2147483648),this[_r]=y&255,this[_r+1]=y>>>8,this[_r+2]=y>>>16,this[_r+3]=y>>>24,_r+4},c.prototype.writeInt32BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[_r]=y>>>24,this[_r+1]=y>>>16,this[_r+2]=y>>>8,this[_r+3]=y&255,_r+4},c.prototype.writeBigInt64LE=jn(function(y,_r=0){return zr(this,y,_r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=jn(function(y,_r=0){return un(this,y,_r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function vn(wr,y,_r,$r,Br,Wr){if(_r+$r>wr.length)throw new RangeError("Index out of range");if(_r<0)throw new RangeError("Index out of range")}function _n(wr,y,_r,$r,Br){return y=+y,_r=_r>>>0,Br||vn(wr,y,_r,4),r.write(wr,y,_r,$r,23,4),_r+4}c.prototype.writeFloatLE=function(y,_r,$r){return _n(this,y,_r,!0,$r)},c.prototype.writeFloatBE=function(y,_r,$r){return _n(this,y,_r,!1,$r)};function dn(wr,y,_r,$r,Br){return y=+y,_r=_r>>>0,Br||vn(wr,y,_r,8),r.write(wr,y,_r,$r,52,8),_r+8}c.prototype.writeDoubleLE=function(y,_r,$r){return dn(this,y,_r,!0,$r)},c.prototype.writeDoubleBE=function(y,_r,$r){return dn(this,y,_r,!1,$r)},c.prototype.copy=function(y,_r,$r,Br){if(!c.isBuffer(y))throw new TypeError("argument should be a Buffer");if($r||($r=0),!Br&&Br!==0&&(Br=this.length),_r>=y.length&&(_r=y.length),_r||(_r=0),Br>0&&Br<$r&&(Br=$r),Br===$r||y.length===0||this.length===0)return 0;if(_r<0)throw new RangeError("targetStart out of bounds");if($r<0||$r>=this.length)throw new RangeError("Index out of range");if(Br<0)throw new RangeError("sourceEnd out of bounds");Br>this.length&&(Br=this.length),y.length-_r<Br-$r&&(Br=y.length-_r+$r);const Wr=Br-$r;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_r,$r,Br):Uint8Array.prototype.set.call(y,this.subarray($r,Br),_r),Wr},c.prototype.fill=function(y,_r,$r,Br){if(typeof y=="string"){if(typeof _r=="string"?(Br=_r,_r=0,$r=this.length):typeof $r=="string"&&(Br=$r,$r=this.length),Br!==void 0&&typeof Br!="string")throw new TypeError("encoding must be a string");if(typeof Br=="string"&&!c.isEncoding(Br))throw new TypeError("Unknown encoding: "+Br);if(y.length===1){const Qr=y.charCodeAt(0);(Br==="utf8"&&Qr<128||Br==="latin1")&&(y=Qr)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(_r<0||this.length<_r||this.length<$r)throw new RangeError("Out of range index");if($r<=_r)return this;_r=_r>>>0,$r=$r===void 0?this.length:$r>>>0,y||(y=0);let Wr;if(typeof y=="number")for(Wr=_r;Wr<$r;++Wr)this[Wr]=y;else{const Qr=c.isBuffer(y)?y:c.from(y,Br),In=Qr.length;if(In===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(Wr=0;Wr<$r-_r;++Wr)this[Wr+_r]=Qr[Wr%In]}return this};const gn={};function yn(wr,y,_r){gn[wr]=class extends _r{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${wr}]`,this.stack,delete this.name}get code(){return wr}set code(Br){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Br,writable:!0})}toString(){return`${this.name} [${wr}]: ${this.message}`}}}yn("ERR_BUFFER_OUT_OF_BOUNDS",function(wr){return wr?`${wr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),yn("ERR_INVALID_ARG_TYPE",function(wr,y){return`The "${wr}" argument must be of type number. Received type ${typeof y}`},TypeError),yn("ERR_OUT_OF_RANGE",function(wr,y,_r){let $r=`The value of "${wr}" is out of range.`,Br=_r;return Number.isInteger(_r)&&Math.abs(_r)>2**32?Br=Tn(String(_r)):typeof _r=="bigint"&&(Br=String(_r),(_r>BigInt(2)**BigInt(32)||_r<-(BigInt(2)**BigInt(32)))&&(Br=Tn(Br)),Br+="n"),$r+=` It must be ${y}. Received ${Br}`,$r},RangeError);function Tn(wr){let y="",_r=wr.length;const $r=wr[0]==="-"?1:0;for(;_r>=$r+4;_r-=3)y=`_${wr.slice(_r-3,_r)}${y}`;return`${wr.slice(0,_r)}${y}`}function Dn(wr,y,_r){cn(y,"offset"),(wr[y]===void 0||wr[y+_r]===void 0)&&fn(y,wr.length-(_r+1))}function sn(wr,y,_r,$r,Br,Wr){if(wr>_r||wr<y){const Qr=typeof y=="bigint"?"n":"";let In;throw Wr>3?y===0||y===BigInt(0)?In=`>= 0${Qr} and < 2${Qr} ** ${(Wr+1)*8}${Qr}`:In=`>= -(2${Qr} ** ${(Wr+1)*8-1}${Qr}) and < 2 ** ${(Wr+1)*8-1}${Qr}`:In=`>= ${y}${Qr} and <= ${_r}${Qr}`,new gn.ERR_OUT_OF_RANGE("value",In,wr)}Dn($r,Br,Wr)}function cn(wr,y){if(typeof wr!="number")throw new gn.ERR_INVALID_ARG_TYPE(y,"number",wr)}function fn(wr,y,_r){throw Math.floor(wr)!==wr?(cn(wr,_r),new gn.ERR_OUT_OF_RANGE(_r||"offset","an integer",wr)):y<0?new gn.ERR_BUFFER_OUT_OF_BOUNDS:new gn.ERR_OUT_OF_RANGE(_r||"offset",`>= ${_r?1:0} and <= ${y}`,wr)}const Sn=/[^+/0-9A-Za-z-_]/g;function On(wr){if(wr=wr.split("=")[0],wr=wr.trim().replace(Sn,""),wr.length<2)return"";for(;wr.length%4!==0;)wr=wr+"=";return wr}function An(wr,y){y=y||1/0;let _r;const $r=wr.length;let Br=null;const Wr=[];for(let Qr=0;Qr<$r;++Qr){if(_r=wr.charCodeAt(Qr),_r>55295&&_r<57344){if(!Br){if(_r>56319){(y-=3)>-1&&Wr.push(239,191,189);continue}else if(Qr+1===$r){(y-=3)>-1&&Wr.push(239,191,189);continue}Br=_r;continue}if(_r<56320){(y-=3)>-1&&Wr.push(239,191,189),Br=_r;continue}_r=(Br-55296<<10|_r-56320)+65536}else Br&&(y-=3)>-1&&Wr.push(239,191,189);if(Br=null,_r<128){if((y-=1)<0)break;Wr.push(_r)}else if(_r<2048){if((y-=2)<0)break;Wr.push(_r>>6|192,_r&63|128)}else if(_r<65536){if((y-=3)<0)break;Wr.push(_r>>12|224,_r>>6&63|128,_r&63|128)}else if(_r<1114112){if((y-=4)<0)break;Wr.push(_r>>18|240,_r>>12&63|128,_r>>6&63|128,_r&63|128)}else throw new Error("Invalid code point")}return Wr}function Ln(wr){const y=[];for(let _r=0;_r<wr.length;++_r)y.push(wr.charCodeAt(_r)&255);return y}function pn(wr,y){let _r,$r,Br;const Wr=[];for(let Qr=0;Qr<wr.length&&!((y-=2)<0);++Qr)_r=wr.charCodeAt(Qr),$r=_r>>8,Br=_r%256,Wr.push(Br),Wr.push($r);return Wr}function kn(wr){return e.toByteArray(On(wr))}function En(wr,y,_r,$r){let Br;for(Br=0;Br<$r&&!(Br+_r>=y.length||Br>=wr.length);++Br)y[Br+_r]=wr[Br];return Br}function Un(wr,y){return wr instanceof y||wr!=null&&wr.constructor!=null&&wr.constructor.name!=null&&wr.constructor.name===y.name}function Fn(wr){return wr!==wr}const Kn=function(){const wr="0123456789abcdef",y=new Array(256);for(let _r=0;_r<16;++_r){const $r=_r*16;for(let Br=0;Br<16;++Br)y[$r+Br]=wr[_r]+wr[Br]}return y}();function jn(wr){return typeof BigInt>"u"?zn:wr}function zn(){throw new Error("BigInt not supported")}})(buffer$1);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=buffer$1,n=r.Buffer;function o(a,c){for(var d in a)c[d]=a[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s);function s(a,c,d){return n(a,c,d)}s.prototype=Object.create(n.prototype),o(n,s),s.from=function(a,c,d){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,c,d)},s.alloc=function(a,c,d){if(typeof a!="number")throw new TypeError("Argument must be a number");var m=n(a);return c!==void 0?typeof d=="string"?m.fill(c,d):m.fill(c):m.fill(0),m},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(safeBuffer,safeBuffer.exports);var _Buffer=safeBuffer.exports.Buffer;function base(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=n}var a=t.length,c=t.charAt(0),d=Math.log(a)/Math.log(256),m=Math.log(256)/Math.log(a);function gr(Tr){if((Array.isArray(Tr)||Tr instanceof Uint8Array)&&(Tr=_Buffer.from(Tr)),!_Buffer.isBuffer(Tr))throw new TypeError("Expected Buffer");if(Tr.length===0)return"";for(var Rr=0,kr=0,xr=0,Dr=Tr.length;xr!==Dr&&Tr[xr]===0;)xr++,Rr++;for(var Ur=(Dr-xr)*m+1>>>0,Cr=new Uint8Array(Ur);xr!==Dr;){for(var Nr=Tr[xr],Hr=0,Mr=Ur-1;(Nr!==0||Hr<kr)&&Mr!==-1;Mr--,Hr++)Nr+=256*Cr[Mr]>>>0,Cr[Mr]=Nr%a>>>0,Nr=Nr/a>>>0;if(Nr!==0)throw new Error("Non-zero carry");kr=Hr,xr++}for(var Fr=Ur-kr;Fr!==Ur&&Cr[Fr]===0;)Fr++;for(var Vr=c.repeat(Rr);Fr<Ur;++Fr)Vr+=t.charAt(Cr[Fr]);return Vr}function vr(Tr){if(typeof Tr!="string")throw new TypeError("Expected String");if(Tr.length===0)return _Buffer.alloc(0);for(var Rr=0,kr=0,xr=0;Tr[Rr]===c;)kr++,Rr++;for(var Dr=(Tr.length-Rr)*d+1>>>0,Ur=new Uint8Array(Dr);Tr[Rr];){var Cr=e[Tr.charCodeAt(Rr)];if(Cr===255)return;for(var Nr=0,Hr=Dr-1;(Cr!==0||Nr<xr)&&Hr!==-1;Hr--,Nr++)Cr+=a*Ur[Hr]>>>0,Ur[Hr]=Cr%256>>>0,Cr=Cr/256>>>0;if(Cr!==0)throw new Error("Non-zero carry");xr=Nr,Rr++}for(var Mr=Dr-xr;Mr!==Dr&&Ur[Mr]===0;)Mr++;var Fr=_Buffer.allocUnsafe(kr+(Dr-Mr));Fr.fill(0,0,kr);for(var Vr=kr;Mr!==Dr;)Fr[Vr++]=Ur[Mr++];return Fr}function Ar(Tr){var Rr=vr(Tr);if(Rr)return Rr;throw new Error("Non-base"+a+" character")}return{encode:gr,decodeUnsafe:vr,decode:Ar}}var src=base,basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);function isVersionedTransaction(t){return"version"in t}var __classPrivateFieldSet$1=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},__classPrivateFieldGet$1=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},_StandardWalletAdapter_instances,_StandardWalletAdapter_account,_StandardWalletAdapter_publicKey,_StandardWalletAdapter_connecting,_StandardWalletAdapter_off,_StandardWalletAdapter_wallet,_StandardWalletAdapter_supportedTransactionVersions,_StandardWalletAdapter_readyState,_StandardWalletAdapter_connected,_StandardWalletAdapter_disconnected,_StandardWalletAdapter_changed,_StandardWalletAdapter_signTransaction,_StandardWalletAdapter_signAllTransactions,_StandardWalletAdapter_signMessage;function isWalletAdapterCompatibleWallet(t){return"standard:connect"in t.features&&"standard:events"in t.features&&("solana:signAndSendTransaction"in t.features||"solana:signTransaction"in t.features)}class StandardWalletAdapter extends BaseWalletAdapter{constructor({wallet:e}){super(),_StandardWalletAdapter_instances.add(this),_StandardWalletAdapter_account.set(this,void 0),_StandardWalletAdapter_publicKey.set(this,void 0),_StandardWalletAdapter_connecting.set(this,void 0),_StandardWalletAdapter_off.set(this,void 0),_StandardWalletAdapter_wallet.set(this,void 0),_StandardWalletAdapter_supportedTransactionVersions.set(this,void 0),_StandardWalletAdapter_readyState.set(this,typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.Installed),_StandardWalletAdapter_changed.set(this,n=>{if(!__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f")||!__classPrivateFieldGet$1(this,_StandardWalletAdapter_publicKey,"f")||!("accounts"in n))return;const o=__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts[0];if(!o){__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this),this.emit("error",new WalletDisconnectedError),this.emit("disconnect");return}if(o===__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f"))return;let s;try{s=new PublicKey(o.publicKey)}catch(a){__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this),this.emit("error",new WalletPublicKeyError(a==null?void 0:a.message)),this.emit("disconnect");return}__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,o,s),this.emit("connect",s)}),__classPrivateFieldSet$1(this,_StandardWalletAdapter_wallet,e,"f");const r="solana:signAndSendTransaction"in e.features?e.features["solana:signAndSendTransaction"].supportedTransactionVersions:e.features["solana:signTransaction"].supportedTransactionVersions;__classPrivateFieldSet$1(this,_StandardWalletAdapter_supportedTransactionVersions,arraysEqual(r,["legacy"])?null:new Set(r),"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_account,null,"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_publicKey,null,"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_connecting,!1,"f")}get supportedTransactionVersions(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_supportedTransactionVersions,"f")}get name(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").name}get icon(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").icon}get url(){return"https://github.com/wallet-standard"}get publicKey(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_publicKey,"f")}get connecting(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_connecting,"f")}get readyState(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_readyState,"f")}get wallet(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f")}get standard(){return!0}async connect(){try{if(this.connected||this.connecting)return;if(__classPrivateFieldGet$1(this,_StandardWalletAdapter_readyState,"f")!==WalletReadyState.Installed)throw new WalletNotReadyError;if(__classPrivateFieldSet$1(this,_StandardWalletAdapter_connecting,!0,"f"),!__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts.length)try{await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["standard:connect"].connect()}catch(n){throw new WalletConnectionError(n==null?void 0:n.message,n)}if(!__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts.length)throw new WalletAccountError;const e=__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts[0];let r;try{r=new PublicKey(e.publicKey)}catch(n){throw new WalletPublicKeyError(n==null?void 0:n.message,n)}__classPrivateFieldSet$1(this,_StandardWalletAdapter_off,__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["standard:events"].on("change",__classPrivateFieldGet$1(this,_StandardWalletAdapter_changed,"f")),"f"),__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,e,r),this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{__classPrivateFieldSet$1(this,_StandardWalletAdapter_connecting,!1,"f")}}async disconnect(){if("standard:disconnect"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features)try{await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["standard:disconnect"].disconnect()}catch(e){this.emit("error",new WalletDisconnectionError(e==null?void 0:e.message,e))}__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this),this.emit("disconnect")}async sendTransaction(e,r,n={}){try{const o=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!o)throw new WalletNotConnectedError;let s;if("solana:signAndSendTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features)if(o.features.includes("solana:signAndSendTransaction"))s="solana:signAndSendTransaction";else if("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features&&o.features.includes("solana:signTransaction"))s="solana:signTransaction";else throw new WalletAccountError;else if("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features){if(!o.features.includes("solana:signTransaction"))throw new WalletAccountError;s="solana:signTransaction"}else throw new WalletConfigError;const a=getChainForEndpoint(r.rpcEndpoint);if(!o.chains.includes(a))throw new WalletSendTransactionError;try{const{signers:c,...d}=n;let m;if(isVersionedTransaction(e)?(c!=null&&c.length&&e.sign(c),m=e.serialize()):(e=await this.prepareTransaction(e,r,d),c!=null&&c.length&&e.partialSign(...c),m=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s==="solana:signAndSendTransaction"){const[gr]=await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signAndSendTransaction"].signAndSendTransaction({account:o,chain:a,transaction:m,options:{preflightCommitment:getCommitment(d.preflightCommitment||r.commitment),skipPreflight:d.skipPreflight,maxRetries:d.maxRetries,minContextSlot:d.minContextSlot}});return bs58.encode(gr.signature)}else{const[gr]=await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signTransaction"].signTransaction({account:o,chain:a,transaction:m,options:{preflightCommitment:getCommitment(d.preflightCommitment||r.commitment),minContextSlot:d.minContextSlot}});return await r.sendRawTransaction(gr.signedTransaction,{...d,preflightCommitment:getCommitment(d.preflightCommitment||r.commitment)})}}catch(c){throw c instanceof WalletError?c:new WalletSendTransactionError(c==null?void 0:c.message,c)}}catch(o){throw this.emit("error",o),o}}}_StandardWalletAdapter_account=new WeakMap,_StandardWalletAdapter_publicKey=new WeakMap,_StandardWalletAdapter_connecting=new WeakMap,_StandardWalletAdapter_off=new WeakMap,_StandardWalletAdapter_wallet=new WeakMap,_StandardWalletAdapter_supportedTransactionVersions=new WeakMap,_StandardWalletAdapter_readyState=new WeakMap,_StandardWalletAdapter_changed=new WeakMap,_StandardWalletAdapter_instances=new WeakSet,_StandardWalletAdapter_connected=function(e,r){__classPrivateFieldSet$1(this,_StandardWalletAdapter_account,e,"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_publicKey,r,"f"),e!=null&&e.features.includes("solana:signTransaction")?(this.signTransaction=__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signTransaction),this.signAllTransactions=__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signAllTransactions)):(delete this.signTransaction,delete this.signAllTransactions),e!=null&&e.features.includes("solana:signMessage")?this.signMessage=__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signMessage):delete this.signMessage},_StandardWalletAdapter_disconnected=function(){const e=__classPrivateFieldGet$1(this,_StandardWalletAdapter_off,"f");e&&(__classPrivateFieldSet$1(this,_StandardWalletAdapter_off,void 0,"f"),e()),__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,null,null)},_StandardWalletAdapter_signTransaction=async function(e){try{const r=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!r)throw new WalletNotConnectedError;if(!("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!r.features.includes("solana:signTransaction"))throw new WalletAccountError;try{const o=(await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signTransaction"].signTransaction({account:r,transaction:isVersionedTransaction(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return isVersionedTransaction(e)?VersionedTransaction.deserialize(o):Transaction.from(o)}catch(n){throw n instanceof WalletError?n:new WalletSignTransactionError(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},_StandardWalletAdapter_signAllTransactions=async function(e){try{const r=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!r)throw new WalletNotConnectedError;if(!("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!r.features.includes("solana:signTransaction"))throw new WalletSignTransactionError;try{const n=await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signTransaction"].signTransaction(...e.map(o=>({account:r,transaction:isVersionedTransaction(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((o,s)=>{const a=n[s].signedTransaction;return isVersionedTransaction(o)?VersionedTransaction.deserialize(a):Transaction.from(a)})}catch(n){throw new WalletSignTransactionError(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},_StandardWalletAdapter_signMessage=async function(e){try{const r=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!r)throw new WalletNotConnectedError;if(!("solana:signMessage"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!r.features.includes("solana:signMessage"))throw new WalletSignMessageError;try{return(await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signMessage"].signMessage({account:r,message:e}))[0].signature}catch(n){throw new WalletSignMessageError(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}};var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},_AppReadyEvent_detail;let wallets;const registered=new Set,listeners={};function getWallets(){if(wallets||(wallets=Object.freeze({register,get:get$1,on}),typeof window>"u"))return wallets;const t=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new AppReadyEvent(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return wallets}function register(...t){var e;return t=t.filter(r=>!registered.has(r)),t.length?(t.forEach(r=>registered.add(r)),(e=listeners.register)==null||e.forEach(r=>guard(()=>r(...t))),function(){var n;t.forEach(o=>registered.delete(o)),(n=listeners.unregister)==null||n.forEach(o=>guard(()=>o(...t)))}):()=>{}}function get$1(){return[...registered]}function on(t,e){var r;return(r=listeners[t])!=null&&r.push(e)||(listeners[t]=[e]),function(){var o;listeners[t]=(o=listeners[t])==null?void 0:o.filter(s=>e!==s)}}function guard(t){try{t()}catch(e){console.error(e)}}class AppReadyEvent extends Event{constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),__classPrivateFieldSet(this,_AppReadyEvent_detail,e,"f")}get detail(){return __classPrivateFieldGet(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_AppReadyEvent_detail=new WeakMap;function DEPRECATED_getWallets(){if(wallets||(wallets=getWallets(),typeof window>"u"))return wallets;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),wallets;const{register:e}=wallets,r=(...n)=>n.forEach(o=>guard(()=>o({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch{return console.error("window.navigator.wallets could not be set"),wallets}return r(...t),wallets}function useStandardWalletAdapters(t){const e=new Set,{get:r,on:n}=DEPRECATED_getWallets(),o=shallowRef(wrapWalletsInAdapters(r()));return watchEffect(s=>{const a=[n("register",(...c)=>o.value=[...o.value,...wrapWalletsInAdapters(c)]),n("unregister",(...c)=>o.value=o.value.filter(d=>c.some(m=>m===d.wallet)))];s(()=>a.forEach(c=>c()))}),computed$1(()=>[...o.value,...t.value.filter(({name:s})=>o.value.some(a=>a.name===s)?(e.has(s)||(e.add(s),console.warn(`${s} was registered as a Standard Wallet. The Wallet Adapter for ${s} can be removed from your app.`)),!1):!0)])}function wrapWalletsInAdapters(t){return t.filter(isWalletAdapterCompatibleWallet).map(e=>new StandardWalletAdapter({wallet:e}))}function useTransactionMethods(t,e){const r=async(a,c,d)=>{var m;const gr=(m=t.value)==null?void 0:m.adapter;if(!gr)throw e(new WalletNotSelectedError);if(!gr.connected)throw e(new WalletNotConnectedError,gr);return await gr.sendTransaction(a,c,d)},n=computed$1(()=>{var a;const c=(a=t.value)==null?void 0:a.adapter;if(!!(c&&"signTransaction"in c))return async d=>{if(!c.connected)throw e(new WalletNotConnectedError);return await c.signTransaction(d)}}),o=computed$1(()=>{var a;const c=(a=t.value)==null?void 0:a.adapter;if(!!(c&&"signAllTransactions"in c))return async d=>{if(!c.connected)throw e(new WalletNotConnectedError);return await c.signAllTransactions(d)}}),s=computed$1(()=>{var a;const c=(a=t.value)==null?void 0:a.adapter;if(!!(c&&"signMessage"in c))return async d=>{if(!c.connected)throw e(new WalletNotConnectedError);return await c.signMessage(d)}});return{sendTransaction:r,signTransaction:n,signAllTransactions:o,signMessage:s}}function useUnloadingWindow(t){const e=ref(!1);return typeof window>"u"||watchEffect(r=>{if(t.value)return;const n=()=>e.value=!0;window.addEventListener("beforeunload",n),r(()=>window.removeEventListener("beforeunload",n))}),e}function useWalletState(t,e){const r=shallowRef(null),n=ref(null),o=ref(!1),s=ref(WalletReadyState.Unsupported),a=computed$1(()=>s.value===WalletReadyState.Installed||s.value===WalletReadyState.Loadable),c=()=>{var d,m,gr,vr,Ar,Tr;n.value=(m=(d=r.value)==null?void 0:d.adapter.publicKey)!=null?m:null,o.value=(vr=(gr=r.value)==null?void 0:gr.adapter.connected)!=null?vr:!1,s.value=(Tr=(Ar=r.value)==null?void 0:Ar.readyState)!=null?Tr:WalletReadyState.Unsupported};return watchEffect(()=>{var d;r.value=e.value&&(d=t.value.find(({adapter:m})=>m.name===e.value))!=null?d:null,c()}),{wallet:r,publicKey:n,connected:o,readyState:s,ready:a,refreshWalletState:c}}function useWrapAdaptersInWallets(t){const e=shallowRef([]);return watchEffect(()=>{e.value=t.value.map(r=>({adapter:r,readyState:r.readyState}))}),e}const createWalletStore=({wallets:t=[],autoConnect:e=!1,cluster:r="mainnet-beta",onError:n,localStorageKey:o="walletName"})=>{const s=ref(r),a=ref(!1),c=ref(!1),d=shallowRef(t),m=useStandardWalletAdapters(d),{isMobile:gr,uriForAppIdentity:vr}=useEnvironment(m),Ar=useMobileWalletAdapters(m,gr,vr,s),Tr=useWrapAdaptersInWallets(Ar),{name:Rr,isUsingMwaAdapterOnMobile:kr,select:xr,deselect:Dr}=useSelectWalletName(o,gr),{wallet:Ur,publicKey:Cr,connected:Nr,readyState:Hr,ready:Mr,refreshWalletState:Fr}=useWalletState(Tr,Rr),Vr=useUnloadingWindow(kr),Xr=useErrorHandler(Vr,n);useReadyStateListeners(Tr),useAdapterListeners(Ur,Vr,kr,Dr,Fr,Xr);const Yr=useAutoConnect(e,Ur,kr,a,Nr,Mr,Dr),{sendTransaction:tn,signTransaction:an,signAllTransactions:Lr,signMessage:Er}=useTransactionMethods(Ur,Xr);return{wallets:Tr,autoConnect:Yr,cluster:s,wallet:Ur,publicKey:Cr,readyState:Hr,ready:Mr,connected:Nr,connecting:a,disconnecting:c,select:xr,connect:async()=>{if(Nr.value||a.value||c.value)return;if(!Ur.value)throw Xr(new WalletNotSelectedError);const Gr=Ur.value.adapter;if(!Mr.value)throw Xr(new WalletNotReadyError,Gr);try{a.value=!0,await Gr.connect()}catch(qr){throw Dr(),qr}finally{a.value=!1}},disconnect:async()=>{if(!(c.value||!Ur.value))try{c.value=!0,await Ur.value.adapter.disconnect()}finally{c.value=!1}},sendTransaction:tn,signTransaction:an,signAllTransactions:Lr,signMessage:Er}};let walletStore=null;const useWallet=()=>{if(walletStore)return walletStore;throw new WalletNotInitializedError("Wallet not initialized. Please use the `initWallet` method to initialize the wallet.")},initWallet=t=>{walletStore=createWalletStore(t)},_sfc_main$4=defineComponent({props:{wallet:Object},setup(t){return toRefs(t)}}),_export_sfc=(t,e)=>{const r=t.__vccOpts||t;for(const[n,o]of e)r[n]=o;return r},_hoisted_1$4={class:"swv-button-icon"},_hoisted_2$4=["src","alt"];function _sfc_render$4(t,e,r,n,o,s){return openBlock(),createElementBlock("i",_hoisted_1$4,[t.wallet?(openBlock(),createElementBlock("img",{key:0,src:t.wallet.adapter.icon,alt:`${t.wallet.adapter.name} icon`},null,8,_hoisted_2$4)):createCommentVNode("",!0)])}const WalletIcon=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),_sfc_main$3=defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(t,{emit:e}){const{disabled:r}=toRefs(t),{wallet:n,connect:o,connecting:s,connected:a}=useWallet(),c=computed$1(()=>s.value?"Connecting ...":a.value?"Connected":n.value?"Connect":"Connect Wallet"),m={wallet:n,disabled:r,connecting:s,connected:a,content:c,onClick:gr=>{e("click",gr),!gr.defaultPrevented&&o().catch(()=>{})}};return{scope:m,...m}}}),_hoisted_1$3=["disabled"],_hoisted_2$3=["textContent"];function _sfc_render$3(t,e,r,n,o,s){const a=resolveComponent("wallet-icon");return renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps(t.scope)),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",disabled:t.disabled||!t.wallet||t.connecting||t.connected,onClick:e[0]||(e[0]=(...c)=>t.onClick&&t.onClick(...c))},[t.wallet?(openBlock(),createBlock(a,{key:0,wallet:t.wallet},null,8,["wallet"])):createCommentVNode("",!0),createBaseVNode("p",{textContent:toDisplayString(t.content)},null,8,_hoisted_2$3)],8,_hoisted_1$3)])}const WalletConnectButton=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]);defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(t,{emit:e}){const{disabled:r}=toRefs(t),{wallet:n,disconnect:o,disconnecting:s}=useWallet(),a=computed$1(()=>s.value?"Disconnecting ...":n.value?"Disconnect":"Disconnect Wallet"),d={wallet:n,disconnecting:s,disabled:r,content:a,handleClick:m=>{e("click",m),!m.defaultPrevented&&o().catch(()=>{})}};return{scope:d,...d}}});const _sfc_main$1=defineComponent({components:{WalletIcon},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(t,{slots:e}){const{featured:r,container:n,logo:o,dark:s}=toRefs(t),a=ref(null),c=ref(!1),d=()=>c.value=!0,m=()=>c.value=!1,gr=computed$1(()=>!!e.logo||!!o.value),{wallets:vr,select:Ar}=useWallet(),Tr=computed$1(()=>{const Nr=[],Hr=[],Mr=[];return vr.value.forEach(Fr=>{Fr.readyState===WalletReadyState.NotDetected?Hr.push(Fr):Fr.readyState===WalletReadyState.Loadable?Mr.push(Fr):Fr.readyState===WalletReadyState.Installed&&Nr.push(Fr)}),[...Nr,...Mr,...Hr]}),Rr=ref(!1),kr=computed$1(()=>Tr.value.slice(0,r.value)),xr=computed$1(()=>Tr.value.slice(r.value)),Dr=computed$1(()=>Rr.value?vr.value:kr.value);onClickOutside(a,m),onKeyStroke("Escape",m),onKeyStroke("Tab",Nr=>{var Hr,Mr;const Fr=(Mr=(Hr=a.value)==null?void 0:Hr.querySelectorAll("button"))!=null?Mr:[],Vr=Fr==null?void 0:Fr[0],Xr=Fr==null?void 0:Fr[Fr.length-1];Nr.shiftKey&&document.activeElement===Vr&&Xr?(Xr.focus(),Nr.preventDefault()):!Nr.shiftKey&&document.activeElement===Xr&&Vr&&(Vr.focus(),Nr.preventDefault())}),watch(c,Nr=>{!Nr||nextTick(()=>{var Hr,Mr,Fr;return(Fr=(Mr=(Hr=a.value)==null?void 0:Hr.querySelectorAll("button"))==null?void 0:Mr[0])==null?void 0:Fr.focus()})});const Ur=useScrollLock(document.body);watch(c,Nr=>Ur.value=Nr);const Cr={dark:s,logo:o,hasLogo:gr,featured:r,container:n,modalPanel:a,modalOpened:c,openModal:d,closeModal:m,expandedWallets:Rr,walletsToDisplay:Dr,featuredWallets:kr,hiddenWallets:xr,selectWallet:Ar};return{scope:Cr,...Cr}}}),_hoisted_1$1=createBaseVNode("div",{class:"swv-modal-overlay"},null,-1),_hoisted_2$1={class:"swv-modal-container",ref:"modalPanel"},_hoisted_3$1={key:0,class:"swv-modal-logo-wrapper"},_hoisted_4$1=["src"],_hoisted_5$1=createBaseVNode("h1",{class:"swv-modal-title",id:"swv-modal-title"},"Connect Wallet",-1),_hoisted_6=createBaseVNode("svg",{width:"14",height:"14"},[createBaseVNode("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})],-1),_hoisted_7=[_hoisted_6],_hoisted_8={class:"swv-modal-list"},_hoisted_9=["onClick"],_hoisted_10={class:"swv-button"},_hoisted_11=["textContent"],_hoisted_12={key:0,class:"swv-wallet-status"},_hoisted_13=["aria-expanded"],_hoisted_14=createBaseVNode("i",{class:"swv-button-icon"},[createBaseVNode("svg",{width:"11",height:"6",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z"})])],-1);function _sfc_render$1(t,e,r,n,o,s){const a=resolveComponent("wallet-icon");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:normalizeClass(t.dark?"swv-dark":"")},[renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps(t.scope)))],2),t.modalOpened?(openBlock(),createBlock(Teleport,{key:0,to:t.container},[createBaseVNode("div",{"aria-labelledby":"swv-modal-title","aria-modal":"true",class:normalizeClass(["swv-modal",t.dark?"swv-dark":""]),role:"dialog"},[renderSlot(t.$slots,"overlay",normalizeProps(guardReactiveProps(t.scope)),()=>[_hoisted_1$1]),createBaseVNode("div",_hoisted_2$1,[renderSlot(t.$slots,"modal",normalizeProps(guardReactiveProps(t.scope)),()=>[createBaseVNode("div",{class:normalizeClass(["swv-modal-wrapper",{"swv-modal-wrapper-no-logo":!t.hasLogo}])},[t.hasLogo?(openBlock(),createElementBlock("div",_hoisted_3$1,[renderSlot(t.$slots,"logo",normalizeProps(guardReactiveProps(t.scope)),()=>[createBaseVNode("img",{alt:"logo",class:"swv-modal-logo",src:t.logo},null,8,_hoisted_4$1)])])):createCommentVNode("",!0),_hoisted_5$1,createBaseVNode("button",{onClick:e[0]||(e[0]=withModifiers((...c)=>t.closeModal&&t.closeModal(...c),["prevent"])),class:"swv-modal-button-close"},_hoisted_7),createBaseVNode("ul",_hoisted_8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.walletsToDisplay,c=>(openBlock(),createElementBlock("li",{key:c.adapter.name,onClick:d=>{t.selectWallet(c.adapter.name),t.closeModal()}},[createBaseVNode("button",_hoisted_10,[createVNode(a,{wallet:c},null,8,["wallet"]),createBaseVNode("p",{textContent:toDisplayString(c.adapter.name)},null,8,_hoisted_11),c.readyState==="Installed"?(openBlock(),createElementBlock("div",_hoisted_12," Detected ")):createCommentVNode("",!0)])],8,_hoisted_9))),128))]),t.hiddenWallets.length>0?(openBlock(),createElementBlock("button",{key:1,"aria-controls":"swv-modal-collapse","aria-expanded":t.expandedWallets,class:normalizeClass(["swv-button swv-modal-collapse-button",{"swv-modal-collapse-button-active":t.expandedWallets}]),onClick:e[1]||(e[1]=c=>t.expandedWallets=!t.expandedWallets)},[createTextVNode(toDisplayString(t.expandedWallets?"Less":"More")+" options ",1),_hoisted_14],10,_hoisted_13)):createCommentVNode("",!0)],2)])],512)],2)],8,["to"])):createCommentVNode("",!0)],64)}const WalletModalProvider=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main$2=defineComponent({components:{WalletConnectButton,WalletIcon,WalletModalProvider},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(t){const{featured:e,container:r,logo:n,dark:o}=toRefs(t),{publicKey:s,wallet:a,disconnect:c}=useWallet(),d=ref(),m=ref(!1),gr=()=>{m.value=!0},vr=()=>{m.value=!1};onClickOutside(d,vr);const Ar=computed$1(()=>{var Cr;return(Cr=s.value)==null?void 0:Cr.toBase58()}),Tr=computed$1(()=>!a.value||!Ar.value?null:Ar.value.slice(0,4)+".."+Ar.value.slice(-4)),{copy:Rr,copied:kr,isSupported:xr}=useClipboard(),Ur={featured:e,container:r,logo:n,dark:o,wallet:a,publicKey:s,publicKeyTrimmed:Tr,publicKeyBase58:Ar,canCopy:xr,addressCopied:kr,dropdownPanel:d,dropdownOpened:m,openDropdown:gr,closeDropdown:vr,copyAddress:()=>Ar.value&&Rr(Ar.value),disconnect:c};return{scope:Ur,...Ur}}}),_hoisted_1=["onClick"],_hoisted_2={key:2,class:"swv-dropdown"},_hoisted_3=["aria-expanded","title"],_hoisted_4=["textContent"],_hoisted_5=["onClick"];function _sfc_render(t,e,r,n,o,s){const a=resolveComponent("wallet-connect-button"),c=resolveComponent("wallet-icon"),d=resolveComponent("wallet-modal-provider");return openBlock(),createBlock(d,{featured:t.featured,container:t.container,logo:t.logo,dark:t.dark},{default:withCtx(m=>[renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps({...m,...t.scope})),()=>[t.wallet?t.publicKeyBase58?(openBlock(),createElementBlock("div",_hoisted_2,[renderSlot(t.$slots,"dropdown-button",normalizeProps(guardReactiveProps({...m,...t.scope})),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",style:normalizeStyle({pointerEvents:t.dropdownOpened?"none":"auto"}),"aria-expanded":t.dropdownOpened,title:t.publicKeyBase58,onClick:e[0]||(e[0]=(...gr)=>t.openDropdown&&t.openDropdown(...gr))},[createVNode(c,{wallet:t.wallet},null,8,["wallet"]),createBaseVNode("p",{textContent:toDisplayString(t.publicKeyTrimmed)},null,8,_hoisted_4)],12,_hoisted_3)]),renderSlot(t.$slots,"dropdown",normalizeProps(guardReactiveProps({...m,...t.scope})),()=>[createBaseVNode("ul",{"aria-label":"dropdown-list",class:normalizeClass(["swv-dropdown-list",{"swv-dropdown-list-active":t.dropdownOpened}]),ref:"dropdownPanel",role:"menu"},[renderSlot(t.$slots,"dropdown-list",normalizeProps(guardReactiveProps({...m,...t.scope})),()=>[t.canCopy?(openBlock(),createElementBlock("li",{key:0,onClick:e[1]||(e[1]=(...gr)=>t.copyAddress&&t.copyAddress(...gr)),class:"swv-dropdown-list-item",role:"menuitem"},toDisplayString(t.addressCopied?"Copied":"Copy address"),1)):createCommentVNode("",!0),createBaseVNode("li",{onClick:gr=>{m.openModal(),t.closeDropdown()},class:"swv-dropdown-list-item",role:"menuitem"}," Change wallet ",8,_hoisted_5),createBaseVNode("li",{onClick:e[2]||(e[2]=gr=>{t.disconnect(),t.closeDropdown()}),class:"swv-dropdown-list-item",role:"menuitem"}," Disconnect ")])],2)])])):(openBlock(),createBlock(a,{key:1})):(openBlock(),createElementBlock("button",{key:0,class:"swv-button swv-button-trigger",onClick:m.openModal}," Select Wallet ",8,_hoisted_1))])]),overlay:withCtx(m=>[renderSlot(t.$slots,"modal-overlay",normalizeProps(guardReactiveProps({...m,...t.scope})))]),modal:withCtx(m=>[renderSlot(t.$slots,"modal",normalizeProps(guardReactiveProps({...m,...t.scope})))]),_:3},8,["featured","container","logo","dark"])}const WalletMultiButton=_export_sfc(_sfc_main$2,[["render",_sfc_render]]),index={install:(t,e={})=>{initWallet(e),t.config.globalProperties.$wallet=useWallet()}},TOKEN_PROGRAM_ID$1=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const ASSOCIATED_TOKEN_PROGRAM_ID$1=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new PublicKey("So11111111111111111111111111111111111111112");new PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const useGlobalUserStore=defineStore("globalUserStore",{state:()=>({input_wallet:"",selected_symbol:useLocalStorage$1("selected_symbol","PX4USDC"),token_accounts:[],nft_accounts:[],nft_in_wallet:[],token_map:[],nft_map:[],is_loading:!1}),getters:{get_account_map(t){return t.token_accounts.map(e=>{const r=e.account.data.parsed.info;return{pubkey:e.pubkey.toString(),info:r,account:e,meta:useGlobalStore().token_list.find(n=>n.address===r.mint)}})},get_account_map_staratlas(t){return t.token_accounts.filter(e=>useGlobalStaratlasAPIStore().raw.some(r=>r.mint==e.account.data.parsed.info.mint)).map(e=>{const r=e.account.data.parsed.info;return{pubkey:e.pubkey.toString(),info:r,account:e,meta:useGlobalStore().token_list.find(n=>n.address===r.mint),staratlas:useGlobalStaratlasAPIStore().raw.find(n=>n.mint==r.mint)}})}},actions:{async update_accounts(t=void 0){this.is_loading=!0,this.token_accounts=[],(useWallet().publicKey.value||t)&&(this.token_accounts=[],this.token_accounts=(await useGlobalStore().connection.getParsedTokenAccountsByOwner(t||useWallet().publicKey.value,{programId:TOKEN_PROGRAM_ID$1})).value),this.is_loading=!1},switch_currency(){var t,e,r;switch((t=useGlobalStaratlasAPIStore().nfts.find(n=>n.symbol==this.selected_symbol))==null?void 0:t.currency.type){case E_Currency.ATLAS:this.selected_symbol=(e=useGlobalStaratlasAPIStore().nfts.find(n=>{var o,s;return n.mint_asset==((o=useGlobalStaratlasAPIStore().nfts.find(a=>a.symbol==this.selected_symbol))==null?void 0:o.mint_asset)&&n.mint_pair==((s=CURRENCIES.find(a=>a.type==E_Currency.USDC))==null?void 0:s.mint)}))==null?void 0:e.symbol;break;case E_Currency.USDC:this.selected_symbol=(r=useGlobalStaratlasAPIStore().nfts.find(n=>{var o,s;return n.mint_asset==((o=useGlobalStaratlasAPIStore().nfts.find(a=>a.symbol==this.selected_symbol))==null?void 0:o.mint_asset)&&n.mint_pair==((s=CURRENCIES.find(a=>a.type==E_Currency.ATLAS))==null?void 0:s.mint)}))==null?void 0:r.symbol;break}}}});var dist={},atlasStaking={},instruction_builders$1={},baseParams={};Object.defineProperty(baseParams,"__esModule",{value:!0});var cancelUnstake={},utils$1={},getStakingProgram$1={},camelcase={exports:{}};const preserveCamelCase=t=>{let e=!1,r=!1,n=!1;for(let o=0;o<t.length;o++){const s=t[o];e&&/[a-zA-Z]/.test(s)&&s.toUpperCase()===s?(t=t.slice(0,o)+"-"+t.slice(o),e=!1,n=r,r=!0,o++):r&&n&&/[a-zA-Z]/.test(s)&&s.toLowerCase()===s?(t=t.slice(0,o-1)+"-"+t.slice(o-1),n=r,r=!1,e=!0):(e=s.toLowerCase()===s&&s.toUpperCase()!==s,n=r,r=s.toUpperCase()===s&&s.toLowerCase()!==s)}return t},camelCase=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");e=Object.assign({pascalCase:!1},e);const r=o=>e.pascalCase?o.charAt(0).toUpperCase()+o.slice(1):o;return Array.isArray(t)?t=t.map(o=>o.trim()).filter(o=>o.length).join("-"):t=t.trim(),t.length===0?"":t.length===1?e.pascalCase?t.toUpperCase():t.toLowerCase():(t!==t.toLowerCase()&&(t=preserveCamelCase(t)),t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(o,s)=>s.toUpperCase()).replace(/\d+(\w|$)/g,o=>o.toUpperCase()),r(t))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var l=camelcase.exports,sha256={exports:{}};(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof dist$1.process=="object"&&dist$1.process.versions&&dist$1.process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(o){return e.create().update(o)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if(typeof t=="string")return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(t==null)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(o){return new HmacSha256(o,t)},e.update=function(o,s){return e.create(o).update(s)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if(r!=="string"){if(r==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var n,o=0,s,a=t.length,c=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),e)for(s=this.start;o<a&&s<64;++o)c[s>>2]|=t[o]<<SHIFT[s++&3];else for(s=this.start;o<a&&s<64;++o)n=t.charCodeAt(o),n<128?c[s>>2]|=n<<SHIFT[s++&3]:n<2048?(c[s>>2]|=(192|n>>6)<<SHIFT[s++&3],c[s>>2]|=(128|n&63)<<SHIFT[s++&3]):n<55296||n>=57344?(c[s>>2]|=(224|n>>12)<<SHIFT[s++&3],c[s>>2]|=(128|n>>6&63)<<SHIFT[s++&3],c[s>>2]|=(128|n&63)<<SHIFT[s++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++o)&1023),c[s>>2]|=(240|n>>18)<<SHIFT[s++&3],c[s>>2]|=(128|n>>12&63)<<SHIFT[s++&3],c[s>>2]|=(128|n>>6&63)<<SHIFT[s++&3],c[s>>2]|=(128|n&63)<<SHIFT[s++&3]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=c[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,s=this.h5,a=this.h6,c=this.h7,d=this.blocks,m,gr,vr,Ar,Tr,Rr,kr,xr,Dr,Ur,Cr;for(m=16;m<64;++m)Tr=d[m-15],gr=(Tr>>>7|Tr<<25)^(Tr>>>18|Tr<<14)^Tr>>>3,Tr=d[m-2],vr=(Tr>>>17|Tr<<15)^(Tr>>>19|Tr<<13)^Tr>>>10,d[m]=d[m-16]+gr+d[m-7]+vr<<0;for(Cr=e&r,m=0;m<64;m+=4)this.first?(this.is224?(xr=300032,Tr=d[0]-1413257819,c=Tr-150054599<<0,n=Tr+24177077<<0):(xr=704751109,Tr=d[0]-210244248,c=Tr-1521486534<<0,n=Tr+143694565<<0),this.first=!1):(gr=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),vr=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),xr=t&e,Ar=xr^t&r^Cr,kr=o&s^~o&a,Tr=c+vr+kr+K[m]+d[m],Rr=gr+Ar,c=n+Tr<<0,n=Tr+Rr<<0),gr=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),vr=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),Dr=n&t,Ar=Dr^n&e^xr,kr=c&o^~c&s,Tr=a+vr+kr+K[m+1]+d[m+1],Rr=gr+Ar,a=r+Tr<<0,r=Tr+Rr<<0,gr=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),vr=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),Ur=r&n,Ar=Ur^r&t^Dr,kr=a&c^~a&o,Tr=s+vr+kr+K[m+2]+d[m+2],Rr=gr+Ar,s=e+Tr<<0,e=Tr+Rr<<0,gr=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),vr=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),Cr=e&r,Ar=Cr^e&n^Ur,kr=s&a^~s&c,Tr=o+vr+kr+K[m+3]+d[m+3],Rr=gr+Ar,o=t+Tr<<0,t=Tr+Rr<<0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+o<<0,this.h5=this.h5+s<<0,this.h6=this.h6+a<<0,this.h7=this.h7+c<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,s=this.h5,a=this.h6,c=this.h7,d=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15];return this.is224||(d+=HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15]),d},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,s=this.h5,a=this.h6,c=this.h7,d=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,o>>24&255,o>>16&255,o>>8&255,o&255,s>>24&255,s>>16&255,s>>8&255,s&255,a>>24&255,a>>16&255,a>>8&255,a&255];return this.is224||d.push(c>>24&255,c>>16&255,c>>8&255,c&255),d},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};function HmacSha256(t,e,r){var n,o=typeof t;if(o==="string"){var s=[],a=t.length,c=0,d;for(n=0;n<a;++n)d=t.charCodeAt(n),d<128?s[c++]=d:d<2048?(s[c++]=192|d>>6,s[c++]=128|d&63):d<55296||d>=57344?(s[c++]=224|d>>12,s[c++]=128|d>>6&63,s[c++]=128|d&63):(d=65536+((d&1023)<<10|t.charCodeAt(++n)&1023),s[c++]=240|d>>18,s[c++]=128|d>>12&63,s[c++]=128|d>>6&63,s[c++]=128|d&63);t=s}else if(o==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);t.length>64&&(t=new Sha256(e,!0).update(t).array());var m=[],gr=[];for(n=0;n<64;++n){var vr=t[n]||0;m[n]=92^vr,gr[n]=54^vr}Sha256.call(this,e,r),this.update(gr),this.oKeyPad=m,this.inner=!0,this.sharedMemory=r}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);var lib={},Layout$2={};class Layout$1{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}Layout$2.Layout=Layout$1;function nameWithProperty$1(t,e){return e.property?t+"["+e.property+"]":t}Layout$2.nameWithProperty=nameWithProperty$1;function bindConstructorLayout(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:!0})}Layout$2.bindConstructorLayout=bindConstructorLayout;class ExternalLayout$1 extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout$1{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r){r===void 0&&(r=0);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}class OffsetLayout extends ExternalLayout$1{constructor(e,r,n){if(!(e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}}class UInt$1 extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class UIntBE extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}}class Int extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}}class IntBE extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(t){const e=Math.floor(t/V2E32),r=t-e*V2E32;return{hi32:e,lo32:r}}function roundedInt64(t,e){return t*V2E32+e}class NearUInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),o=e.readUInt32LE(r+4);return roundedInt64(o,n)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeUInt32LE(o.lo32,n),r.writeUInt32LE(o.hi32,n+4),8}}class NearUInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32BE(r),o=e.readUInt32BE(r+4);return roundedInt64(n,o)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeUInt32BE(o.hi32,n),r.writeUInt32BE(o.lo32,n+4),8}}class NearInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),o=e.readInt32LE(r+4);return roundedInt64(o,n)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeUInt32LE(o.lo32,n),r.writeInt32LE(o.hi32,n+4),8}}class NearInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readInt32BE(r),o=e.readUInt32BE(r+4);return roundedInt64(n,o)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeInt32BE(o.hi32,n),r.writeUInt32BE(o.lo32,n+4),8}}class Float extends Layout$1{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}}class FloatBE extends Layout$1{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}}class Double extends Layout$1{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}}class DoubleBE extends Layout$1{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}}class Sequence extends Layout$1{constructor(e,r,n){if(!(e instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ExternalLayout$1&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(r instanceof ExternalLayout$1)&&0<e.span&&(o=r*e.span),super(o,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,o=this.count;if(o instanceof ExternalLayout$1&&(o=o.decode(e,r)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let s=0;for(;s<o;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r){r===void 0&&(r=0);const n=[];let o=0,s=this.count;for(s instanceof ExternalLayout$1&&(s=s.decode(e,r));o<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),o+=1;return n}encode(e,r,n){n===void 0&&(n=0);const o=this.elementLayout,s=e.reduce((a,c)=>a+o.encode(c,r,n+a),0);return this.count instanceof ExternalLayout$1&&this.count.encode(e.length,r,n),s}}class Structure$1 extends Layout$1{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof Layout$1,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((o,s)=>{const a=s.getSpan(e,r);return r+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const o=n;let s=0,a=0;for(const c of this.fields){let d=c.span;if(a=0<d?d:0,c.property!==void 0){const m=e[c.property];m!==void 0&&(a=c.encode(m,r,n),0>d&&(d=c.getSpan(r,n)))}s=n,n+=d}return s+a-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class UnionDiscriminator{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(e,r){if(!(e instanceof ExternalLayout$1&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}class Union extends Layout$1{constructor(e,r,n){const o=e instanceof UInt$1||e instanceof UIntBE;if(o)e=new UnionLayoutDiscriminator(new OffsetLayout(e));else if(e instanceof ExternalLayout$1&&e.isCount())e=new UnionLayoutDiscriminator(e);else if(!(e instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&o&&(s+=e.layout.span)),super(s,n),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n;const o=this.discriminator,s=o.decode(e,r);let a=this.registry[s];if(a===void 0){let c=0;a=this.defaultLayout,this.usesPrefixDiscriminator&&(c=o.layout.span),n=this.makeDestinationObject(),n[o.property]=s,n[a.property]=this.defaultLayout.decode(e,r+c)}else n=a.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const o=this.getSourceVariant(e);if(o===void 0){const s=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return o.encode(e,r,n)}addVariant(e,r,n){const o=new VariantLayout(this,e,r,n);return this.registry[e]=o,o}getVariant(e,r){let n=e;return dist$1.Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}}class VariantLayout extends Layout$1{constructor(e,r,n,o){if(!(e instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=o;if(this.layout&&(this.layout.encode(e[this.property],r,n+o),s+=this.layout.getSpan(r,n+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function fixBitwiseResult(t){return 0>t&&(t+=4294967296),t}class BitStructure extends Layout$1{constructor(e,r,n){if(!(e instanceof UInt$1||e instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let o=0;this._packedSetValue=function(s){return o=fixBitwiseResult(s),this},this._packedGetValue=function(){return o}}decode(e,r){const n=this.makeDestinationObject();r===void 0&&(r=0);const o=this.word.decode(e,r);this._packedSetValue(o);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(o));return n}encode(e,r,n){n===void 0&&(n=0);const o=this.word.decode(r,n);this._packedSetValue(o);for(const s of this.fields)if(s.property!==void 0){const a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new BitField(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new Boolean$1(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}class BitField{constructor(e,r,n){if(!(e instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const o=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(r+s>o)throw new Error("bits too long for span remainder ("+(o-s)+" of "+o+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=o-s-r),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=n}decode(){const e=this.container._packedGetValue();return fixBitwiseResult(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==fixBitwiseResult(e&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=fixBitwiseResult(e<<this.start);this.container._packedSetValue(fixBitwiseResult(r&~this.wordMask)|n)}}class Boolean$1 extends BitField{constructor(e,r){super(e,1,r)}decode(e,r){return!!BitField.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),BitField.prototype.encode.call(this,e)}}class Blob$2 extends Layout$1{constructor(e,r){if(!(e instanceof ExternalLayout$1&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ExternalLayout$1||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof ExternalLayout$1&&(o=e.length),!(dist$1.Buffer.isBuffer(e)&&o===e.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,o,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(o,r,n),o}}class CString extends Layout$1{constructor(e){super(-1,e)}getSpan(e,r){if(!dist$1.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let o=this.getSpan(e,r);return e.slice(r,r+o-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const o=new dist$1.Buffer(e,"utf8"),s=o.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(r,n),r[n+s]=0,s+1}}class UTF8 extends Layout$1{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!dist$1.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let o=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+o).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const o=new dist$1.Buffer(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(r,n),s}}class Constant extends Layout$1{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}}Layout$2.ExternalLayout=ExternalLayout$1;Layout$2.GreedyCount=GreedyCount;Layout$2.OffsetLayout=OffsetLayout;Layout$2.UInt=UInt$1;Layout$2.UIntBE=UIntBE;Layout$2.Int=Int;Layout$2.IntBE=IntBE;Layout$2.Float=Float;Layout$2.FloatBE=FloatBE;Layout$2.Double=Double;Layout$2.DoubleBE=DoubleBE;Layout$2.Sequence=Sequence;Layout$2.Structure=Structure$1;Layout$2.UnionDiscriminator=UnionDiscriminator;Layout$2.UnionLayoutDiscriminator=UnionLayoutDiscriminator;Layout$2.Union=Union;Layout$2.VariantLayout=VariantLayout;Layout$2.BitStructure=BitStructure;Layout$2.BitField=BitField;Layout$2.Boolean=Boolean$1;Layout$2.Blob=Blob$2;Layout$2.CString=CString;Layout$2.UTF8=UTF8;Layout$2.Constant=Constant;Layout$2.greedy=(t,e)=>new GreedyCount(t,e);Layout$2.offset=(t,e,r)=>new OffsetLayout(t,e,r);Layout$2.u8=t=>new UInt$1(1,t);Layout$2.u16=t=>new UInt$1(2,t);Layout$2.u24=t=>new UInt$1(3,t);Layout$2.u32=t=>new UInt$1(4,t);Layout$2.u40=t=>new UInt$1(5,t);Layout$2.u48=t=>new UInt$1(6,t);Layout$2.nu64=t=>new NearUInt64(t);Layout$2.u16be=t=>new UIntBE(2,t);Layout$2.u24be=t=>new UIntBE(3,t);Layout$2.u32be=t=>new UIntBE(4,t);Layout$2.u40be=t=>new UIntBE(5,t);Layout$2.u48be=t=>new UIntBE(6,t);Layout$2.nu64be=t=>new NearUInt64BE(t);Layout$2.s8=t=>new Int(1,t);Layout$2.s16=t=>new Int(2,t);Layout$2.s24=t=>new Int(3,t);Layout$2.s32=t=>new Int(4,t);Layout$2.s40=t=>new Int(5,t);Layout$2.s48=t=>new Int(6,t);Layout$2.ns64=t=>new NearInt64(t);Layout$2.s16be=t=>new IntBE(2,t);Layout$2.s24be=t=>new IntBE(3,t);Layout$2.s32be=t=>new IntBE(4,t);Layout$2.s40be=t=>new IntBE(5,t);Layout$2.s48be=t=>new IntBE(6,t);Layout$2.ns64be=t=>new NearInt64BE(t);Layout$2.f32=t=>new Float(t);Layout$2.f32be=t=>new FloatBE(t);Layout$2.f64=t=>new Double(t);Layout$2.f64be=t=>new DoubleBE(t);Layout$2.struct=(t,e,r)=>new Structure$1(t,e,r);Layout$2.bits=(t,e,r)=>new BitStructure(t,e,r);Layout$2.seq=(t,e,r)=>new Sequence(t,e,r);Layout$2.union=(t,e,r)=>new Union(t,e,r);Layout$2.unionLayoutDiscriminator=(t,e)=>new UnionLayoutDiscriminator(t,e);Layout$2.blob=(t,e)=>new Blob$2(t,e);Layout$2.cstr=t=>new CString(t);Layout$2.utf8=(t,e)=>new UTF8(t,e);Layout$2.const=(t,e)=>new Constant(t,e);var require$$0$2=getAugmentedNamespace(index_browser_esm$1);(function(t){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(Yr){return Yr&&Yr.__esModule?Yr:{default:Yr}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const r=Layout$2,n=require$$0$2,o=e(bn.exports);var s=Layout$2;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return s.struct}});class a extends r.Layout{constructor(tn,an,Lr){super(tn,Lr),this.blob=r.blob(tn),this.signed=an}decode(tn,an=0){const Lr=new o.default(this.blob.decode(tn,an),10,"le");return this.signed?Lr.fromTwos(this.span*8).clone():Lr}encode(tn,an,Lr=0){return this.signed&&(tn=tn.toTwos(this.span*8)),this.blob.encode(tn.toArrayLike(dist$1.Buffer,"le",this.span),an,Lr)}}function c(Yr){return new a(8,!1,Yr)}t.u64=c;function d(Yr){return new a(8,!0,Yr)}t.i64=d;function m(Yr){return new a(16,!1,Yr)}t.u128=m;function gr(Yr){return new a(16,!0,Yr)}t.i128=gr;class vr extends r.Layout{constructor(tn,an,Lr,Er){super(tn.span,Er),this.layout=tn,this.decoder=an,this.encoder=Lr}decode(tn,an){return this.decoder(this.layout.decode(tn,an))}encode(tn,an,Lr){return this.layout.encode(this.encoder(tn),an,Lr)}getSpan(tn,an){return this.layout.getSpan(tn,an)}}function Ar(Yr){return new vr(r.blob(32),tn=>new n.PublicKey(tn),tn=>tn.toBuffer(),Yr)}t.publicKey=Ar;class Tr extends r.Layout{constructor(tn,an){super(-1,an),this.layout=tn,this.discriminator=r.u8()}encode(tn,an,Lr=0){return tn==null?this.discriminator.encode(0,an,Lr):(this.discriminator.encode(1,an,Lr),this.layout.encode(tn,an,Lr+1)+1)}decode(tn,an=0){const Lr=this.discriminator.decode(tn,an);if(Lr===0)return null;if(Lr===1)return this.layout.decode(tn,an+1);throw new Error("Invalid option "+this.property)}getSpan(tn,an=0){const Lr=this.discriminator.decode(tn,an);if(Lr===0)return 1;if(Lr===1)return this.layout.getSpan(tn,an+1)+1;throw new Error("Invalid option "+this.property)}}function Rr(Yr,tn){return new Tr(Yr,tn)}t.option=Rr;function kr(Yr){return new vr(r.u8(),xr,Dr,Yr)}t.bool=kr;function xr(Yr){if(Yr===0)return!1;if(Yr===1)return!0;throw new Error("Invalid bool: "+Yr)}function Dr(Yr){return Yr?1:0}function Ur(Yr,tn){const an=r.u32("length"),Lr=r.struct([an,r.seq(Yr,r.offset(an,-an.span),"values")]);return new vr(Lr,({values:Er})=>Er,Er=>({values:Er}),tn)}t.vec=Ur;function Cr(Yr,tn,an){const Lr=r.struct([c("tag"),tn.replicate("data")]);function Er({tag:Or,data:jr}){if(!Or.eq(Yr))throw new Error("Invalid tag, expected: "+Yr.toString("hex")+", got: "+Or.toString("hex"));return jr}return new vr(Lr,Er,Or=>({tag:Yr,data:Or}),an)}t.tagged=Cr;function Nr(Yr){const tn=r.u32("length"),an=r.struct([tn,r.blob(r.offset(tn,-tn.span),"data")]);return new vr(an,({data:Lr})=>Lr,Lr=>({data:Lr}),Yr)}t.vecU8=Nr;function Hr(Yr){return new vr(Nr(),tn=>tn.toString("utf-8"),tn=>dist$1.Buffer.from(tn,"utf-8"),Yr)}t.str=Hr;function Mr(Yr,tn,an){const Lr=r.union(an??r.u8(),tn);return Yr.forEach((Er,Or)=>Lr.addVariant(Or,Er,Er.property)),Lr}t.rustEnum=Mr;function Fr(Yr,tn,an){const Lr=r.struct([r.seq(Yr,tn,"values")]);return new vr(Lr,({values:Er})=>Er,Er=>({values:Er}),an)}t.array=Fr;class Vr extends r.Layout{constructor(tn,an,Lr){super(tn.span+an.span,Lr),this.keyLayout=tn,this.valueLayout=an}decode(tn,an){an=an||0;const Lr=this.keyLayout.decode(tn,an),Er=this.valueLayout.decode(tn,an+this.keyLayout.getSpan(tn,an));return[Lr,Er]}encode(tn,an,Lr){Lr=Lr||0;const Er=this.keyLayout.encode(tn[0],an,Lr),Or=this.valueLayout.encode(tn[1],an,Lr+Er);return Er+Or}getSpan(tn,an){return this.keyLayout.getSpan(tn,an)+this.valueLayout.getSpan(tn,an)}}function Xr(Yr,tn,an){const Lr=r.u32("length"),Er=r.struct([Lr,r.seq(new Vr(Yr,tn),r.offset(Lr,-Lr.span),"values")]);return new vr(Er,({values:Or})=>new Map(Or),Or=>({values:Array.from(Or.entries())}),an)}t.map=Xr})(lib);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(t){let e=t.length;for(;--e>=0;)t[e]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(t,e,r,n,o){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=t&&t.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const d_code=t=>t<256?_dist_code[t]:_dist_code[256+(t>>>7)],put_short=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},send_bits=(t,e,r)=>{t.bi_valid>Buf_size-r?(t.bi_buf|=e<<t.bi_valid&65535,put_short(t,t.bi_buf),t.bi_buf=e>>Buf_size-t.bi_valid,t.bi_valid+=r-Buf_size):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},send_code=(t,e,r)=>{send_bits(t,r[e*2],r[e*2+1])},bi_reverse=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},bi_flush=t=>{t.bi_valid===16?(put_short(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},gen_bitlen=(t,e)=>{const r=e.dyn_tree,n=e.max_code,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,d=e.stat_desc.max_length;let m,gr,vr,Ar,Tr,Rr,kr=0;for(Ar=0;Ar<=MAX_BITS$1;Ar++)t.bl_count[Ar]=0;for(r[t.heap[t.heap_max]*2+1]=0,m=t.heap_max+1;m<HEAP_SIZE$1;m++)gr=t.heap[m],Ar=r[r[gr*2+1]*2+1]+1,Ar>d&&(Ar=d,kr++),r[gr*2+1]=Ar,!(gr>n)&&(t.bl_count[Ar]++,Tr=0,gr>=c&&(Tr=a[gr-c]),Rr=r[gr*2],t.opt_len+=Rr*(Ar+Tr),s&&(t.static_len+=Rr*(o[gr*2+1]+Tr)));if(kr!==0){do{for(Ar=d-1;t.bl_count[Ar]===0;)Ar--;t.bl_count[Ar]--,t.bl_count[Ar+1]+=2,t.bl_count[d]--,kr-=2}while(kr>0);for(Ar=d;Ar!==0;Ar--)for(gr=t.bl_count[Ar];gr!==0;)vr=t.heap[--m],!(vr>n)&&(r[vr*2+1]!==Ar&&(t.opt_len+=(Ar-r[vr*2+1])*r[vr*2],r[vr*2+1]=Ar),gr--)}},gen_codes=(t,e,r)=>{const n=new Array(MAX_BITS$1+1);let o=0,s,a;for(s=1;s<=MAX_BITS$1;s++)o=o+r[s-1]<<1,n[s]=o;for(a=0;a<=e;a++){let c=t[a*2+1];c!==0&&(t[a*2]=bi_reverse(n[c]++,c))}},tr_static_init=()=>{let t,e,r,n,o;const s=new Array(MAX_BITS$1+1);for(r=0,n=0;n<LENGTH_CODES$1-1;n++)for(base_length[n]=r,t=0;t<1<<extra_lbits[n];t++)_length_code[r++]=n;for(_length_code[r-1]=n,o=0,n=0;n<16;n++)for(base_dist[n]=o,t=0;t<1<<extra_dbits[n];t++)_dist_code[o++]=n;for(o>>=7;n<D_CODES$1;n++)for(base_dist[n]=o<<7,t=0;t<1<<extra_dbits[n]-7;t++)_dist_code[256+o++]=n;for(e=0;e<=MAX_BITS$1;e++)s[e]=0;for(t=0;t<=143;)static_ltree[t*2+1]=8,t++,s[8]++;for(;t<=255;)static_ltree[t*2+1]=9,t++,s[9]++;for(;t<=279;)static_ltree[t*2+1]=7,t++,s[7]++;for(;t<=287;)static_ltree[t*2+1]=8,t++,s[8]++;for(gen_codes(static_ltree,L_CODES$1+1,s),t=0;t<D_CODES$1;t++)static_dtree[t*2+1]=5,static_dtree[t*2]=bi_reverse(t,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=t=>{let e;for(e=0;e<L_CODES$1;e++)t.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)t.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)t.bl_tree[e*2]=0;t.dyn_ltree[END_BLOCK*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},bi_windup=t=>{t.bi_valid>8?put_short(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},smaller=(t,e,r,n)=>{const o=e*2,s=r*2;return t[o]<t[s]||t[o]===t[s]&&n[e]<=n[r]},pqdownheap=(t,e,r)=>{const n=t.heap[r];let o=r<<1;for(;o<=t.heap_len&&(o<t.heap_len&&smaller(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!smaller(e,n,t.heap[o],t.depth));)t.heap[r]=t.heap[o],r=o,o<<=1;t.heap[r]=n},compress_block=(t,e,r)=>{let n,o,s=0,a,c;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+s++]&255,n+=(t.pending_buf[t.sym_buf+s++]&255)<<8,o=t.pending_buf[t.sym_buf+s++],n===0?send_code(t,o,e):(a=_length_code[o],send_code(t,a+LITERALS$1+1,e),c=extra_lbits[a],c!==0&&(o-=base_length[a],send_bits(t,o,c)),n--,a=d_code(n),send_code(t,a,r),c=extra_dbits[a],c!==0&&(n-=base_dist[a],send_bits(t,n,c)));while(s<t.sym_next);send_code(t,END_BLOCK,e)},build_tree=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,c,d=-1,m;for(t.heap_len=0,t.heap_max=HEAP_SIZE$1,a=0;a<s;a++)r[a*2]!==0?(t.heap[++t.heap_len]=d=a,t.depth[a]=0):r[a*2+1]=0;for(;t.heap_len<2;)m=t.heap[++t.heap_len]=d<2?++d:0,r[m*2]=1,t.depth[m]=0,t.opt_len--,o&&(t.static_len-=n[m*2+1]);for(e.max_code=d,a=t.heap_len>>1;a>=1;a--)pqdownheap(t,r,a);m=s;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],pqdownheap(t,r,1),c=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=c,r[m*2]=r[a*2]+r[c*2],t.depth[m]=(t.depth[a]>=t.depth[c]?t.depth[a]:t.depth[c])+1,r[a*2+1]=r[c*2+1]=m,t.heap[1]=m++,pqdownheap(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],gen_bitlen(t,e),gen_codes(r,d,t.bl_count)},scan_tree=(t,e,r)=>{let n,o=-1,s,a=e[0*2+1],c=0,d=7,m=4;for(a===0&&(d=138,m=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)s=a,a=e[(n+1)*2+1],!(++c<d&&s===a)&&(c<m?t.bl_tree[s*2]+=c:s!==0?(s!==o&&t.bl_tree[s*2]++,t.bl_tree[REP_3_6*2]++):c<=10?t.bl_tree[REPZ_3_10*2]++:t.bl_tree[REPZ_11_138*2]++,c=0,o=s,a===0?(d=138,m=3):s===a?(d=6,m=3):(d=7,m=4))},send_tree=(t,e,r)=>{let n,o=-1,s,a=e[0*2+1],c=0,d=7,m=4;for(a===0&&(d=138,m=3),n=0;n<=r;n++)if(s=a,a=e[(n+1)*2+1],!(++c<d&&s===a)){if(c<m)do send_code(t,s,t.bl_tree);while(--c!==0);else s!==0?(s!==o&&(send_code(t,s,t.bl_tree),c--),send_code(t,REP_3_6,t.bl_tree),send_bits(t,c-3,2)):c<=10?(send_code(t,REPZ_3_10,t.bl_tree),send_bits(t,c-3,3)):(send_code(t,REPZ_11_138,t.bl_tree),send_bits(t,c-11,7));c=0,o=s,a===0?(d=138,m=3):s===a?(d=6,m=3):(d=7,m=4)}},build_bl_tree=t=>{let e;for(scan_tree(t,t.dyn_ltree,t.l_desc.max_code),scan_tree(t,t.dyn_dtree,t.d_desc.max_code),build_tree(t,t.bl_desc),e=BL_CODES$1-1;e>=3&&t.bl_tree[bl_order[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},send_all_trees=(t,e,r,n)=>{let o;for(send_bits(t,e-257,5),send_bits(t,r-1,5),send_bits(t,n-4,4),o=0;o<n;o++)send_bits(t,t.bl_tree[bl_order[o]*2+1],3);send_tree(t,t.dyn_ltree,e-1),send_tree(t,t.dyn_dtree,r-1)},detect_data_type=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return Z_BINARY;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Z_TEXT;for(r=32;r<LITERALS$1;r++)if(t.dyn_ltree[r*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=t=>{static_init_done||(tr_static_init(),static_init_done=!0),t.l_desc=new TreeDesc(t.dyn_ltree,static_l_desc),t.d_desc=new TreeDesc(t.dyn_dtree,static_d_desc),t.bl_desc=new TreeDesc(t.bl_tree,static_bl_desc),t.bi_buf=0,t.bi_valid=0,init_block(t)},_tr_stored_block$1=(t,e,r,n)=>{send_bits(t,(STORED_BLOCK<<1)+(n?1:0),3),bi_windup(t),put_short(t,r),put_short(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},_tr_align$1=t=>{send_bits(t,STATIC_TREES<<1,3),send_code(t,END_BLOCK,static_ltree),bi_flush(t)},_tr_flush_block$1=(t,e,r,n)=>{let o,s,a=0;t.level>0?(t.strm.data_type===Z_UNKNOWN$1&&(t.strm.data_type=detect_data_type(t)),build_tree(t,t.l_desc),build_tree(t,t.d_desc),a=build_bl_tree(t),o=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=o&&(o=s)):o=s=r+5,r+4<=o&&e!==-1?_tr_stored_block$1(t,e,r,n):t.strategy===Z_FIXED$1||s===o?(send_bits(t,(STATIC_TREES<<1)+(n?1:0),3),compress_block(t,static_ltree,static_dtree)):(send_bits(t,(DYN_TREES<<1)+(n?1:0),3),send_all_trees(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),compress_block(t,t.dyn_ltree,t.dyn_dtree)),init_block(t),n&&bi_windup(t)},_tr_tally$1=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(_length_code[r]+LITERALS$1+1)*2]++,t.dyn_dtree[d_code(e)*2]++),t.sym_next===t.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(t,e,r,n)=>{let o=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do o=o+e[n++]|0,s=s+o|0;while(--a);o%=65521,s%=65521}return o|s<<16|0};var adler32_1=adler32;const makeTable=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},crcTable=new Uint32Array(makeTable()),crc32=(t,e,r,n)=>{const o=crcTable,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^o[(t^e[a])&255];return t^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(t,e)=>(t.msg=messages[e],e),rank=t=>t*2-(t>4?9:0),zero=t=>{let e=t.length;for(;--e>=0;)t[e]=0},slide_hash=t=>{let e,r,n,o=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=o?r-o:0;while(--e);e=o,n=e;do r=t.prev[--n],t.prev[n]=r>=o?r-o:0;while(--e)};let HASH_ZLIB=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,HASH=HASH_ZLIB;const flush_pending=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},flush_block_only=(t,e)=>{_tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,flush_pending(t.strm)},put_byte=(t,e)=>{t.pending_buf[t.pending++]=e},putShortMSB=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},read_buf=(t,e,r,n)=>{let o=t.avail_in;return o>n&&(o=n),o===0?0:(t.avail_in-=o,e.set(t.input.subarray(t.next_in,t.next_in+o),r),t.state.wrap===1?t.adler=adler32_1(t.adler,e,o,r):t.state.wrap===2&&(t.adler=crc32_1(t.adler,e,o,r)),t.next_in+=o,t.total_in+=o,o)},longest_match=(t,e)=>{let r=t.max_chain_length,n=t.strstart,o,s,a=t.prev_length,c=t.nice_match;const d=t.strstart>t.w_size-MIN_LOOKAHEAD?t.strstart-(t.w_size-MIN_LOOKAHEAD):0,m=t.window,gr=t.w_mask,vr=t.prev,Ar=t.strstart+MAX_MATCH;let Tr=m[n+a-1],Rr=m[n+a];t.prev_length>=t.good_match&&(r>>=2),c>t.lookahead&&(c=t.lookahead);do if(o=e,!(m[o+a]!==Rr||m[o+a-1]!==Tr||m[o]!==m[n]||m[++o]!==m[n+1])){n+=2,o++;do;while(m[++n]===m[++o]&&m[++n]===m[++o]&&m[++n]===m[++o]&&m[++n]===m[++o]&&m[++n]===m[++o]&&m[++n]===m[++o]&&m[++n]===m[++o]&&m[++n]===m[++o]&&n<Ar);if(s=MAX_MATCH-(Ar-n),n=Ar-MAX_MATCH,s>a){if(t.match_start=e,a=s,s>=c)break;Tr=m[n+a-1],Rr=m[n+a]}}while((e=vr[e&gr])>d&&--r!==0);return a<=t.lookahead?a:t.lookahead},fill_window=t=>{const e=t.w_size;let r,n,o;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-MIN_LOOKAHEAD)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),slide_hash(t),n+=e),t.strm.avail_in===0)break;if(r=read_buf(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=MIN_MATCH)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=HASH(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=HASH(t,t.ins_h,t.window[o+MIN_MATCH-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<MIN_MATCH)););}while(t.lookahead<MIN_LOOKAHEAD&&t.strm.avail_in!==0)},deflate_stored=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,o,s,a=0,c=t.strm.avail_in;do{if(n=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,o=t.strstart-t.block_start,n>o+t.strm.avail_in&&(n=o+t.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&e!==Z_FINISH$3||e===Z_NO_FLUSH$2||n!==o+t.strm.avail_in)))break;a=e===Z_FINISH$3&&n===o+t.strm.avail_in?1:0,_tr_stored_block(t,0,0,a),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,flush_pending(t.strm),o&&(o>n&&(o=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+o),t.strm.next_out),t.strm.next_out+=o,t.strm.avail_out-=o,t.strm.total_out+=o,t.block_start+=o,n-=o),n&&(read_buf(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(a===0);return c-=t.strm.avail_in,c&&(c>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=c&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-c,t.strm.next_in),t.strstart),t.strstart+=c,t.insert+=c>t.w_size-t.insert?t.w_size-t.insert:c),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?BS_FINISH_DONE:e!==Z_NO_FLUSH$2&&e!==Z_FINISH$3&&t.strm.avail_in===0&&t.strstart===t.block_start?BS_BLOCK_DONE:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(read_buf(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,r=s>t.w_size?t.w_size:s,o=t.strstart-t.block_start,(o>=r||(o||e===Z_FINISH$3)&&e!==Z_NO_FLUSH$2&&t.strm.avail_in===0&&o<=s)&&(n=o>s?s:o,a=e===Z_FINISH$3&&t.strm.avail_in===0&&n===o?1:0,_tr_stored_block(t,t.block_start,n,a),t.block_start+=n,flush_pending(t.strm)),a?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(t,e)=>{let r,n;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(r=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,r)),t.match_length>=MIN_MATCH)if(n=_tr_tally(t,t.strstart-t.match_start,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=MIN_MATCH){t.match_length--;do t.strstart++,t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+1]);else n=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(t,e)=>{let r,n,o;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(r=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=MIN_MATCH-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,r),t.match_length<=5&&(t.strategy===Z_FILTERED||t.match_length===MIN_MATCH&&t.strstart-t.match_start>4096)&&(t.match_length=MIN_MATCH-1)),t.prev_length>=MIN_MATCH&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-MIN_MATCH,n=_tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-MIN_MATCH),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=MIN_MATCH-1,t.strstart++,n&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}else if(t.match_available){if(n=_tr_tally(t,0,t.window[t.strstart-1]),n&&flush_block_only(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return BS_NEED_MORE}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=_tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(t,e)=>{let r,n,o,s;const a=t.window;for(;;){if(t.lookahead<=MAX_MATCH){if(fill_window(t),t.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=MIN_MATCH&&t.strstart>0&&(o=t.strstart-1,n=a[o],n===a[++o]&&n===a[++o]&&n===a[++o])){s=t.strstart+MAX_MATCH;do;while(n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&o<s);t.match_length=MAX_MATCH-(s-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=MIN_MATCH?(r=_tr_tally(t,1,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(fill_window(t),t.lookahead===0)){if(e===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(t.match_length=0,r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(t,e,r,n,o){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=o}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=t=>{t.window_size=2*t.w_size,zero(t.head),t.max_lazy_match=configuration_table[t.level].max_lazy,t.good_match=configuration_table[t.level].good_length,t.nice_match=configuration_table[t.level].nice_length,t.max_chain_length=configuration_table[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=MIN_MATCH-1,t.match_available=0,t.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==INIT_STATE&&e.status!==GZIP_STATE&&e.status!==EXTRA_STATE&&e.status!==NAME_STATE&&e.status!==COMMENT_STATE&&e.status!==HCRC_STATE&&e.status!==BUSY_STATE&&e.status!==FINISH_STATE?1:0},deflateResetKeep=t=>{if(deflateStateCheck(t))return err(t,Z_STREAM_ERROR$2);t.total_in=t.total_out=0,t.data_type=Z_UNKNOWN;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?GZIP_STATE:e.wrap?INIT_STATE:BUSY_STATE,t.adler=e.wrap===2?0:1,e.last_flush=-2,_tr_init(e),Z_OK$3},deflateReset=t=>{const e=deflateResetKeep(t);return e===Z_OK$3&&lm_init(t.state),e},deflateSetHeader=(t,e)=>deflateStateCheck(t)||t.state.wrap!==2?Z_STREAM_ERROR$2:(t.state.gzhead=e,Z_OK$3),deflateInit2=(t,e,r,n,o,s)=>{if(!t)return Z_STREAM_ERROR$2;let a=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>MAX_MEM_LEVEL||r!==Z_DEFLATED$2||n<8||n>15||e<0||e>9||s<0||s>Z_FIXED||n===8&&a!==1)return err(t,Z_STREAM_ERROR$2);n===8&&(n=9);const c=new DeflateState;return t.state=c,c.strm=t,c.status=INIT_STATE,c.wrap=a,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+MIN_MATCH-1)/MIN_MATCH),c.window=new Uint8Array(c.w_size*2),c.head=new Uint16Array(c.hash_size),c.prev=new Uint16Array(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=c.lit_bufsize*4,c.pending_buf=new Uint8Array(c.pending_buf_size),c.sym_buf=c.lit_bufsize,c.sym_end=(c.lit_bufsize-1)*3,c.level=e,c.strategy=s,c.method=r,deflateReset(t)},deflateInit=(t,e)=>deflateInit2(t,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(t,e)=>{if(deflateStateCheck(t)||e>Z_BLOCK$1||e<0)return t?err(t,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===FINISH_STATE&&e!==Z_FINISH$3)return err(t,t.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(flush_pending(t),t.avail_out===0)return r.last_flush=-1,Z_OK$3}else if(t.avail_in===0&&rank(e)<=rank(n)&&e!==Z_FINISH$3)return err(t,Z_BUF_ERROR$1);if(r.status===FINISH_STATE&&t.avail_in!==0)return err(t,Z_BUF_ERROR$1);if(r.status===INIT_STATE&&r.wrap===0&&(r.status=BUSY_STATE),r.status===INIT_STATE){let o=Z_DEFLATED$2+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=Z_HUFFMAN_ONLY||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,o|=s<<6,r.strstart!==0&&(o|=PRESET_DICT),o+=31-o%31,putShortMSB(r,o),r.strstart!==0&&(putShortMSB(r,t.adler>>>16),putShortMSB(r,t.adler&65535)),t.adler=1,r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===GZIP_STATE){if(t.adler=0,put_byte(r,31),put_byte(r,139),put_byte(r,8),r.gzhead)put_byte(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),put_byte(r,r.gzhead.time&255),put_byte(r,r.gzhead.time>>8&255),put_byte(r,r.gzhead.time>>16&255),put_byte(r,r.gzhead.time>>24&255),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(put_byte(r,r.gzhead.extra.length&255),put_byte(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=EXTRA_STATE;else if(put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,OS_CODE),r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===EXTRA_STATE){if(r.gzhead.extra){let o=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let c=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+c),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex+=c,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;o=0,s-=c}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex=0}r.status=NAME_STATE}if(r.status===NAME_STATE){if(r.gzhead.name){let o=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o)),flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;o=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,put_byte(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex=0}r.status=COMMENT_STATE}if(r.status===COMMENT_STATE){if(r.gzhead.comment){let o=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o)),flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;o=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,put_byte(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o))}r.status=HCRC_STATE}if(r.status===HCRC_STATE){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(flush_pending(t),r.pending!==0))return r.last_flush=-1,Z_OK$3;put_byte(r,t.adler&255),put_byte(r,t.adler>>8&255),t.adler=0}if(r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(t.avail_in!==0||r.lookahead!==0||e!==Z_NO_FLUSH$2&&r.status!==FINISH_STATE){let o=r.level===0?deflate_stored(r,e):r.strategy===Z_HUFFMAN_ONLY?deflate_huff(r,e):r.strategy===Z_RLE?deflate_rle(r,e):configuration_table[r.level].func(r,e);if((o===BS_FINISH_STARTED||o===BS_FINISH_DONE)&&(r.status=FINISH_STATE),o===BS_NEED_MORE||o===BS_FINISH_STARTED)return t.avail_out===0&&(r.last_flush=-1),Z_OK$3;if(o===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?_tr_align(r):e!==Z_BLOCK$1&&(_tr_stored_block(r,0,0,!1),e===Z_FULL_FLUSH$1&&(zero(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),flush_pending(t),t.avail_out===0))return r.last_flush=-1,Z_OK$3}return e!==Z_FINISH$3?Z_OK$3:r.wrap<=0?Z_STREAM_END$3:(r.wrap===2?(put_byte(r,t.adler&255),put_byte(r,t.adler>>8&255),put_byte(r,t.adler>>16&255),put_byte(r,t.adler>>24&255),put_byte(r,t.total_in&255),put_byte(r,t.total_in>>8&255),put_byte(r,t.total_in>>16&255),put_byte(r,t.total_in>>24&255)):(putShortMSB(r,t.adler>>>16),putShortMSB(r,t.adler&65535)),flush_pending(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=t=>{if(deflateStateCheck(t))return Z_STREAM_ERROR$2;const e=t.state.status;return t.state=null,e===BUSY_STATE?err(t,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(t,e)=>{let r=e.length;if(deflateStateCheck(t))return Z_STREAM_ERROR$2;const n=t.state,o=n.wrap;if(o===2||o===1&&n.status!==INIT_STATE||n.lookahead)return Z_STREAM_ERROR$2;if(o===1&&(t.adler=adler32_1(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){o===0&&(zero(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(e.subarray(r-n.w_size,r),0),e=d,r=n.w_size}const s=t.avail_in,a=t.next_in,c=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,fill_window(n);n.lookahead>=MIN_MATCH;){let d=n.strstart,m=n.lookahead-(MIN_MATCH-1);do n.ins_h=HASH(n,n.ins_h,n.window[d+MIN_MATCH-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--m);n.strstart=d,n.lookahead=MIN_MATCH-1,fill_window(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=MIN_MATCH-1,n.match_available=0,t.next_in=a,t.input=c,t.avail_in=s,n.wrap=o,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var assign$2=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(!!r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)_has(r,n)&&(t[n]=r[n])}}return t},flattenChunks=t=>{let e=0;for(let n=0,o=t.length;n<o;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,o=0,s=t.length;n<s;n++){let a=t[n];r.set(a,o),o+=a.length}return r},common={assign:assign$2,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let t=0;t<256;t++)_utf8len[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,o,s,a=t.length,c=0;for(o=0;o<a;o++)r=t.charCodeAt(o),(r&64512)===55296&&o+1<a&&(n=t.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),c+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(c),s=0,o=0;s<c;o++)r=t.charCodeAt(o),(r&64512)===55296&&o+1<a&&(n=t.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const buf2binstring=(t,e)=>{if(e<65534&&t.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var buf2string=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,o;const s=new Array(r*2);for(o=0,n=0;n<r;){let a=t[n++];if(a<128){s[o++]=a;continue}let c=_utf8len[a];if(c>4){s[o++]=65533,n+=c-1;continue}for(a&=c===2?31:c===3?15:7;c>1&&n<r;)a=a<<6|t[n++]&63,c--;if(c>1){s[o++]=65533;continue}a<65536?s[o++]=a:(a-=65536,s[o++]=55296|a>>10&1023,s[o++]=56320|a&1023)}return buf2binstring(s,o)},utf8border=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+_utf8len[t[r]]>e?r:e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(t){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=deflate_1$2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Z_OK$2)throw new Error(messages[r]);if(e.header&&deflate_1$2.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=strings.string2buf(e.dictionary):toString$1.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=deflate_1$2.deflateSetDictionary(this.strm,n),r!==Z_OK$2)throw new Error(messages[r]);this._dict_set=!0}}Deflate$1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let o,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof t=="string"?r.input=strings.string2buf(t):toString$1.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===Z_SYNC_FLUSH||s===Z_FULL_FLUSH)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(o=deflate_1$2.deflate(r,s),o===Z_STREAM_END$2)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),o=deflate_1$2.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Z_OK$2;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(t){this.chunks.push(t)};Deflate$1.prototype.onEnd=function(t){t===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function t(e,r){let n,o,s,a,c,d,m,gr,vr,Ar,Tr,Rr,kr,xr,Dr,Ur,Cr,Nr,Hr,Mr,Fr,Vr,Xr,Yr;const tn=e.state;n=e.next_in,Xr=e.input,o=n+(e.avail_in-5),s=e.next_out,Yr=e.output,a=s-(r-e.avail_out),c=s+(e.avail_out-257),d=tn.dmax,m=tn.wsize,gr=tn.whave,vr=tn.wnext,Ar=tn.window,Tr=tn.hold,Rr=tn.bits,kr=tn.lencode,xr=tn.distcode,Dr=(1<<tn.lenbits)-1,Ur=(1<<tn.distbits)-1;e:do{Rr<15&&(Tr+=Xr[n++]<<Rr,Rr+=8,Tr+=Xr[n++]<<Rr,Rr+=8),Cr=kr[Tr&Dr];t:for(;;){if(Nr=Cr>>>24,Tr>>>=Nr,Rr-=Nr,Nr=Cr>>>16&255,Nr===0)Yr[s++]=Cr&65535;else if(Nr&16){Hr=Cr&65535,Nr&=15,Nr&&(Rr<Nr&&(Tr+=Xr[n++]<<Rr,Rr+=8),Hr+=Tr&(1<<Nr)-1,Tr>>>=Nr,Rr-=Nr),Rr<15&&(Tr+=Xr[n++]<<Rr,Rr+=8,Tr+=Xr[n++]<<Rr,Rr+=8),Cr=xr[Tr&Ur];r:for(;;){if(Nr=Cr>>>24,Tr>>>=Nr,Rr-=Nr,Nr=Cr>>>16&255,Nr&16){if(Mr=Cr&65535,Nr&=15,Rr<Nr&&(Tr+=Xr[n++]<<Rr,Rr+=8,Rr<Nr&&(Tr+=Xr[n++]<<Rr,Rr+=8)),Mr+=Tr&(1<<Nr)-1,Mr>d){e.msg="invalid distance too far back",tn.mode=BAD$1;break e}if(Tr>>>=Nr,Rr-=Nr,Nr=s-a,Mr>Nr){if(Nr=Mr-Nr,Nr>gr&&tn.sane){e.msg="invalid distance too far back",tn.mode=BAD$1;break e}if(Fr=0,Vr=Ar,vr===0){if(Fr+=m-Nr,Nr<Hr){Hr-=Nr;do Yr[s++]=Ar[Fr++];while(--Nr);Fr=s-Mr,Vr=Yr}}else if(vr<Nr){if(Fr+=m+vr-Nr,Nr-=vr,Nr<Hr){Hr-=Nr;do Yr[s++]=Ar[Fr++];while(--Nr);if(Fr=0,vr<Hr){Nr=vr,Hr-=Nr;do Yr[s++]=Ar[Fr++];while(--Nr);Fr=s-Mr,Vr=Yr}}}else if(Fr+=vr-Nr,Nr<Hr){Hr-=Nr;do Yr[s++]=Ar[Fr++];while(--Nr);Fr=s-Mr,Vr=Yr}for(;Hr>2;)Yr[s++]=Vr[Fr++],Yr[s++]=Vr[Fr++],Yr[s++]=Vr[Fr++],Hr-=3;Hr&&(Yr[s++]=Vr[Fr++],Hr>1&&(Yr[s++]=Vr[Fr++]))}else{Fr=s-Mr;do Yr[s++]=Yr[Fr++],Yr[s++]=Yr[Fr++],Yr[s++]=Yr[Fr++],Hr-=3;while(Hr>2);Hr&&(Yr[s++]=Yr[Fr++],Hr>1&&(Yr[s++]=Yr[Fr++]))}}else if((Nr&64)===0){Cr=xr[(Cr&65535)+(Tr&(1<<Nr)-1)];continue r}else{e.msg="invalid distance code",tn.mode=BAD$1;break e}break}}else if((Nr&64)===0){Cr=kr[(Cr&65535)+(Tr&(1<<Nr)-1)];continue t}else if(Nr&32){tn.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",tn.mode=BAD$1;break e}break}}while(n<o&&s<c);Hr=Rr>>3,n-=Hr,Rr-=Hr<<3,Tr&=(1<<Rr)-1,e.next_in=n,e.next_out=s,e.avail_in=n<o?5+(o-n):5-(n-o),e.avail_out=s<c?257+(c-s):257-(s-c),tn.hold=Tr,tn.bits=Rr};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(t,e,r,n,o,s,a,c)=>{const d=c.bits;let m=0,gr=0,vr=0,Ar=0,Tr=0,Rr=0,kr=0,xr=0,Dr=0,Ur=0,Cr,Nr,Hr,Mr,Fr,Vr=null,Xr;const Yr=new Uint16Array(MAXBITS+1),tn=new Uint16Array(MAXBITS+1);let an=null,Lr,Er,Or;for(m=0;m<=MAXBITS;m++)Yr[m]=0;for(gr=0;gr<n;gr++)Yr[e[r+gr]]++;for(Tr=d,Ar=MAXBITS;Ar>=1&&Yr[Ar]===0;Ar--);if(Tr>Ar&&(Tr=Ar),Ar===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,c.bits=1,0;for(vr=1;vr<Ar&&Yr[vr]===0;vr++);for(Tr<vr&&(Tr=vr),xr=1,m=1;m<=MAXBITS;m++)if(xr<<=1,xr-=Yr[m],xr<0)return-1;if(xr>0&&(t===CODES$1||Ar!==1))return-1;for(tn[1]=0,m=1;m<MAXBITS;m++)tn[m+1]=tn[m]+Yr[m];for(gr=0;gr<n;gr++)e[r+gr]!==0&&(a[tn[e[r+gr]]++]=gr);if(t===CODES$1?(Vr=an=a,Xr=20):t===LENS$1?(Vr=lbase,an=lext,Xr=257):(Vr=dbase,an=dext,Xr=0),Ur=0,gr=0,m=vr,Fr=s,Rr=Tr,kr=0,Hr=-1,Dr=1<<Tr,Mr=Dr-1,t===LENS$1&&Dr>ENOUGH_LENS$1||t===DISTS$1&&Dr>ENOUGH_DISTS$1)return 1;for(;;){Lr=m-kr,a[gr]+1<Xr?(Er=0,Or=a[gr]):a[gr]>=Xr?(Er=an[a[gr]-Xr],Or=Vr[a[gr]-Xr]):(Er=32+64,Or=0),Cr=1<<m-kr,Nr=1<<Rr,vr=Nr;do Nr-=Cr,o[Fr+(Ur>>kr)+Nr]=Lr<<24|Er<<16|Or|0;while(Nr!==0);for(Cr=1<<m-1;Ur&Cr;)Cr>>=1;if(Cr!==0?(Ur&=Cr-1,Ur+=Cr):Ur=0,gr++,--Yr[m]===0){if(m===Ar)break;m=e[r+a[gr]]}if(m>Tr&&(Ur&Mr)!==Hr){for(kr===0&&(kr=Tr),Fr+=vr,Rr=m-kr,xr=1<<Rr;Rr+kr<Ar&&(xr-=Yr[Rr+kr],!(xr<=0));)Rr++,xr<<=1;if(Dr+=1<<Rr,t===LENS$1&&Dr>ENOUGH_LENS$1||t===DISTS$1&&Dr>ENOUGH_DISTS$1)return 1;Hr=Ur&Mr,o[Hr]=Tr<<24|Rr<<16|Fr-s|0}}return Ur!==0&&(o[Fr+Ur]=m-kr<<24|64<<16|0),c.bits=Tr,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<HEAD||e.mode>SYNC?1:0},inflateResetKeep=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$1},inflateReset=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(t)},inflateReset2=(t,e)=>{let r;if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,inflateReset(t))},inflateInit2=(t,e)=>{if(!t)return Z_STREAM_ERROR$1;const r=new InflateState;t.state=r,r.strm=t,r.window=null,r.mode=HEAD;const n=inflateReset2(t,e);return n!==Z_OK$1&&(t.state=null),n},inflateInit=t=>inflateInit2(t,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=t=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(inftrees(LENS,t.lens,0,288,lenfix,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;inftrees(DISTS,t.lens,0,32,distfix,0,t.work,{bits:5}),virgin=!1}t.lencode=lenfix,t.lenbits=9,t.distcode=distfix,t.distbits=5},updatewindow=(t,e,r,n)=>{let o;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(o=s.wsize-s.wnext,o>n&&(o=n),s.window.set(e.subarray(r-n,r-n+o),s.wnext),n-=o,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0},inflate$2=(t,e)=>{let r,n,o,s,a,c,d,m,gr,vr,Ar,Tr,Rr,kr,xr=0,Dr,Ur,Cr,Nr,Hr,Mr,Fr,Vr;const Xr=new Uint8Array(4);let Yr,tn;const an=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(t)||!t.output||!t.input&&t.avail_in!==0)return Z_STREAM_ERROR$1;r=t.state,r.mode===TYPE&&(r.mode=TYPEDO),a=t.next_out,o=t.output,d=t.avail_out,s=t.next_in,n=t.input,c=t.avail_in,m=r.hold,gr=r.bits,vr=c,Ar=d,Vr=Z_OK$1;e:for(;;)switch(r.mode){case HEAD:if(r.wrap===0){r.mode=TYPEDO;break}for(;gr<16;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}if(r.wrap&2&&m===35615){r.wbits===0&&(r.wbits=15),r.check=0,Xr[0]=m&255,Xr[1]=m>>>8&255,r.check=crc32_1(r.check,Xr,2,0),m=0,gr=0,r.mode=FLAGS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((m&255)<<8)+(m>>8))%31){t.msg="incorrect header check",r.mode=BAD;break}if((m&15)!==Z_DEFLATED){t.msg="unknown compression method",r.mode=BAD;break}if(m>>>=4,gr-=4,Fr=(m&15)+8,r.wbits===0&&(r.wbits=Fr),Fr>15||Fr>r.wbits){t.msg="invalid window size",r.mode=BAD;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=m&512?DICTID:TYPE,m=0,gr=0;break;case FLAGS:for(;gr<16;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}if(r.flags=m,(r.flags&255)!==Z_DEFLATED){t.msg="unknown compression method",r.mode=BAD;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=BAD;break}r.head&&(r.head.text=m>>8&1),r.flags&512&&r.wrap&4&&(Xr[0]=m&255,Xr[1]=m>>>8&255,r.check=crc32_1(r.check,Xr,2,0)),m=0,gr=0,r.mode=TIME;case TIME:for(;gr<32;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}r.head&&(r.head.time=m),r.flags&512&&r.wrap&4&&(Xr[0]=m&255,Xr[1]=m>>>8&255,Xr[2]=m>>>16&255,Xr[3]=m>>>24&255,r.check=crc32_1(r.check,Xr,4,0)),m=0,gr=0,r.mode=OS;case OS:for(;gr<16;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}r.head&&(r.head.xflags=m&255,r.head.os=m>>8),r.flags&512&&r.wrap&4&&(Xr[0]=m&255,Xr[1]=m>>>8&255,r.check=crc32_1(r.check,Xr,2,0)),m=0,gr=0,r.mode=EXLEN;case EXLEN:if(r.flags&1024){for(;gr<16;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}r.length=m,r.head&&(r.head.extra_len=m),r.flags&512&&r.wrap&4&&(Xr[0]=m&255,Xr[1]=m>>>8&255,r.check=crc32_1(r.check,Xr,2,0)),m=0,gr=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(r.flags&1024&&(Tr=r.length,Tr>c&&(Tr=c),Tr&&(r.head&&(Fr=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+Tr),Fr)),r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,n,Tr,s)),c-=Tr,s+=Tr,r.length-=Tr),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(r.flags&2048){if(c===0)break e;Tr=0;do Fr=n[s+Tr++],r.head&&Fr&&r.length<65536&&(r.head.name+=String.fromCharCode(Fr));while(Fr&&Tr<c);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,n,Tr,s)),c-=Tr,s+=Tr,Fr)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(r.flags&4096){if(c===0)break e;Tr=0;do Fr=n[s+Tr++],r.head&&Fr&&r.length<65536&&(r.head.comment+=String.fromCharCode(Fr));while(Fr&&Tr<c);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,n,Tr,s)),c-=Tr,s+=Tr,Fr)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(r.flags&512){for(;gr<16;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}if(r.wrap&4&&m!==(r.check&65535)){t.msg="header crc mismatch",r.mode=BAD;break}m=0,gr=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=TYPE;break;case DICTID:for(;gr<32;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}t.adler=r.check=zswap32(m),m=0,gr=0,r.mode=DICT;case DICT:if(r.havedict===0)return t.next_out=a,t.avail_out=d,t.next_in=s,t.avail_in=c,r.hold=m,r.bits=gr,Z_NEED_DICT$1;t.adler=r.check=1,r.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(r.last){m>>>=gr&7,gr-=gr&7,r.mode=CHECK;break}for(;gr<3;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}switch(r.last=m&1,m>>>=1,gr-=1,m&3){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,e===Z_TREES){m>>>=2,gr-=2;break e}break;case 2:r.mode=TABLE;break;case 3:t.msg="invalid block type",r.mode=BAD}m>>>=2,gr-=2;break;case STORED:for(m>>>=gr&7,gr-=gr&7;gr<32;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}if((m&65535)!==(m>>>16^65535)){t.msg="invalid stored block lengths",r.mode=BAD;break}if(r.length=m&65535,m=0,gr=0,r.mode=COPY_,e===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(Tr=r.length,Tr){if(Tr>c&&(Tr=c),Tr>d&&(Tr=d),Tr===0)break e;o.set(n.subarray(s,s+Tr),a),c-=Tr,s+=Tr,d-=Tr,a+=Tr,r.length-=Tr;break}r.mode=TYPE;break;case TABLE:for(;gr<14;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}if(r.nlen=(m&31)+257,m>>>=5,gr-=5,r.ndist=(m&31)+1,m>>>=5,gr-=5,r.ncode=(m&15)+4,m>>>=4,gr-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;gr<3;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}r.lens[an[r.have++]]=m&7,m>>>=3,gr-=3}for(;r.have<19;)r.lens[an[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Yr={bits:r.lenbits},Vr=inftrees(CODES,r.lens,0,19,r.lencode,0,r.work,Yr),r.lenbits=Yr.bits,Vr){t.msg="invalid code lengths set",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;xr=r.lencode[m&(1<<r.lenbits)-1],Dr=xr>>>24,Ur=xr>>>16&255,Cr=xr&65535,!(Dr<=gr);){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}if(Cr<16)m>>>=Dr,gr-=Dr,r.lens[r.have++]=Cr;else{if(Cr===16){for(tn=Dr+2;gr<tn;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}if(m>>>=Dr,gr-=Dr,r.have===0){t.msg="invalid bit length repeat",r.mode=BAD;break}Fr=r.lens[r.have-1],Tr=3+(m&3),m>>>=2,gr-=2}else if(Cr===17){for(tn=Dr+3;gr<tn;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}m>>>=Dr,gr-=Dr,Fr=0,Tr=3+(m&7),m>>>=3,gr-=3}else{for(tn=Dr+7;gr<tn;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}m>>>=Dr,gr-=Dr,Fr=0,Tr=11+(m&127),m>>>=7,gr-=7}if(r.have+Tr>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=BAD;break}for(;Tr--;)r.lens[r.have++]=Fr}}if(r.mode===BAD)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=BAD;break}if(r.lenbits=9,Yr={bits:r.lenbits},Vr=inftrees(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,Yr),r.lenbits=Yr.bits,Vr){t.msg="invalid literal/lengths set",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,Yr={bits:r.distbits},Vr=inftrees(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Yr),r.distbits=Yr.bits,Vr){t.msg="invalid distances set",r.mode=BAD;break}if(r.mode=LEN_,e===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(c>=6&&d>=258){t.next_out=a,t.avail_out=d,t.next_in=s,t.avail_in=c,r.hold=m,r.bits=gr,inffast(t,Ar),a=t.next_out,o=t.output,d=t.avail_out,s=t.next_in,n=t.input,c=t.avail_in,m=r.hold,gr=r.bits,r.mode===TYPE&&(r.back=-1);break}for(r.back=0;xr=r.lencode[m&(1<<r.lenbits)-1],Dr=xr>>>24,Ur=xr>>>16&255,Cr=xr&65535,!(Dr<=gr);){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}if(Ur&&(Ur&240)===0){for(Nr=Dr,Hr=Ur,Mr=Cr;xr=r.lencode[Mr+((m&(1<<Nr+Hr)-1)>>Nr)],Dr=xr>>>24,Ur=xr>>>16&255,Cr=xr&65535,!(Nr+Dr<=gr);){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}m>>>=Nr,gr-=Nr,r.back+=Nr}if(m>>>=Dr,gr-=Dr,r.back+=Dr,r.length=Cr,Ur===0){r.mode=LIT;break}if(Ur&32){r.back=-1,r.mode=TYPE;break}if(Ur&64){t.msg="invalid literal/length code",r.mode=BAD;break}r.extra=Ur&15,r.mode=LENEXT;case LENEXT:if(r.extra){for(tn=r.extra;gr<tn;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,gr-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;xr=r.distcode[m&(1<<r.distbits)-1],Dr=xr>>>24,Ur=xr>>>16&255,Cr=xr&65535,!(Dr<=gr);){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}if((Ur&240)===0){for(Nr=Dr,Hr=Ur,Mr=Cr;xr=r.distcode[Mr+((m&(1<<Nr+Hr)-1)>>Nr)],Dr=xr>>>24,Ur=xr>>>16&255,Cr=xr&65535,!(Nr+Dr<=gr);){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}m>>>=Nr,gr-=Nr,r.back+=Nr}if(m>>>=Dr,gr-=Dr,r.back+=Dr,Ur&64){t.msg="invalid distance code",r.mode=BAD;break}r.offset=Cr,r.extra=Ur&15,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(tn=r.extra;gr<tn;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,gr-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(d===0)break e;if(Tr=Ar-d,r.offset>Tr){if(Tr=r.offset-Tr,Tr>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=BAD;break}Tr>r.wnext?(Tr-=r.wnext,Rr=r.wsize-Tr):Rr=r.wnext-Tr,Tr>r.length&&(Tr=r.length),kr=r.window}else kr=o,Rr=a-r.offset,Tr=r.length;Tr>d&&(Tr=d),d-=Tr,r.length-=Tr;do o[a++]=kr[Rr++];while(--Tr);r.length===0&&(r.mode=LEN);break;case LIT:if(d===0)break e;o[a++]=r.length,d--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;gr<32;){if(c===0)break e;c--,m|=n[s++]<<gr,gr+=8}if(Ar-=d,t.total_out+=Ar,r.total+=Ar,r.wrap&4&&Ar&&(t.adler=r.check=r.flags?crc32_1(r.check,o,Ar,a-Ar):adler32_1(r.check,o,Ar,a-Ar)),Ar=d,r.wrap&4&&(r.flags?m:zswap32(m))!==r.check){t.msg="incorrect data check",r.mode=BAD;break}m=0,gr=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;gr<32;){if(c===0)break e;c--,m+=n[s++]<<gr,gr+=8}if(r.wrap&4&&m!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=BAD;break}m=0,gr=0}r.mode=DONE;case DONE:Vr=Z_STREAM_END$1;break e;case BAD:Vr=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return t.next_out=a,t.avail_out=d,t.next_in=s,t.avail_in=c,r.hold=m,r.bits=gr,(r.wsize||Ar!==t.avail_out&&r.mode<BAD&&(r.mode<CHECK||e!==Z_FINISH$1))&&updatewindow(t,t.output,t.next_out,Ar-t.avail_out),vr-=t.avail_in,Ar-=t.avail_out,t.total_in+=vr,t.total_out+=Ar,r.total+=Ar,r.wrap&4&&Ar&&(t.adler=r.check=r.flags?crc32_1(r.check,o,Ar,t.next_out-Ar):adler32_1(r.check,o,Ar,t.next_out-Ar)),t.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(vr===0&&Ar===0||e===Z_FINISH$1)&&Vr===Z_OK$1&&(Vr=Z_BUF_ERROR),Vr},inflateEnd=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;let e=t.state;return e.window&&(e.window=null),t.state=null,Z_OK$1},inflateGetHeader=(t,e)=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const r=t.state;return(r.wrap&2)===0?Z_STREAM_ERROR$1:(r.head=e,e.done=!1,Z_OK$1)},inflateSetDictionary=(t,e)=>{const r=e.length;let n,o,s;return inflateStateCheck(t)||(n=t.state,n.wrap!==0&&n.mode!==DICT)?Z_STREAM_ERROR$1:n.mode===DICT&&(o=1,o=adler32_1(o,e,r,0),o!==n.check)?Z_DATA_ERROR$1:(s=updatewindow(t,e,r,r),s?(n.mode=MEM,Z_MEM_ERROR$1):(n.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(t){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=inflate_1$2.inflateInit2(this.strm,e.windowBits);if(r!==Z_OK)throw new Error(messages[r]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString$2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=inflate_1$2.inflateSetDictionary(this.strm,e.dictionary),r!==Z_OK)))throw new Error(messages[r])}Inflate$1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let s,a,c;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=inflate_1$2.inflate(r,a),s===Z_NEED_DICT&&o&&(s=inflate_1$2.inflateSetDictionary(r,o),s===Z_OK?s=inflate_1$2.inflate(r,a):s===Z_DATA_ERROR&&(s=Z_NEED_DICT));r.avail_in>0&&s===Z_STREAM_END&&r.state.wrap>0&&t[r.next_in]!==0;)inflate_1$2.inflateReset(r),s=inflate_1$2.inflate(r,a);switch(s){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(s),this.ended=!0,!1}if(c=r.avail_out,r.next_out&&(r.avail_out===0||s===Z_STREAM_END))if(this.options.to==="string"){let d=strings.utf8border(r.output,r.next_out),m=r.next_out-d,gr=strings.buf2string(r.output,d);r.next_out=m,r.avail_out=n-m,m&&r.output.set(r.output.subarray(d,d+m),0),this.onData(gr)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Z_OK&&c===0)){if(s===Z_STREAM_END)return s=inflate_1$2.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(t){this.chunks.push(t)};Inflate$1.prototype.onEnd=function(t){t===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function inflate$1(t,e){const r=new Inflate$1(e);if(r.push(t),r.err)throw r.msg||messages[r.err];return r.result}function inflateRaw$1(t,e){return e=e||{},e.raw=!0,inflate$1(t,e)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$1=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$1};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate,assert$3={exports:{}},errors={},util$2={},types$3={},shams$1=function t(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0},hasSymbols$4=shams$1,shams=function t(){return hasSymbols$4()&&!!Symbol.toStringTag},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$3=function t(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={foo:{}},$Object=Object,hasProto$1=function t(){return{__proto__:test}.foo===test.foo&&!({__proto__:null}instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$6=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function t(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},slicy=function t(e,r){for(var n=[],o=r||0,s=0;o<e.length;o+=1,s+=1)n[s]=e[o];return n},joiny=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},implementation$a=function t(e){var r=this;if(typeof r!="function"||toStr$6.apply(r)!==funcType)throw new TypeError(ERROR_MESSAGE+r);for(var n=slicy(arguments,1),o,s=function(){if(this instanceof o){var gr=r.apply(this,concatty(n,arguments));return Object(gr)===gr?gr:this}return r.apply(e,concatty(n,arguments))},a=max(0,r.length-n.length),c=[],d=0;d<a;d++)c[d]="$"+d;if(o=Function("binder","return function ("+joiny(c,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var m=function(){};m.prototype=r.prototype,o.prototype=new m,m.prototype=null}return o},implementation$9=implementation$a,functionBind=Function.prototype.bind||implementation$9,call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$1=functionBind,hasown=bind$1.call(call,$hasOwn),undefined$1,$SyntaxError$1=SyntaxError,$Function=Function,$TypeError$2=TypeError,getEvalledConstructor=function(t){try{return $Function('"use strict"; return ('+t+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$2=hasSymbols$3(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(t){return t.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$2||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$2||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$2?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(t){var errorProto=getProto$1(getProto$1(t));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function t(e){var r;if(e==="%AsyncFunction%")r=getEvalledConstructor("async function () {}");else if(e==="%GeneratorFunction%")r=getEvalledConstructor("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=getEvalledConstructor("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&getProto$1&&(r=getProto$1(o.prototype))}return INTRINSICS[e]=r,r},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn$1=hasown,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function t(e){var r=$strSlice(e,0,1),n=$strSlice(e,-1);if(r==="%"&&n!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var o=[];return $replace(e,rePropName,function(s,a,c,d){o[o.length]=c?$replace(d,reEscapeChar,"$1"):a||s}),o},getBaseIntrinsic=function t(e,r){var n=e,o;if(hasOwn$1(LEGACY_ALIASES,n)&&(o=LEGACY_ALIASES[n],n="%"+o[0]+"%"),hasOwn$1(INTRINSICS,n)){var s=INTRINSICS[n];if(s===needsEval&&(s=doEval(n)),typeof s>"u"&&!r)throw new $TypeError$2("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:s}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function t(e,r){if(typeof e!="string"||e.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,e)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=stringToPath(e),o=n.length>0?n[0]:"",s=getBaseIntrinsic("%"+o+"%",r),a=s.name,c=s.value,d=!1,m=s.alias;m&&(o=m[0],$spliceApply(n,$concat([0,1],m)));for(var gr=1,vr=!0;gr<n.length;gr+=1){var Ar=n[gr],Tr=$strSlice(Ar,0,1),Rr=$strSlice(Ar,-1);if((Tr==='"'||Tr==="'"||Tr==="`"||Rr==='"'||Rr==="'"||Rr==="`")&&Tr!==Rr)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((Ar==="constructor"||!vr)&&(d=!0),o+="."+Ar,a="%"+o+"%",hasOwn$1(INTRINSICS,a))c=INTRINSICS[a];else if(c!=null){if(!(Ar in c)){if(!r)throw new $TypeError$2("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&gr+1>=n.length){var kr=$gOPD$1(c,Ar);vr=!!kr,vr&&"get"in kr&&!("originalValue"in kr.get)?c=kr.get:c=c[Ar]}else vr=hasOwn$1(c,Ar),c=c[Ar];vr&&!d&&(INTRINSICS[a]=c)}}return c},callBind$4={exports:{}},GetIntrinsic$4=getIntrinsic,$defineProperty$1=GetIntrinsic$4("%Object.defineProperty%",!0),hasPropertyDescriptors$1=function t(){if($defineProperty$1)try{return $defineProperty$1({},"a",{value:1}),!0}catch{return!1}return!1};hasPropertyDescriptors$1.hasArrayLengthDefineBug=function t(){if(!hasPropertyDescriptors$1())return null;try{return $defineProperty$1([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors$1,GetIntrinsic$3=getIntrinsic,$gOPD=GetIntrinsic$3("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,hasPropertyDescriptors=hasPropertyDescriptors_1(),GetIntrinsic$2=getIntrinsic,$defineProperty=hasPropertyDescriptors&&GetIntrinsic$2("%Object.defineProperty%",!0);if($defineProperty)try{$defineProperty({},"a",{value:1})}catch{$defineProperty=!1}var $SyntaxError=GetIntrinsic$2("%SyntaxError%"),$TypeError$1=GetIntrinsic$2("%TypeError%"),gopd=gopd$1,defineDataProperty$1=function t(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,d=!!gopd&&gopd(e,r);if($defineProperty)$defineProperty(e,r,{configurable:a===null&&d?d.configurable:!a,enumerable:o===null&&d?d.enumerable:!o,value:n,writable:s===null&&d?d.writable:!s});else if(c||!o&&!s&&!a)e[r]=n;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},GetIntrinsic$1=getIntrinsic,define$4=defineDataProperty$1,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=GetIntrinsic$1("%TypeError%"),$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function t(e,r){if(typeof e!="function")throw new $TypeError("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||$floor(r)!==r)throw new $TypeError("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,s=!0;if("length"in e&&gOPD$1){var a=gOPD$1(e,"length");a&&!a.configurable&&(o=!1),a&&!a.writable&&(s=!1)}return(o||s||!n)&&(hasDescriptors?define$4(e,"length",r,!0,!0):define$4(e,"length",r)),e};(function(t){var e=functionBind,r=getIntrinsic,n=setFunctionLength,o=r("%TypeError%"),s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),c=r("%Reflect.apply%",!0)||e.call(a,s),d=r("%Object.defineProperty%",!0),m=r("%Math.max%");if(d)try{d({},"a",{value:1})}catch{d=null}t.exports=function(Ar){if(typeof Ar!="function")throw new o("a function is required");var Tr=c(e,a,arguments);return n(Tr,1+m(0,Ar.length-(arguments.length-1)),!0)};var gr=function(){return c(e,s,arguments)};d?d(t.exports,"apply",{value:gr}):t.exports.apply=gr})(callBind$4);var GetIntrinsic=getIntrinsic,callBind$3=callBind$4.exports,$indexOf$1=callBind$3(GetIntrinsic("String.prototype.indexOf")),callBound$3=function t(e,r){var n=GetIntrinsic(e,!!r);return typeof n=="function"&&$indexOf$1(e,".prototype.")>-1?callBind$3(n):n},hasToStringTag$3=shams(),callBound$2=callBound$3,$toString$1=callBound$2("Object.prototype.toString"),isStandardArguments=function t(e){return hasToStringTag$3&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:$toString$1(e)==="[object Arguments]"},isLegacyArguments=function t(e){return isStandardArguments(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&$toString$1(e)!=="[object Array]"&&$toString$1(e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$2=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$5=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function t(e){if(typeof e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(e)))return!0;if(!hasToStringTag$2){var r=toStr$5.call(e);return r==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var n=getGeneratorFunc();GeneratorFunction=n?getProto(n):!1}return getProto(e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(t){t!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function t(e){try{var r=fnToStr.call(e);return constructorRegex.test(r)}catch{return!1}},tryFunctionObject=function t(e){try{return isES6ClassFn(e)?!1:(fnToStr.call(e),!0)}catch{return!1}},toStr$4=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function t(){return!1};if(typeof document=="object"){var all=document.all;toStr$4.call(all)===toStr$4.call(document.all)&&(isDDA=function(e){if((isIE68||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=toStr$4.call(e);return(r===ddaClass||r===ddaClass2||r===ddaClass3||r===objectClass)&&e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function t(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{reflectApply(e,null,badArrayLike)}catch(r){if(r!==isCallableMarker)return!1}return!isES6ClassFn(e)&&tryFunctionObject(e)}:function t(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var r=toStr$4.call(e);return r!==fnClass&&r!==genClass&&!/^\[object HTML/.test(r)?!1:tryFunctionObject(e)},isCallable=isCallable$1,toStr$3=Object.prototype.toString,hasOwnProperty$2=Object.prototype.hasOwnProperty,forEachArray=function t(e,r,n){for(var o=0,s=e.length;o<s;o++)hasOwnProperty$2.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},forEachString=function t(e,r,n){for(var o=0,s=e.length;o<s;o++)n==null?r(e.charAt(o),o,e):r.call(n,e.charAt(o),o,e)},forEachObject=function t(e,r,n){for(var o in e)hasOwnProperty$2.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},forEach$1=function t(e,r,n){if(!isCallable(r))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),toStr$3.call(e)==="[object Array]"?forEachArray(e,r,o):typeof e=="string"?forEachString(e,r,o):forEachObject(e,r,o)},forEach_1=forEach$1,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$2=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function t(){for(var e=[],r=0;r<possibleNames.length;r++)typeof g$2[possibleNames[r]]=="function"&&(e[e.length]=possibleNames[r]);return e},forEach=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind$2=callBind$4.exports,callBound$1=callBound$3,gOPD=gopd$1,$toString=callBound$1("Object.prototype.toString"),hasToStringTag=shams(),g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound$1("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf=callBound$1("Array.prototype.indexOf",!0)||function t(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},cache$1={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf?forEach(typedArrays,function(t){var e=new g$1[t];if(Symbol.toStringTag in e){var r=getPrototypeOf(e),n=gOPD(r,Symbol.toStringTag);if(!n){var o=getPrototypeOf(r);n=gOPD(o,Symbol.toStringTag)}cache$1["$"+t]=callBind$2(n.get)}}):forEach(typedArrays,function(t){var e=new g$1[t],r=e.slice||e.set;r&&(cache$1["$"+t]=callBind$2(r))});var tryTypedArrays=function t(e){var r=!1;return forEach(cache$1,function(n,o){if(!r)try{"$"+n(e)===o&&(r=$slice(o,1))}catch{}}),r},trySlices=function t(e){var r=!1;return forEach(cache$1,function(n,o){if(!r)try{n(e),r=$slice(o,1)}catch{}}),r},whichTypedArray$1=function t(e){if(!e||typeof e!="object")return!1;if(!hasToStringTag){var r=$slice($toString(e),8,-1);return $indexOf(typedArrays,r)>-1?r:r!=="Object"?!1:trySlices(e)}return gOPD?tryTypedArrays(e):null},whichTypedArray=whichTypedArray$1,isTypedArray=function t(e){return!!whichTypedArray(e)};(function(t){var e=isArguments$2,r=isGeneratorFunction,n=whichTypedArray$1,o=isTypedArray;function s(pn){return pn.call.bind(pn)}var a=typeof BigInt<"u",c=typeof Symbol<"u",d=s(Object.prototype.toString),m=s(Number.prototype.valueOf),gr=s(String.prototype.valueOf),vr=s(Boolean.prototype.valueOf);if(a)var Ar=s(BigInt.prototype.valueOf);if(c)var Tr=s(Symbol.prototype.valueOf);function Rr(pn,kn){if(typeof pn!="object")return!1;try{return kn(pn),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=o;function kr(pn){return typeof Promise<"u"&&pn instanceof Promise||pn!==null&&typeof pn=="object"&&typeof pn.then=="function"&&typeof pn.catch=="function"}t.isPromise=kr;function xr(pn){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(pn):o(pn)||zr(pn)}t.isArrayBufferView=xr;function Dr(pn){return n(pn)==="Uint8Array"}t.isUint8Array=Dr;function Ur(pn){return n(pn)==="Uint8ClampedArray"}t.isUint8ClampedArray=Ur;function Cr(pn){return n(pn)==="Uint16Array"}t.isUint16Array=Cr;function Nr(pn){return n(pn)==="Uint32Array"}t.isUint32Array=Nr;function Hr(pn){return n(pn)==="Int8Array"}t.isInt8Array=Hr;function Mr(pn){return n(pn)==="Int16Array"}t.isInt16Array=Mr;function Fr(pn){return n(pn)==="Int32Array"}t.isInt32Array=Fr;function Vr(pn){return n(pn)==="Float32Array"}t.isFloat32Array=Vr;function Xr(pn){return n(pn)==="Float64Array"}t.isFloat64Array=Xr;function Yr(pn){return n(pn)==="BigInt64Array"}t.isBigInt64Array=Yr;function tn(pn){return n(pn)==="BigUint64Array"}t.isBigUint64Array=tn;function an(pn){return d(pn)==="[object Map]"}an.working=typeof Map<"u"&&an(new Map);function Lr(pn){return typeof Map>"u"?!1:an.working?an(pn):pn instanceof Map}t.isMap=Lr;function Er(pn){return d(pn)==="[object Set]"}Er.working=typeof Set<"u"&&Er(new Set);function Or(pn){return typeof Set>"u"?!1:Er.working?Er(pn):pn instanceof Set}t.isSet=Or;function jr(pn){return d(pn)==="[object WeakMap]"}jr.working=typeof WeakMap<"u"&&jr(new WeakMap);function Gr(pn){return typeof WeakMap>"u"?!1:jr.working?jr(pn):pn instanceof WeakMap}t.isWeakMap=Gr;function qr(pn){return d(pn)==="[object WeakSet]"}qr.working=typeof WeakSet<"u"&&qr(new WeakSet);function Jr(pn){return qr(pn)}t.isWeakSet=Jr;function en(pn){return d(pn)==="[object ArrayBuffer]"}en.working=typeof ArrayBuffer<"u"&&en(new ArrayBuffer);function Kr(pn){return typeof ArrayBuffer>"u"?!1:en.working?en(pn):pn instanceof ArrayBuffer}t.isArrayBuffer=Kr;function Ir(pn){return d(pn)==="[object DataView]"}Ir.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Ir(new DataView(new ArrayBuffer(1),0,1));function zr(pn){return typeof DataView>"u"?!1:Ir.working?Ir(pn):pn instanceof DataView}t.isDataView=zr;var un=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function vn(pn){return d(pn)==="[object SharedArrayBuffer]"}function _n(pn){return typeof un>"u"?!1:(typeof vn.working>"u"&&(vn.working=vn(new un)),vn.working?vn(pn):pn instanceof un)}t.isSharedArrayBuffer=_n;function dn(pn){return d(pn)==="[object AsyncFunction]"}t.isAsyncFunction=dn;function gn(pn){return d(pn)==="[object Map Iterator]"}t.isMapIterator=gn;function yn(pn){return d(pn)==="[object Set Iterator]"}t.isSetIterator=yn;function Tn(pn){return d(pn)==="[object Generator]"}t.isGeneratorObject=Tn;function Dn(pn){return d(pn)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Dn;function sn(pn){return Rr(pn,m)}t.isNumberObject=sn;function cn(pn){return Rr(pn,gr)}t.isStringObject=cn;function fn(pn){return Rr(pn,vr)}t.isBooleanObject=fn;function Sn(pn){return a&&Rr(pn,Ar)}t.isBigIntObject=Sn;function On(pn){return c&&Rr(pn,Tr)}t.isSymbolObject=On;function An(pn){return sn(pn)||cn(pn)||fn(pn)||Sn(pn)||On(pn)}t.isBoxedPrimitive=An;function Ln(pn){return typeof Uint8Array<"u"&&(Kr(pn)||_n(pn))}t.isAnyArrayBuffer=Ln,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(pn){Object.defineProperty(t,pn,{enumerable:!1,value:function(){throw new Error(pn+" is not supported in userland")}})})})(types$3);var isBuffer=function t(e){return e instanceof dist$1.Buffer},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};(function(t){var e=Object.getOwnPropertyDescriptors||function(zr){for(var un=Object.keys(zr),vn={},_n=0;_n<un.length;_n++)vn[un[_n]]=Object.getOwnPropertyDescriptor(zr,un[_n]);return vn},r=/%[sdj%]/g;t.format=function(Ir){if(!Hr(Ir)){for(var zr=[],un=0;un<arguments.length;un++)zr.push(a(arguments[un]));return zr.join(" ")}for(var un=1,vn=arguments,_n=vn.length,dn=String(Ir).replace(r,function(yn){if(yn==="%%")return"%";if(un>=_n)return yn;switch(yn){case"%s":return String(vn[un++]);case"%d":return Number(vn[un++]);case"%j":try{return JSON.stringify(vn[un++])}catch{return"[Circular]"}default:return yn}}),gn=vn[un];un<_n;gn=vn[++un])Ur(gn)||!Xr(gn)?dn+=" "+gn:dn+=" "+a(gn);return dn},t.deprecate=function(Ir,zr){if(typeof dist$1.process<"u"&&dist$1.process.noDeprecation===!0)return Ir;if(typeof dist$1.process>"u")return function(){return t.deprecate(Ir,zr).apply(this,arguments)};var un=!1;function vn(){if(!un){if(dist$1.process.throwDeprecation)throw new Error(zr);dist$1.process.traceDeprecation?console.trace(zr):console.error(zr),un=!0}return Ir.apply(this,arguments)}return vn};var n={},o=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}t.debuglog=function(Ir){if(Ir=Ir.toUpperCase(),!n[Ir])if(o.test(Ir)){var zr=dist$1.process.pid;n[Ir]=function(){var un=t.format.apply(t,arguments);console.error("%s %d: %s",Ir,zr,un)}}else n[Ir]=function(){};return n[Ir]};function a(Ir,zr){var un={seen:[],stylize:d};return arguments.length>=3&&(un.depth=arguments[2]),arguments.length>=4&&(un.colors=arguments[3]),Dr(zr)?un.showHidden=zr:zr&&t._extend(un,zr),Fr(un.showHidden)&&(un.showHidden=!1),Fr(un.depth)&&(un.depth=2),Fr(un.colors)&&(un.colors=!1),Fr(un.customInspect)&&(un.customInspect=!0),un.colors&&(un.stylize=c),gr(un,Ir,un.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(Ir,zr){var un=a.styles[zr];return un?"\x1B["+a.colors[un][0]+"m"+Ir+"\x1B["+a.colors[un][1]+"m":Ir}function d(Ir,zr){return Ir}function m(Ir){var zr={};return Ir.forEach(function(un,vn){zr[un]=!0}),zr}function gr(Ir,zr,un){if(Ir.customInspect&&zr&&an(zr.inspect)&&zr.inspect!==t.inspect&&!(zr.constructor&&zr.constructor.prototype===zr)){var vn=zr.inspect(un,Ir);return Hr(vn)||(vn=gr(Ir,vn,un)),vn}var _n=vr(Ir,zr);if(_n)return _n;var dn=Object.keys(zr),gn=m(dn);if(Ir.showHidden&&(dn=Object.getOwnPropertyNames(zr)),tn(zr)&&(dn.indexOf("message")>=0||dn.indexOf("description")>=0))return Ar(zr);if(dn.length===0){if(an(zr)){var yn=zr.name?": "+zr.name:"";return Ir.stylize("[Function"+yn+"]","special")}if(Vr(zr))return Ir.stylize(RegExp.prototype.toString.call(zr),"regexp");if(Yr(zr))return Ir.stylize(Date.prototype.toString.call(zr),"date");if(tn(zr))return Ar(zr)}var Tn="",Dn=!1,sn=["{","}"];if(xr(zr)&&(Dn=!0,sn=["[","]"]),an(zr)){var cn=zr.name?": "+zr.name:"";Tn=" [Function"+cn+"]"}if(Vr(zr)&&(Tn=" "+RegExp.prototype.toString.call(zr)),Yr(zr)&&(Tn=" "+Date.prototype.toUTCString.call(zr)),tn(zr)&&(Tn=" "+Ar(zr)),dn.length===0&&(!Dn||zr.length==0))return sn[0]+Tn+sn[1];if(un<0)return Vr(zr)?Ir.stylize(RegExp.prototype.toString.call(zr),"regexp"):Ir.stylize("[Object]","special");Ir.seen.push(zr);var fn;return Dn?fn=Tr(Ir,zr,un,gn,dn):fn=dn.map(function(Sn){return Rr(Ir,zr,un,gn,Sn,Dn)}),Ir.seen.pop(),kr(fn,Tn,sn)}function vr(Ir,zr){if(Fr(zr))return Ir.stylize("undefined","undefined");if(Hr(zr)){var un="'"+JSON.stringify(zr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ir.stylize(un,"string")}if(Nr(zr))return Ir.stylize(""+zr,"number");if(Dr(zr))return Ir.stylize(""+zr,"boolean");if(Ur(zr))return Ir.stylize("null","null")}function Ar(Ir){return"["+Error.prototype.toString.call(Ir)+"]"}function Tr(Ir,zr,un,vn,_n){for(var dn=[],gn=0,yn=zr.length;gn<yn;++gn)qr(zr,String(gn))?dn.push(Rr(Ir,zr,un,vn,String(gn),!0)):dn.push("");return _n.forEach(function(Tn){Tn.match(/^\d+$/)||dn.push(Rr(Ir,zr,un,vn,Tn,!0))}),dn}function Rr(Ir,zr,un,vn,_n,dn){var gn,yn,Tn;if(Tn=Object.getOwnPropertyDescriptor(zr,_n)||{value:zr[_n]},Tn.get?Tn.set?yn=Ir.stylize("[Getter/Setter]","special"):yn=Ir.stylize("[Getter]","special"):Tn.set&&(yn=Ir.stylize("[Setter]","special")),qr(vn,_n)||(gn="["+_n+"]"),yn||(Ir.seen.indexOf(Tn.value)<0?(Ur(un)?yn=gr(Ir,Tn.value,null):yn=gr(Ir,Tn.value,un-1),yn.indexOf(`
`)>-1&&(dn?yn=yn.split(`
`).map(function(Dn){return"  "+Dn}).join(`
`).slice(2):yn=`
`+yn.split(`
`).map(function(Dn){return"   "+Dn}).join(`
`))):yn=Ir.stylize("[Circular]","special")),Fr(gn)){if(dn&&_n.match(/^\d+$/))return yn;gn=JSON.stringify(""+_n),gn.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(gn=gn.slice(1,-1),gn=Ir.stylize(gn,"name")):(gn=gn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),gn=Ir.stylize(gn,"string"))}return gn+": "+yn}function kr(Ir,zr,un){var vn=Ir.reduce(function(_n,dn){return dn.indexOf(`
`)>=0,_n+dn.replace(/\u001b\[\d\d?m/g,"").length+1},0);return vn>60?un[0]+(zr===""?"":zr+`
 `)+" "+Ir.join(`,
  `)+" "+un[1]:un[0]+zr+" "+Ir.join(", ")+" "+un[1]}t.types=types$3;function xr(Ir){return Array.isArray(Ir)}t.isArray=xr;function Dr(Ir){return typeof Ir=="boolean"}t.isBoolean=Dr;function Ur(Ir){return Ir===null}t.isNull=Ur;function Cr(Ir){return Ir==null}t.isNullOrUndefined=Cr;function Nr(Ir){return typeof Ir=="number"}t.isNumber=Nr;function Hr(Ir){return typeof Ir=="string"}t.isString=Hr;function Mr(Ir){return typeof Ir=="symbol"}t.isSymbol=Mr;function Fr(Ir){return Ir===void 0}t.isUndefined=Fr;function Vr(Ir){return Xr(Ir)&&Er(Ir)==="[object RegExp]"}t.isRegExp=Vr,t.types.isRegExp=Vr;function Xr(Ir){return typeof Ir=="object"&&Ir!==null}t.isObject=Xr;function Yr(Ir){return Xr(Ir)&&Er(Ir)==="[object Date]"}t.isDate=Yr,t.types.isDate=Yr;function tn(Ir){return Xr(Ir)&&(Er(Ir)==="[object Error]"||Ir instanceof Error)}t.isError=tn,t.types.isNativeError=tn;function an(Ir){return typeof Ir=="function"}t.isFunction=an;function Lr(Ir){return Ir===null||typeof Ir=="boolean"||typeof Ir=="number"||typeof Ir=="string"||typeof Ir=="symbol"||typeof Ir>"u"}t.isPrimitive=Lr,t.isBuffer=isBuffer;function Er(Ir){return Object.prototype.toString.call(Ir)}function Or(Ir){return Ir<10?"0"+Ir.toString(10):Ir.toString(10)}var jr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Gr(){var Ir=new Date,zr=[Or(Ir.getHours()),Or(Ir.getMinutes()),Or(Ir.getSeconds())].join(":");return[Ir.getDate(),jr[Ir.getMonth()],zr].join(" ")}t.log=function(){console.log("%s - %s",Gr(),t.format.apply(t,arguments))},t.inherits=inherits_browser.exports,t._extend=function(Ir,zr){if(!zr||!Xr(zr))return Ir;for(var un=Object.keys(zr),vn=un.length;vn--;)Ir[un[vn]]=zr[un[vn]];return Ir};function qr(Ir,zr){return Object.prototype.hasOwnProperty.call(Ir,zr)}var Jr=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(zr){if(typeof zr!="function")throw new TypeError('The "original" argument must be of type Function');if(Jr&&zr[Jr]){var un=zr[Jr];if(typeof un!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(un,Jr,{value:un,enumerable:!1,writable:!1,configurable:!0}),un}function un(){for(var vn,_n,dn=new Promise(function(Tn,Dn){vn=Tn,_n=Dn}),gn=[],yn=0;yn<arguments.length;yn++)gn.push(arguments[yn]);gn.push(function(Tn,Dn){Tn?_n(Tn):vn(Dn)});try{zr.apply(this,gn)}catch(Tn){_n(Tn)}return dn}return Object.setPrototypeOf(un,Object.getPrototypeOf(zr)),Jr&&Object.defineProperty(un,Jr,{value:un,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(un,e(zr))},t.promisify.custom=Jr;function en(Ir,zr){if(!Ir){var un=new Error("Promise was rejected with a falsy value");un.reason=Ir,Ir=un}return zr(Ir)}function Kr(Ir){if(typeof Ir!="function")throw new TypeError('The "original" argument must be of type Function');function zr(){for(var un=[],vn=0;vn<arguments.length;vn++)un.push(arguments[vn]);var _n=un.pop();if(typeof _n!="function")throw new TypeError("The last argument must be of type Function");var dn=this,gn=function(){return _n.apply(dn,arguments)};Ir.apply(this,un).then(function(yn){dist$1.process.nextTick(gn.bind(null,null,yn))},function(yn){dist$1.process.nextTick(en.bind(null,yn,gn))})}return Object.setPrototypeOf(zr,Object.getPrototypeOf(Ir)),Object.defineProperties(zr,e(Ir)),zr}t.callbackify=Kr})(util$2);function _typeof$4(t){return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}function _defineProperties$3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey$4(n.key),n)}}function _createClass$3(t,e,r){return e&&_defineProperties$3(t.prototype,e),r&&_defineProperties$3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$4(t){var e=_toPrimitive$4(t,"string");return _typeof$4(e)==="symbol"?e:String(e)}function _toPrimitive$4(t,e){if(_typeof$4(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_typeof$4(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits$1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$2(t,e)}function _setPrototypeOf$2(t,e){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},_setPrototypeOf$2(t,e)}function _createSuper$1(t){var e=_isNativeReflectConstruct$1();return function(){var n=_getPrototypeOf$1(t),o;if(e){var s=_getPrototypeOf$1(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return _possibleConstructorReturn$1(this,o)}}function _possibleConstructorReturn$1(t,e){if(e&&(_typeof$4(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(t)}function _assertThisInitialized$2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(t){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf$1(t)}var codes={},assert$2,util$1;function createErrorType(t,e,r){r||(r=Error);function n(s,a,c){return typeof e=="string"?e:e(s,a,c)}var o=function(s){_inherits$1(c,s);var a=_createSuper$1(c);function c(d,m,gr){var vr;return _classCallCheck$2(this,c),vr=a.call(this,n(d,m,gr)),vr.code=t,vr}return _createClass$3(c)}(r);codes[t]=o}function oneOf(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function startsWith(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function endsWith$1(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function includes(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}createErrorType("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(t,e,r){assert$2===void 0&&(assert$2=assert$3.exports),assert$2(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&startsWith(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var o;if(endsWith$1(t," argument"))o="The ".concat(t," ").concat(n," ").concat(oneOf(e,"type"));else{var s=includes(t,".")?"property":"argument";o='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(oneOf(e,"type"))}return o+=". Received type ".concat(_typeof$4(r)),o},TypeError);createErrorType("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";util$1===void 0&&(util$1=util$2);var n=util$1.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError);createErrorType("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(_typeof$4(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);createErrorType("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];assert$2===void 0&&(assert$2=assert$3.exports),assert$2(e.length>0,"At least one arg needs to be specified");var n="The ",o=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),o){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,o-1).join(", "),n+=", and ".concat(e[o-1]," arguments");break}return"".concat(n," must be specified")},TypeError);errors.codes=codes;function ownKeys$1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(r),!0).forEach(function(n){_defineProperty$1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _defineProperty$1(t,e,r){return e=_toPropertyKey$3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey$3(n.key),n)}}function _createClass$2(t,e,r){return e&&_defineProperties$2(t.prototype,e),r&&_defineProperties$2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$3(t){var e=_toPrimitive$3(t,"string");return _typeof$3(e)==="symbol"?e:String(e)}function _toPrimitive$3(t,e){if(_typeof$3(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_typeof$3(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _inherits(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$1(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n=_getPrototypeOf(t),o;if(e){var s=_getPrototypeOf(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,e){if(e&&(_typeof$3(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(t)}function _assertThisInitialized$1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(n){if(n===null||!_isNativeFunction(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return _construct(n,arguments,_getPrototypeOf(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf$1(o,n)},_wrapNativeSuper(t)}function _construct(t,e,r){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(o,s,a){var c=[null];c.push.apply(c,s);var d=Function.bind.apply(o,c),m=new d;return a&&_setPrototypeOf$1(m,a.prototype),m},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _isNativeFunction(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function _setPrototypeOf$1(t,e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},_setPrototypeOf$1(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(t)}function _typeof$3(t){return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}var _require$1=util$2,inspect$3=_require$1.inspect,_require2$1=errors,ERR_INVALID_ARG_TYPE$1=_require2$1.codes.ERR_INVALID_ARG_TYPE;function endsWith(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function repeat(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}var blue="",green="",red="",white="",kReadableOperator={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},kMaxShortLength=10;function copyError(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}function inspectValue(t){return inspect$3(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function createErrDiff(t,e,r){var n="",o="",s=0,a="",c=!1,d=inspectValue(t),m=d.split(`
`),gr=inspectValue(e).split(`
`),vr=0,Ar="";if(r==="strictEqual"&&_typeof$3(t)==="object"&&_typeof$3(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),m.length===1&&gr.length===1&&m[0]!==gr[0]){var Tr=m[0].length+gr[0].length;if(Tr<=kMaxShortLength){if((_typeof$3(t)!=="object"||t===null)&&(_typeof$3(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(kReadableOperator[r],`

`)+"".concat(m[0]," !== ").concat(gr[0],`
`)}else if(r!=="strictEqualObject"){var Rr=dist$1.process.stderr&&dist$1.process.stderr.isTTY?dist$1.process.stderr.columns:80;if(Tr<Rr){for(;m[0][vr]===gr[0][vr];)vr++;vr>2&&(Ar=`
  `.concat(repeat(" ",vr),"^"),vr=0)}}}for(var kr=m[m.length-1],xr=gr[gr.length-1];kr===xr&&(vr++<2?a=`
  `.concat(kr).concat(a):n=kr,m.pop(),gr.pop(),!(m.length===0||gr.length===0));)kr=m[m.length-1],xr=gr[gr.length-1];var Dr=Math.max(m.length,gr.length);if(Dr===0){var Ur=d.split(`
`);if(Ur.length>30)for(Ur[26]="".concat(blue,"...").concat(white);Ur.length>27;)Ur.pop();return"".concat(kReadableOperator.notIdentical,`

`).concat(Ur.join(`
`),`
`)}vr>3&&(a=`
`.concat(blue,"...").concat(white).concat(a),c=!0),n!==""&&(a=`
  `.concat(n).concat(a),n="");var Cr=0,Nr=kReadableOperator[r]+`
`.concat(green,"+ actual").concat(white," ").concat(red,"- expected").concat(white),Hr=" ".concat(blue,"...").concat(white," Lines skipped");for(vr=0;vr<Dr;vr++){var Mr=vr-s;if(m.length<vr+1)Mr>1&&vr>2&&(Mr>4?(o+=`
`.concat(blue,"...").concat(white),c=!0):Mr>3&&(o+=`
  `.concat(gr[vr-2]),Cr++),o+=`
  `.concat(gr[vr-1]),Cr++),s=vr,n+=`
`.concat(red,"-").concat(white," ").concat(gr[vr]),Cr++;else if(gr.length<vr+1)Mr>1&&vr>2&&(Mr>4?(o+=`
`.concat(blue,"...").concat(white),c=!0):Mr>3&&(o+=`
  `.concat(m[vr-2]),Cr++),o+=`
  `.concat(m[vr-1]),Cr++),s=vr,o+=`
`.concat(green,"+").concat(white," ").concat(m[vr]),Cr++;else{var Fr=gr[vr],Vr=m[vr],Xr=Vr!==Fr&&(!endsWith(Vr,",")||Vr.slice(0,-1)!==Fr);Xr&&endsWith(Fr,",")&&Fr.slice(0,-1)===Vr&&(Xr=!1,Vr+=","),Xr?(Mr>1&&vr>2&&(Mr>4?(o+=`
`.concat(blue,"...").concat(white),c=!0):Mr>3&&(o+=`
  `.concat(m[vr-2]),Cr++),o+=`
  `.concat(m[vr-1]),Cr++),s=vr,o+=`
`.concat(green,"+").concat(white," ").concat(Vr),n+=`
`.concat(red,"-").concat(white," ").concat(Fr),Cr+=2):(o+=n,n="",(Mr===1||vr===0)&&(o+=`
  `.concat(Vr),Cr++))}if(Cr>20&&vr<Dr-2)return"".concat(Nr).concat(Hr,`
`).concat(o,`
`).concat(blue,"...").concat(white).concat(n,`
`)+"".concat(blue,"...").concat(white)}return"".concat(Nr).concat(c?Hr:"",`
`).concat(o).concat(n).concat(a).concat(Ar)}var AssertionError$2=function(t,e){_inherits(n,t);var r=_createSuper(n);function n(o){var s;if(_classCallCheck$1(this,n),_typeof$3(o)!=="object"||o===null)throw new ERR_INVALID_ARG_TYPE$1("options","Object",o);var a=o.message,c=o.operator,d=o.stackStartFn,m=o.actual,gr=o.expected,vr=Error.stackTraceLimit;if(Error.stackTraceLimit=0,a!=null)s=r.call(this,String(a));else if(dist$1.process.stderr&&dist$1.process.stderr.isTTY&&(dist$1.process.stderr&&dist$1.process.stderr.getColorDepth&&dist$1.process.stderr.getColorDepth()!==1?(blue="\x1B[34m",green="\x1B[32m",white="\x1B[39m",red="\x1B[31m"):(blue="",green="",white="",red="")),_typeof$3(m)==="object"&&m!==null&&_typeof$3(gr)==="object"&&gr!==null&&"stack"in m&&m instanceof Error&&"stack"in gr&&gr instanceof Error&&(m=copyError(m),gr=copyError(gr)),c==="deepStrictEqual"||c==="strictEqual")s=r.call(this,createErrDiff(m,gr,c));else if(c==="notDeepStrictEqual"||c==="notStrictEqual"){var Ar=kReadableOperator[c],Tr=inspectValue(m).split(`
`);if(c==="notStrictEqual"&&_typeof$3(m)==="object"&&m!==null&&(Ar=kReadableOperator.notStrictEqualObject),Tr.length>30)for(Tr[26]="".concat(blue,"...").concat(white);Tr.length>27;)Tr.pop();Tr.length===1?s=r.call(this,"".concat(Ar," ").concat(Tr[0])):s=r.call(this,"".concat(Ar,`

`).concat(Tr.join(`
`),`
`))}else{var Rr=inspectValue(m),kr="",xr=kReadableOperator[c];c==="notDeepEqual"||c==="notEqual"?(Rr="".concat(kReadableOperator[c],`

`).concat(Rr),Rr.length>1024&&(Rr="".concat(Rr.slice(0,1021),"..."))):(kr="".concat(inspectValue(gr)),Rr.length>512&&(Rr="".concat(Rr.slice(0,509),"...")),kr.length>512&&(kr="".concat(kr.slice(0,509),"...")),c==="deepEqual"||c==="equal"?Rr="".concat(xr,`

`).concat(Rr,`

should equal

`):kr=" ".concat(c," ").concat(kr)),s=r.call(this,"".concat(Rr).concat(kr))}return Error.stackTraceLimit=vr,s.generatedMessage=!a,Object.defineProperty(_assertThisInitialized$1(s),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),s.code="ERR_ASSERTION",s.actual=m,s.expected=gr,s.operator=c,Error.captureStackTrace&&Error.captureStackTrace(_assertThisInitialized$1(s),d),s.stack,s.name="AssertionError",_possibleConstructorReturn(s)}return _createClass$2(n,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:e,value:function(s,a){return inspect$3(this,_objectSpread(_objectSpread({},a),{},{customInspect:!1,depth:0}))}}]),n}(_wrapNativeSuper(Error),inspect$3.custom),assertion_error=AssertionError$2,toStr$2=Object.prototype.toString,isArguments$1=function t(e){var r=toStr$2.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&toStr$2.call(e.callee)==="[object Function]"),n},keysShim$1;if(!Object.keys){var has$1=Object.prototype.hasOwnProperty,toStr$1=Object.prototype.toString,isArgs$1=isArguments$1,isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call(function(){},"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(t){var e=t.constructor;return e&&e.prototype===t},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if(typeof window>"u")return!1;for(var t in window)try{if(!excludedKeys["$"+t]&&has$1.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{equalsConstructorPrototype(window[t])}catch{return!0}}catch{return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(t){if(typeof window>"u"||!hasAutomationEqualityBug)return equalsConstructorPrototype(t);try{return equalsConstructorPrototype(t)}catch{return!1}};keysShim$1=function(e){var r=e!==null&&typeof e=="object",n=toStr$1.call(e)==="[object Function]",o=isArgs$1(e),s=r&&toStr$1.call(e)==="[object String]",a=[];if(!r&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var c=hasProtoEnumBug&&n;if(s&&e.length>0&&!has$1.call(e,0))for(var d=0;d<e.length;++d)a.push(String(d));if(o&&e.length>0)for(var m=0;m<e.length;++m)a.push(String(m));else for(var gr in e)!(c&&gr==="prototype")&&has$1.call(e,gr)&&a.push(String(gr));if(hasDontEnumBug)for(var vr=equalsConstructorPrototypeIfNotBuggy(e),Ar=0;Ar<dontEnums.length;++Ar)!(vr&&dontEnums[Ar]==="constructor")&&has$1.call(e,dontEnums[Ar])&&a.push(dontEnums[Ar]);return a}}var implementation$8=keysShim$1,slice=Array.prototype.slice,isArgs=isArguments$1,origKeys=Object.keys,keysShim=origKeys?function t(e){return origKeys(e)}:implementation$8,originalKeys=Object.keys;keysShim.shim=function t(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return isArgs(n)?originalKeys(slice.call(n)):originalKeys(n)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys$2=keysShim,objectKeys$1=objectKeys$2,hasSymbols$1=shams$1(),callBound=callBound$3,toObject=Object,$push=callBound("Array.prototype.push"),$propIsEnumerable=callBound("Object.prototype.propertyIsEnumerable"),originalGetSymbols=hasSymbols$1?Object.getOwnPropertySymbols:null,implementation$7=function t(e,r){if(e==null)throw new TypeError("target must be an object");var n=toObject(e);if(arguments.length===1)return n;for(var o=1;o<arguments.length;++o){var s=toObject(arguments[o]),a=objectKeys$1(s),c=hasSymbols$1&&(Object.getOwnPropertySymbols||originalGetSymbols);if(c)for(var d=c(s),m=0;m<d.length;++m){var gr=d[m];$propIsEnumerable(s,gr)&&$push(a,gr)}for(var vr=0;vr<a.length;++vr){var Ar=a[vr];if($propIsEnumerable(s,Ar)){var Tr=s[Ar];n[Ar]=Tr}}}return n},implementation$6=implementation$7,lacksProperEnumerationOrder=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),s="";for(var a in o)s+=a;return t!==s},assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},polyfill$4=function t(){return!Object.assign||lacksProperEnumerationOrder()||assignHasPendingExceptions()?implementation$6:Object.assign},numberIsNaN$1=function(t){return t!==t},implementation$5=function t(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||numberIsNaN$1(e)&&numberIsNaN$1(r))},implementation$4=implementation$5,polyfill$3=function t(){return typeof Object.is=="function"?Object.is:implementation$4},keys$1=objectKeys$2,hasSymbols=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",toStr=Object.prototype.toString,concat=Array.prototype.concat,defineDataProperty=defineDataProperty$1,isFunction$2=function(t){return typeof t=="function"&&toStr.call(t)==="[object Function]"},supportsDescriptors=hasPropertyDescriptors_1(),defineProperty$1=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!isFunction$2(n)||!n())return}supportsDescriptors?defineDataProperty(t,e,r,!0):defineDataProperty(t,e,r)},defineProperties=function(t,e){var r=arguments.length>2?arguments[2]:{},n=keys$1(e);hasSymbols&&(n=concat.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)defineProperty$1(t,n[o],e[n[o]],r[n[o]])};defineProperties.supportsDescriptors=!!supportsDescriptors;var defineProperties_1=defineProperties,getPolyfill$3=polyfill$3,define$3=defineProperties_1,shim$3=function t(){var e=getPolyfill$3();return define$3(Object,{is:e},{is:function(){return Object.is!==e}}),e},define$2=defineProperties_1,callBind$1=callBind$4.exports,implementation$3=implementation$5,getPolyfill$2=polyfill$3,shim$2=shim$3,polyfill$2=callBind$1(getPolyfill$2(),Object);define$2(polyfill$2,{getPolyfill:getPolyfill$2,implementation:implementation$3,shim:shim$2});var objectIs$2=polyfill$2,implementation$2=function t(e){return e!==e},implementation$1=implementation$2,polyfill$1=function t(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:implementation$1},define$1=defineProperties_1,getPolyfill$1=polyfill$1,shim$1=function t(){var e=getPolyfill$1();return define$1(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e},callBind=callBind$4.exports,define=defineProperties_1,implementation=implementation$2,getPolyfill=polyfill$1,shim=shim$1,polyfill=callBind(getPolyfill(),Number);define(polyfill,{getPolyfill,implementation,shim});var isNan=polyfill;function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray$1(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray$1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(t,e)}}function _arrayLikeToArray$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _iterableToArrayLimit(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,o,s,a,c=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(gr){m=!0,o=gr}finally{try{if(!d&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(m)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof$2(t){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}var regexFlagsSupported=/a/g.flags!==void 0,arrayFromSet=function t(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},arrayFromMap=function t(e){var r=[];return e.forEach(function(n,o){return r.push([o,n])}),r},objectIs$1=Object.is?Object.is:objectIs$2,objectGetOwnPropertySymbols=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},numberIsNaN=Number.isNaN?Number.isNaN:isNan;function uncurryThis(t){return t.call.bind(t)}var hasOwnProperty$1=uncurryThis(Object.prototype.hasOwnProperty),propertyIsEnumerable=uncurryThis(Object.prototype.propertyIsEnumerable),objectToString$1=uncurryThis(Object.prototype.toString),_require$types$1=util$2.types,isAnyArrayBuffer=_require$types$1.isAnyArrayBuffer,isArrayBufferView=_require$types$1.isArrayBufferView,isDate$1=_require$types$1.isDate,isMap=_require$types$1.isMap,isRegExp$2=_require$types$1.isRegExp,isSet=_require$types$1.isSet,isNativeError=_require$types$1.isNativeError,isBoxedPrimitive=_require$types$1.isBoxedPrimitive,isNumberObject=_require$types$1.isNumberObject,isStringObject=_require$types$1.isStringObject,isBooleanObject=_require$types$1.isBooleanObject,isBigIntObject=_require$types$1.isBigIntObject,isSymbolObject=_require$types$1.isSymbolObject,isFloat32Array=_require$types$1.isFloat32Array,isFloat64Array=_require$types$1.isFloat64Array;function isNonIndex(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}function getOwnNonIndexProperties(t){return Object.keys(t).filter(isNonIndex).concat(objectGetOwnPropertySymbols(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function compare$1(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,s=Math.min(r,n);o<s;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}var kStrict=!0,kLoose=!1,kNoIterator=0,kIsArray=1,kIsSet=2,kIsMap=3;function areSimilarRegExps(t,e){return regexFlagsSupported?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function areSimilarFloatArrays(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function areSimilarTypedArrays(t,e){return t.byteLength!==e.byteLength?!1:compare$1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function areEqualArrayBuffers(t,e){return t.byteLength===e.byteLength&&compare$1(new Uint8Array(t),new Uint8Array(e))===0}function isEqualBoxedPrimitive(t,e){return isNumberObject(t)?isNumberObject(e)&&objectIs$1(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):isStringObject(t)?isStringObject(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):isBooleanObject(t)?isBooleanObject(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):isBigIntObject(t)?isBigIntObject(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):isSymbolObject(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}function innerDeepEqual(t,e,r,n){if(t===e)return t!==0?!0:r?objectIs$1(t,e):!0;if(r){if(_typeof$2(t)!=="object")return typeof t=="number"&&numberIsNaN(t)&&numberIsNaN(e);if(_typeof$2(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||_typeof$2(t)!=="object")return e===null||_typeof$2(e)!=="object"?t==e:!1;if(e===null||_typeof$2(e)!=="object")return!1}var o=objectToString$1(t),s=objectToString$1(e);if(o!==s)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var a=getOwnNonIndexProperties(t),c=getOwnNonIndexProperties(e);return a.length!==c.length?!1:keyCheck(t,e,r,n,kIsArray,a)}if(o==="[object Object]"&&(!isMap(t)&&isMap(e)||!isSet(t)&&isSet(e)))return!1;if(isDate$1(t)){if(!isDate$1(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(isRegExp$2(t)){if(!isRegExp$2(e)||!areSimilarRegExps(t,e))return!1}else if(isNativeError(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(isArrayBufferView(t)){if(!r&&(isFloat32Array(t)||isFloat64Array(t))){if(!areSimilarFloatArrays(t,e))return!1}else if(!areSimilarTypedArrays(t,e))return!1;var d=getOwnNonIndexProperties(t),m=getOwnNonIndexProperties(e);return d.length!==m.length?!1:keyCheck(t,e,r,n,kNoIterator,d)}else{if(isSet(t))return!isSet(e)||t.size!==e.size?!1:keyCheck(t,e,r,n,kIsSet);if(isMap(t))return!isMap(e)||t.size!==e.size?!1:keyCheck(t,e,r,n,kIsMap);if(isAnyArrayBuffer(t)){if(!areEqualArrayBuffers(t,e))return!1}else if(isBoxedPrimitive(t)&&!isEqualBoxedPrimitive(t,e))return!1}return keyCheck(t,e,r,n,kNoIterator)}function getEnumerables(t,e){return e.filter(function(r){return propertyIsEnumerable(t,r)})}function keyCheck(t,e,r,n,o,s){if(arguments.length===5){s=Object.keys(t);var a=Object.keys(e);if(s.length!==a.length)return!1}for(var c=0;c<s.length;c++)if(!hasOwnProperty$1(e,s[c]))return!1;if(r&&arguments.length===5){var d=objectGetOwnPropertySymbols(t);if(d.length!==0){var m=0;for(c=0;c<d.length;c++){var gr=d[c];if(propertyIsEnumerable(t,gr)){if(!propertyIsEnumerable(e,gr))return!1;s.push(gr),m++}else if(propertyIsEnumerable(e,gr))return!1}var vr=objectGetOwnPropertySymbols(e);if(d.length!==vr.length&&getEnumerables(e,vr).length!==m)return!1}else{var Ar=objectGetOwnPropertySymbols(e);if(Ar.length!==0&&getEnumerables(e,Ar).length!==0)return!1}}if(s.length===0&&(o===kNoIterator||o===kIsArray&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var Tr=n.val1.get(t);if(Tr!==void 0){var Rr=n.val2.get(e);if(Rr!==void 0)return Tr===Rr}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var kr=objEquiv$1(t,e,r,s,n,o);return n.val1.delete(t),n.val2.delete(e),kr}function setHasEqualElement(t,e,r,n){for(var o=arrayFromSet(t),s=0;s<o.length;s++){var a=o[s];if(innerDeepEqual(e,a,r,n))return t.delete(a),!0}return!1}function findLooseMatchingPrimitives(t){switch(_typeof$2(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(numberIsNaN(t))return!1}return!0}function setMightHaveLoosePrim(t,e,r){var n=findLooseMatchingPrimitives(r);return n??(e.has(n)&&!t.has(n))}function mapMightHaveLoosePrim(t,e,r,n,o){var s=findLooseMatchingPrimitives(r);if(s!=null)return s;var a=e.get(s);return a===void 0&&!e.has(s)||!innerDeepEqual(n,a,!1,o)?!1:!t.has(s)&&innerDeepEqual(n,a,!1,o)}function setEquiv(t,e,r,n){for(var o=null,s=arrayFromSet(t),a=0;a<s.length;a++){var c=s[a];if(_typeof$2(c)==="object"&&c!==null)o===null&&(o=new Set),o.add(c);else if(!e.has(c)){if(r||!setMightHaveLoosePrim(t,e,c))return!1;o===null&&(o=new Set),o.add(c)}}if(o!==null){for(var d=arrayFromSet(e),m=0;m<d.length;m++){var gr=d[m];if(_typeof$2(gr)==="object"&&gr!==null){if(!setHasEqualElement(o,gr,r,n))return!1}else if(!r&&!t.has(gr)&&!setHasEqualElement(o,gr,r,n))return!1}return o.size===0}return!0}function mapHasEqualEntry(t,e,r,n,o,s){for(var a=arrayFromSet(t),c=0;c<a.length;c++){var d=a[c];if(innerDeepEqual(r,d,o,s)&&innerDeepEqual(n,e.get(d),o,s))return t.delete(d),!0}return!1}function mapEquiv(t,e,r,n){for(var o=null,s=arrayFromMap(t),a=0;a<s.length;a++){var c=_slicedToArray(s[a],2),d=c[0],m=c[1];if(_typeof$2(d)==="object"&&d!==null)o===null&&(o=new Set),o.add(d);else{var gr=e.get(d);if(gr===void 0&&!e.has(d)||!innerDeepEqual(m,gr,r,n)){if(r||!mapMightHaveLoosePrim(t,e,d,m,n))return!1;o===null&&(o=new Set),o.add(d)}}}if(o!==null){for(var vr=arrayFromMap(e),Ar=0;Ar<vr.length;Ar++){var Tr=_slicedToArray(vr[Ar],2),Rr=Tr[0],kr=Tr[1];if(_typeof$2(Rr)==="object"&&Rr!==null){if(!mapHasEqualEntry(o,t,Rr,kr,r,n))return!1}else if(!r&&(!t.has(Rr)||!innerDeepEqual(t.get(Rr),kr,!1,n))&&!mapHasEqualEntry(o,t,Rr,kr,!1,n))return!1}return o.size===0}return!0}function objEquiv$1(t,e,r,n,o,s){var a=0;if(s===kIsSet){if(!setEquiv(t,e,r,o))return!1}else if(s===kIsMap){if(!mapEquiv(t,e,r,o))return!1}else if(s===kIsArray)for(;a<t.length;a++)if(hasOwnProperty$1(t,a)){if(!hasOwnProperty$1(e,a)||!innerDeepEqual(t[a],e[a],r,o))return!1}else{if(hasOwnProperty$1(e,a))return!1;for(var c=Object.keys(t);a<c.length;a++){var d=c[a];if(!hasOwnProperty$1(e,d)||!innerDeepEqual(t[d],e[d],r,o))return!1}return c.length===Object.keys(e).length}for(a=0;a<n.length;a++){var m=n[a];if(!innerDeepEqual(t[m],e[m],r,o))return!1}return!0}function isDeepEqual$1(t,e){return innerDeepEqual(t,e,kLoose)}function isDeepStrictEqual$1(t,e){return innerDeepEqual(t,e,kStrict)}var comparisons={isDeepEqual:isDeepEqual$1,isDeepStrictEqual:isDeepStrictEqual$1};function _typeof$1(t){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function _defineProperties$1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey$2(n.key),n)}}function _createClass$1(t,e,r){return e&&_defineProperties$1(t.prototype,e),r&&_defineProperties$1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$2(t){var e=_toPrimitive$2(t,"string");return _typeof$1(e)==="symbol"?e:String(e)}function _toPrimitive$2(t,e){if(_typeof$1(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_typeof$1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _require=errors,_require$codes=_require.codes,ERR_AMBIGUOUS_ARGUMENT=_require$codes.ERR_AMBIGUOUS_ARGUMENT,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE=_require$codes.ERR_INVALID_ARG_VALUE,ERR_INVALID_RETURN_VALUE=_require$codes.ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,AssertionError$1=assertion_error,_require2=util$2,inspect$2=_require2.inspect,_require$types=util$2.types,isPromise=_require$types.isPromise,isRegExp$1=_require$types.isRegExp,objectAssign=polyfill$4(),objectIs=polyfill$3(),RegExpPrototypeTest=callBound$3("RegExp.prototype.test"),isDeepEqual,isDeepStrictEqual;function lazyLoadComparison(){var t=comparisons;isDeepEqual=t.isDeepEqual,isDeepStrictEqual=t.isDeepStrictEqual}var warned=!1,assert$1=assert$3.exports=ok$1,NO_EXCEPTION_SENTINEL={};function innerFail(t){throw t.message instanceof Error?t.message:new AssertionError$1(t)}function fail$2(t,e,r,n,o){var s=arguments.length,a;if(s===0)a="Failed";else if(s===1)r=t,t=void 0;else{if(warned===!1){warned=!0;var c=dist$1.process.emitWarning?dist$1.process.emitWarning:console.warn.bind(console);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(n="!=")}if(r instanceof Error)throw r;var d={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:o||fail$2};r!==void 0&&(d.message=r);var m=new AssertionError$1(d);throw a&&(m.message=a,m.generatedMessage=!0),m}assert$1.fail=fail$2;assert$1.AssertionError=AssertionError$1;function innerOk(t,e,r,n){if(!r){var o=!1;if(e===0)o=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var s=new AssertionError$1({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw s.generatedMessage=o,s}}function ok$1(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];innerOk.apply(void 0,[ok$1,e.length].concat(e))}assert$1.ok=ok$1;assert$1.equal=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");e!=r&&innerFail({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})};assert$1.notEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");e==r&&innerFail({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})};assert$1.deepEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepEqual(e,r)||innerFail({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})};assert$1.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepEqual(e,r)&&innerFail({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})};assert$1.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepStrictEqual(e,r)||innerFail({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})};assert$1.notDeepStrictEqual=notDeepStrictEqual$1;function notDeepStrictEqual$1(t,e,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepStrictEqual(t,e)&&innerFail({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:notDeepStrictEqual$1})}assert$1.strictEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");objectIs(e,r)||innerFail({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})};assert$1.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");objectIs(e,r)&&innerFail({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var Comparison=_createClass$1(function t(e,r,n){var o=this;_classCallCheck(this,t),r.forEach(function(s){s in e&&(n!==void 0&&typeof n[s]=="string"&&isRegExp$1(e[s])&&RegExpPrototypeTest(e[s],n[s])?o[s]=n[s]:o[s]=e[s])})});function compareExceptionKey(t,e,r,n,o,s){if(!(r in t)||!isDeepStrictEqual(t[r],e[r])){if(!n){var a=new Comparison(t,o),c=new Comparison(e,o,t),d=new AssertionError$1({actual:a,expected:c,operator:"deepStrictEqual",stackStartFn:s});throw d.actual=t,d.expected=e,d.operator=s.name,d}innerFail({actual:t,expected:e,message:n,operator:s.name,stackStartFn:s})}}function expectedException$1(t,e,r,n){if(typeof e!="function"){if(isRegExp$1(e))return RegExpPrototypeTest(e,t);if(arguments.length===2)throw new ERR_INVALID_ARG_TYPE("expected",["Function","RegExp"],e);if(_typeof$1(t)!=="object"||t===null){var o=new AssertionError$1({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw o.operator=n.name,o}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new ERR_INVALID_ARG_VALUE("error",e,"may not be an empty object");return isDeepEqual===void 0&&lazyLoadComparison(),s.forEach(function(a){typeof t[a]=="string"&&isRegExp$1(e[a])&&RegExpPrototypeTest(e[a],t[a])||compareExceptionKey(t,e,a,r,s,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function getActual(t){if(typeof t!="function")throw new ERR_INVALID_ARG_TYPE("fn","Function",t);try{t()}catch(e){return e}return NO_EXCEPTION_SENTINEL}function checkIsPromise(t){return isPromise(t)||t!==null&&_typeof$1(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}function waitForActual(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!checkIsPromise(e))throw new ERR_INVALID_RETURN_VALUE("instance of Promise","promiseFn",e)}else if(checkIsPromise(t))e=t;else throw new ERR_INVALID_ARG_TYPE("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return NO_EXCEPTION_SENTINEL}).catch(function(r){return r})})}function expectsError(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],r);if(_typeof$1(e)==="object"&&e!==null){if(e.message===r)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&_typeof$1(r)!=="object"&&typeof r!="function")throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],r);if(e===NO_EXCEPTION_SENTINEL){var o="";r&&r.name&&(o+=" (".concat(r.name,")")),o+=n?": ".concat(n):".";var s=t.name==="rejects"?"rejection":"exception";innerFail({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:t})}if(r&&!expectedException$1(e,r,n,t))throw e}function expectsNoError(t,e,r,n){if(e!==NO_EXCEPTION_SENTINEL){if(typeof r=="string"&&(n=r,r=void 0),!r||expectedException$1(e,r)){var o=n?": ".concat(n):".",s=t.name==="doesNotReject"?"rejection":"exception";innerFail({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(s).concat(o,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}assert$1.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];expectsError.apply(void 0,[t,getActual(e)].concat(n))};assert$1.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return waitForActual(e).then(function(s){return expectsError.apply(void 0,[t,s].concat(n))})};assert$1.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];expectsNoError.apply(void 0,[t,getActual(e)].concat(n))};assert$1.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return waitForActual(e).then(function(s){return expectsNoError.apply(void 0,[t,s].concat(n))})};assert$1.ifError=function t(e){if(e!=null){var r="ifError got unwanted exception: ";_typeof$1(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=inspect$2(e);var n=new AssertionError$1({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),o=e.stack;if(typeof o=="string"){var s=o.split(`
`);s.shift();for(var a=n.stack.split(`
`),c=0;c<s.length;c++){var d=a.indexOf(s[c]);if(d!==-1){a=a.slice(0,d);break}}n.stack="".concat(a.join(`
`),`
`).concat(s.join(`
`))}throw n}};function internalMatch(t,e,r,n,o){if(!isRegExp$1(e))throw new ERR_INVALID_ARG_TYPE("regexp","RegExp",e);var s=o==="match";if(typeof t!="string"||RegExpPrototypeTest(e,t)!==s){if(r instanceof Error)throw r;var a=!r;r=r||(typeof t!="string"?'The "string" argument must be of type string. Received type '+"".concat(_typeof$1(t)," (").concat(inspect$2(t),")"):(s?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(inspect$2(e),`. Input:

`).concat(inspect$2(t),`
`));var c=new AssertionError$1({actual:t,expected:e,message:r,operator:o,stackStartFn:n});throw c.generatedMessage=a,c}}assert$1.match=function t(e,r,n){internalMatch(e,r,n,t,"match")};assert$1.doesNotMatch=function t(e,r,n){internalMatch(e,r,n,t,"doesNotMatch")};function strict(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];innerOk.apply(void 0,[strict,e.length].concat(e))}assert$1.strict=objectAssign(strict,assert$1,{equal:assert$1.strictEqual,deepEqual:assert$1.deepStrictEqual,notEqual:assert$1.notStrictEqual,notDeepEqual:assert$1.notDeepStrictEqual});assert$1.strict.strict=assert$1.strict;var g=Object.freeze({__proto__:null,encode:function(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"0x")},decode:function(t){t.indexOf("0x")===0&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return e===null?bufferPolyfill.Buffer.from([]):bufferPolyfill.Buffer.from(e.map(r=>parseInt(r,16)))}});function w(t){return new TextDecoder("utf-8").decode(t)}function v(t){return new TextEncoder().encode(t)}var b=Object.freeze({__proto__:null,decode:w,encode:v});function A(t){return bs58$2.encode(t)}var _=Object.freeze({__proto__:null,encode:A,decode:function(t){return bs58$2.decode(t)}});function E(t){return bufferPolyfill.Buffer.from(toByteArray_1(t))}var S=Object.freeze({__proto__:null,encode:function(t){return fromByteArray_1(t)},decode:E}),I=Object.freeze({__proto__:null,hex:g,utf8:b,bs58:_,base64:S});function k(t){const e=new Map;return t.errors&&t.errors.forEach(r=>{var n;let o=(n=r.msg)!==null&&n!==void 0?n:r.name;e.set(r.code,o)}),e}function x(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const r={};let n=0;return t.args.forEach(o=>{r[o.name]=e[n],n+=1}),r}function M(t,e={}){t.forEach(r=>{if("accounts"in r)M(r.accounts,e[r.name]);else if(e[r.name]===void 0)throw new Error(`Invalid arguments: ${r.name} not provided.`)})}function P(t){return t instanceof PublicKey?t:new PublicKey(t)}class T extends TypeError{constructor(e,r){let n;const{message:o,...s}=e,{path:a}=e;super(a.length===0?o:"At path: "+a.join(".")+" -- "+o),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var c;return(c=n)!=null?c:n=[e,...r()]}}}function C(t){return typeof t=="object"&&t!=null}function L(t){return typeof t=="string"?JSON.stringify(t):""+t}function O(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:s}=e,{type:a}=r,{refinement:c,message:d="Expected a value of type `"+a+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+L(n)+"`"}=t;return{value:n,type:a,refinement:c,key:o[o.length-1],path:o,branch:s,...t,message:d}}function*B(t,e,r,n){var o;C(o=t)&&typeof o[Symbol.iterator]=="function"||(t=[t]);for(const s of t){const a=O(s,e,r,n);a&&(yield a)}}function*D(t,e,r={}){const{path:n=[],branch:o=[t],coerce:s=!1,mask:a=!1}=r,c={path:n,branch:o};if(s&&(t=e.coercer(t,c),a&&e.type!=="type"&&C(e.schema)&&C(t)&&!Array.isArray(t)))for(const m in t)e.schema[m]===void 0&&delete t[m];let d=!0;for(const m of e.validator(t,c))d=!1,yield[m,void 0];for(let[m,gr,vr]of e.entries(t,c)){const Ar=D(gr,vr,{path:m===void 0?n:[...n,m],branch:m===void 0?o:[...o,gr],coerce:s,mask:a});for(const Tr of Ar)Tr[0]?(d=!1,yield[Tr[0],void 0]):s&&(gr=Tr[1],m===void 0?t=gr:t instanceof Map?t.set(m,gr):t instanceof Set?t.add(gr):C(t)&&(t[m]=gr))}if(d)for(const m of e.refiner(t,c))d=!1,yield[m,void 0];d&&(yield[void 0,t])}class z{constructor(e){const{type:r,schema:n,validator:o,refiner:s,coercer:a=d=>d,entries:c=function*(){}}=e;this.type=r,this.schema=n,this.entries=c,this.coercer=a,this.validator=o?(d,m)=>B(o(d,m),m,this,d):()=>[],this.refiner=s?(d,m)=>B(s(d,m),m,this,d):()=>[]}assert(e){return function(r,n){const o=R(r,n);if(o[0])throw o[0]}(e,this)}create(e){return N(e,this)}is(e){return j(e,this)}mask(e){return function(r,n){const o=R(r,n,{coerce:!0,mask:!0});if(o[0])throw o[0];return o[1]}(e,this)}validate(e,r={}){return R(e,this,r)}}function N(t,e){const r=R(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function j(t,e){return!R(t,e)[0]}function R(t,e,r={}){const n=D(t,e,r),o=function(s){const{done:a,value:c}=s.next();return a?void 0:c}(n);return o[0]?[new T(o[0],function*(){for(const s of n)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function U(t,e){return new z({type:t,schema:null,validator:e})}function V(t){return new z({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+L(e)})}function $(t){const e=L(t),r=typeof t;return new z({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+L(n)})}function q(t){return new z({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function K(){return U("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+L(t))}function F(t){return new z({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function W(){return U("string",t=>typeof t=="string"||"Expected a string, but received: "+L(t))}function G(t){const e=Object.keys(t);return new z({type:"type",schema:t,*entries(r){if(C(r))for(const n of e)yield[n,r[n],t[n]]},validator:r=>C(r)||"Expected an object, but received: "+L(r)})}function H(t){const e=t.map(r=>r.type).join(" | ");return new z({type:"union",schema:null,validator(r,n){const o=[];for(const s of t){const[...a]=D(r,s,n),[c]=a;if(!c[0])return[];for(const[d]of a)d&&o.push(d)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+L(r),...o]}})}function J(){return U("unknown",()=>!0)}async function Z(t,e,r){if(e.length<=99)return await Q(t,e,r);{const n=function(o,s){return Array.apply(0,new Array(Math.ceil(o.length/s))).map((a,c)=>o.slice(c*s,(c+1)*s))}(e,99);return(await Promise.all(n.map(o=>Q(t,o,r)))).flat()}}async function Q(t,e,r){const n=r??t.commitment;return(await t.getMultipleAccountsInfo(e,n)).map((o,s)=>o===null?null:{publicKey:e[s],account:o})}async function X(t,e,r,n,o){r&&r.length>0&&e.sign(...r);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),d={encoding:"base64",commitment:n??t.commitment};if(o){const vr=(Array.isArray(o)?o:s.nonProgramIds()).map(Ar=>Ar.toBase58());d.accounts={encoding:"base64",addresses:vr}}r&&(d.sigVerify=!0);const m=[c,d],gr=N(await t._rpcRequest("simulateTransaction",m),rt);if("error"in gr){let vr;if("data"in gr.error&&(vr=gr.error.data.logs,vr&&Array.isArray(vr))){const Ar=`
    `,Tr=Ar+vr.join(Ar);console.error(gr.error.message,Tr)}throw new SendTransactionError("failed to simulate transaction: "+gr.error.message,vr)}return gr.result}function Y(t){return function(e,r,n){return new z({...e,coercer:(o,s)=>j(o,r)?e.coercer(n(o,s),s):e.coercer(o,s)})}(et(t),tt,e=>"error"in e?e:{...e,result:N(e.result,t)})}const tt=et(J());function et(t){return H([G({jsonrpc:$("2.0"),id:W(),result:t}),G({jsonrpc:$("2.0"),id:W(),error:G({code:J(),message:W(),data:F(U("any",()=>!0))})})])}const rt=(nt=G({err:q(H([G({}),W()])),logs:q(V(W())),accounts:F(q(V(q(G({executable:U("boolean",t=>typeof t=="boolean"),owner:W(),lamports:K(),data:V(W()),rentEpoch:F(K())}))))),unitsConsumed:F(K())}),Y(G({context:G({slot:K()}),value:nt})));var nt,it=Object.freeze({__proto__:null,invoke:async function(t,e,r,n){t=P(t),n||(n=dt());const o=new Transaction;if(o.add(new TransactionInstruction({programId:t,keys:e??[],data:r})),n.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await n.sendAndConfirm(o,[])},getMultipleAccounts:Z,simulateTransaction:X});class ot{constructor(e,r,n){this.connection=e,this.wallet=r,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,r){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,r,n){var o;n===void 0&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),(r??[]).forEach(a=>{e.partialSign(a)});const s=e.serialize();try{return await at(this.connection,s,n)}catch(a){if(a instanceof ct){const c=await this.connection.getTransaction(A(e.signature),{commitment:"confirmed"});if(c){const d=(o=c.meta)===null||o===void 0?void 0:o.logMessages;throw d?new SendTransactionError(a.message,d):a}throw a}throw a}}async sendAll(e,r){r===void 0&&(r=this.opts);const n=await this.connection.getRecentBlockhash(r.preflightCommitment);let o=e.map(c=>{var d;let m=c.tx,gr=(d=c.signers)!==null&&d!==void 0?d:[];return m.feePayer=this.wallet.publicKey,m.recentBlockhash=n.blockhash,gr.forEach(vr=>{m.partialSign(vr)}),m});const s=await this.wallet.signAllTransactions(o),a=[];for(let c=0;c<o.length;c+=1){const d=s[c].serialize();a.push(await at(this.connection,d,r))}return a}async simulate(e,r,n,o){e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,e=await this.wallet.signTransaction(e);const s=await X(this.connection,e,r,n,o);if(s.value.err)throw new st(s.value);return s.value}}class st extends Error{constructor(e,r){super(r),this.simulationResponse=e}}async function at(t,e,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},o=await t.sendRawTransaction(e,n),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw new ct(`Raw transaction ${o} failed (${JSON.stringify(s)})`);return o}class ct extends Error{constructor(e){super(e)}}function ut(t){lt=t}function dt(){return lt===null?ot.local():lt}let lt=null;const ht=new Set(["anchor-deprecated-state","debug-logs"]),ft=new Map;function pt(t){return ft.get(t)!==void 0}var mt=Object.freeze({__proto__:null,set:function(t){if(!ht.has(t))throw new Error("Invalid feature");ft.set(t,!0)},isSet:pt});class yt extends Error{constructor(e){super(e),this.name="IdlError"}}class gt{constructor(e){this.stack=e}static parse(e){var r;const n=/^Program (\w*) invoke/,o=/^Program \w* success/,s=[];for(let a=0;a<e.length;a++){if(o.exec(e[a])){s.pop();continue}const c=(r=n.exec(e[a]))===null||r===void 0?void 0:r[1];c&&s.push(new PublicKey(c))}return new gt(s)}}class wt extends Error{constructor(e,r,n,o,s,a){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=o,this.error={errorCode:e,errorMessage:r,comparedValues:a,origin:s},this._programErrorStack=gt.parse(o)}static parse(e){if(!e)return null;const r=e.findIndex(m=>m.startsWith("Program log: AnchorError"));if(r===-1)return null;const n=e[r],o=[n];let s;if(r+1<e.length){if(e[r+1]==="Program log: Left:"){const m=/^Program log: (.*)$/,gr=m.exec(e[r+2])[1],vr=m.exec(e[r+4])[1];s=[new PublicKey(gr),new PublicKey(vr)],o.push(...e.slice(r+1,r+5))}else if(e[r+1].startsWith("Program log: Left:")){const m=/^Program log: (Left|Right): (.*)$/,gr=m.exec(e[r+1])[2],vr=m.exec(e[r+2])[2];o.push(...e.slice(r+1,r+3)),s=[gr,vr]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),c=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),d=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(a){const[m,gr,vr]=a.slice(1,4),Ar={code:m,number:parseInt(gr)};return new wt(Ar,vr,o,e,void 0,s)}if(c){const[m,gr,vr,Ar,Tr]=c.slice(1,6),Rr={code:vr,number:parseInt(Ar)},kr={file:m,line:parseInt(gr)};return new wt(Rr,Tr,o,e,kr,s)}if(d){const[m,gr,vr,Ar]=d.slice(1,5),Tr=m,Rr={code:gr,number:parseInt(vr)};return new wt(Rr,Ar,o,e,Tr,s)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class vt extends Error{constructor(e,r,n){super(),this.code=e,this.msg=r,this.logs=n,n&&(this._programErrorStack=gt.parse(n))}static parse(e,r){const n=e.toString();let o,s;if(n.includes("custom program error:")){let c=n.split("custom program error: ");if(c.length!==2)return null;o=c[1]}else{const c=n.match(/"Custom":([0-9]+)}/g);if(!c||c.length>1)return null;o=c[0].match(/([0-9]+)/g)[0]}try{s=parseInt(o)}catch{return null}let a=r.get(s);return a!==void 0?new vt(s,a,e.logs):(a=_t.get(s),a!==void 0?new vt(s,a,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function bt(t,e){pt("debug-logs")&&console.log("Translating error:",t);const r=wt.parse(t.logs);if(r)return r;const n=vt.parse(t,e);if(n)return n;if(t.logs){const o={get:function(s,a){return a==="programErrorStack"?s.programErrorStack.stack:a==="program"?s.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=gt.parse(t.logs),new Proxy(t,o)}return t}const At={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},_t=new Map([[At.InstructionMissing,"8 byte instruction identifier not provided"],[At.InstructionFallbackNotFound,"Fallback functions are not supported"],[At.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[At.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[At.IdlInstructionStub,"The program was compiled without idl instructions"],[At.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[At.ConstraintMut,"A mut constraint was violated"],[At.ConstraintHasOne,"A has_one constraint was violated"],[At.ConstraintSigner,"A signer constraint was violated"],[At.ConstraintRaw,"A raw constraint was violated"],[At.ConstraintOwner,"An owner constraint was violated"],[At.ConstraintRentExempt,"A rent exemption constraint was violated"],[At.ConstraintSeeds,"A seeds constraint was violated"],[At.ConstraintExecutable,"An executable constraint was violated"],[At.ConstraintState,"A state constraint was violated"],[At.ConstraintAssociated,"An associated constraint was violated"],[At.ConstraintAssociatedInit,"An associated init constraint was violated"],[At.ConstraintClose,"A close constraint was violated"],[At.ConstraintAddress,"An address constraint was violated"],[At.ConstraintZero,"Expected zero account discriminant"],[At.ConstraintTokenMint,"A token mint constraint was violated"],[At.ConstraintTokenOwner,"A token owner constraint was violated"],[At.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[At.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[At.ConstraintMintDecimals,"A mint decimals constraint was violated"],[At.ConstraintSpace,"A space constraint was violated"],[At.RequireViolated,"A require expression was violated"],[At.RequireEqViolated,"A require_eq expression was violated"],[At.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[At.RequireNeqViolated,"A require_neq expression was violated"],[At.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[At.RequireGtViolated,"A require_gt expression was violated"],[At.RequireGteViolated,"A require_gte expression was violated"],[At.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[At.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[At.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[At.AccountDidNotDeserialize,"Failed to deserialize the account"],[At.AccountDidNotSerialize,"Failed to serialize the account"],[At.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[At.AccountNotMutable,"The given account is not mutable"],[At.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[At.InvalidProgramId,"Program ID was not as expected"],[At.InvalidProgramExecutable,"Program account is not executable"],[At.AccountNotSigner,"The given account did not sign"],[At.AccountNotSystemOwned,"The given account is not owned by the system program"],[At.AccountNotInitialized,"The program expected this account to be already initialized"],[At.AccountNotProgramData,"The given account is not a program data account"],[At.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[At.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[At.StateInvalidAddress,"The given state account does not have the correct address"],[At.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[At.Deprecated,"The API being used is deprecated and should no longer be used"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Et=function(){return Et=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Et.apply(this,arguments)};function St(t){return t.toLowerCase()}var It=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],kt=/[^A-Z0-9]+/gi;function xt(t,e,r){return e instanceof RegExp?t.replace(e,r):e.reduce(function(n,o){return n.replace(o,r)},t)}function Mt(t,e){return e===void 0&&(e={}),function(r,n){n===void 0&&(n={});for(var o=n.splitRegexp,s=o===void 0?It:o,a=n.stripRegexp,c=a===void 0?kt:a,d=n.transform,m=d===void 0?St:d,gr=n.delimiter,vr=gr===void 0?" ":gr,Ar=xt(xt(r,s,"$1\0$2"),c,"\0"),Tr=0,Rr=Ar.length;Ar.charAt(Tr)==="\0";)Tr++;for(;Ar.charAt(Rr-1)==="\0";)Rr--;return Ar.slice(Tr,Rr).split("\0").map(m).join(vr)}(t,Et({delimiter:"."},e))}class Pt{static fieldLayout(e,r){const n=e.name!==void 0?l(e.name):void 0;switch(e.type){case"bool":return lib.bool(n);case"u8":return lib.u8(n);case"i8":return lib.i8(n);case"u16":return lib.u16(n);case"i16":return lib.i16(n);case"u32":return lib.u32(n);case"i32":return lib.i32(n);case"f32":return lib.f32(n);case"u64":return lib.u64(n);case"i64":return lib.i64(n);case"f64":return lib.f64(n);case"u128":return lib.u128(n);case"i128":return lib.i128(n);case"bytes":return lib.vecU8(n);case"string":return lib.str(n);case"publicKey":return lib.publicKey(n);default:if("vec"in e.type)return lib.vec(Pt.fieldLayout({name:void 0,type:e.type.vec},r),n);if("option"in e.type)return lib.option(Pt.fieldLayout({name:void 0,type:e.type.option},r),n);if("defined"in e.type){const o=e.type.defined;if(r===void 0)throw new yt("User defined types not provided");const s=r.filter(a=>a.name===o);if(s.length!==1)throw new yt(`Type not found: ${JSON.stringify(e)}`);return Pt.typeDefLayout(s[0],r,n)}if("array"in e.type){let o=e.type.array[0],s=e.type.array[1],a=Pt.fieldLayout({name:void 0,type:o},r);return lib.array(a,s,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,r=[],n){if(e.type.kind==="struct"){const o=e.type.fields.map(s=>Pt.fieldLayout(s,r));return lib.struct(o,n)}if(e.type.kind==="enum"){let o=e.type.variants.map(s=>{const a=l(s.name);if(s.fields===void 0)return lib.struct([],a);const c=s.fields.map(d=>{if(!d.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Pt.fieldLayout(d,r)});return lib.struct(c,a)});return n!==void 0?lib.rustEnum(o).replicate(n):lib.rustEnum(o,n)}throw new Error(`Unknown type kint: ${e}`)}}class Tt{constructor(e){this.idl=e,this.ixLayout=Tt.parseIxLayout(e);const r=new Map;e.instructions.forEach(n=>{const o=Lt("global",n.name);r.set(bs58$2.encode(o),{layout:this.ixLayout.get(n.name),name:n.name})}),e.state&&e.state.methods.map(n=>{const o=Lt("state",n.name);r.set(bs58$2.encode(o),{layout:this.ixLayout.get(n.name),name:n.name})}),this.sighashLayouts=r}encode(e,r){return this._encode("global",e,r)}encodeState(e,r){return this._encode("state",e,r)}_encode(e,r,n){const o=bufferPolyfill.Buffer.alloc(1e3),s=l(r),a=this.ixLayout.get(s);if(!a)throw new Error(`Unknown method: ${s}`);const c=a.encode(n,o),d=o.slice(0,c);return bufferPolyfill.Buffer.concat([Lt(e,r),d])}static parseIxLayout(e){const r=(e.state?e.state.methods:[]).map(n=>{let o=n.args.map(a=>{var c,d;return Pt.fieldLayout(a,Array.from([...(c=e.accounts)!==null&&c!==void 0?c:[],...(d=e.types)!==null&&d!==void 0?d:[]]))});const s=l(n.name);return[s,lib.struct(o,s)]}).concat(e.instructions.map(n=>{let o=n.args.map(a=>{var c,d;return Pt.fieldLayout(a,Array.from([...(c=e.accounts)!==null&&c!==void 0?c:[],...(d=e.types)!==null&&d!==void 0?d:[]]))});const s=l(n.name);return[s,lib.struct(o,s)]}));return new Map(r)}decode(e,r="hex"){typeof e=="string"&&(e=r==="hex"?bufferPolyfill.Buffer.from(e,"hex"):bs58$2.decode(e));let n=bs58$2.encode(e.slice(0,8)),o=e.slice(8);const s=this.sighashLayouts.get(n);return s?{data:s.layout.decode(o),name:s.name}:null}format(e,r){return Ct.format(e,r,this.idl)}}class Ct{static format(e,r,n){const o=n.instructions.filter(c=>e.name===c.name)[0];if(o===void 0)return console.error("Invalid instruction given"),null;const s=o.args.map(c=>({name:c.name,type:Ct.formatIdlType(c.type),data:Ct.formatIdlData(c,e.data[c.name],n.types)})),a=Ct.flattenIdlAccounts(o.accounts);return{args:s,accounts:r.map((c,d)=>d<a.length?{name:a[d].name,...c}:{name:void 0,...c})}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,r,n){if(typeof e.type=="string")return r.toString();if(e.type.hasOwnProperty("vec"))return"["+r.map(o=>this.formatIdlData({name:"",type:e.type.vec},o)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return r===null?"null":this.formatIdlData({name:"",type:e.type.option},r,n);if(e.type.hasOwnProperty("defined")){if(n===void 0)throw new Error("User defined types not provided");const o=n.filter(s=>s.name===e.type.defined);if(o.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return Ct.formatIdlDataDefined(o[0],r,n)}return"unknown"}static formatIdlDataDefined(e,r,n){if(e.type.kind==="struct"){const o=e.type;return"{ "+Object.keys(r).map(s=>{const a=o.fields.filter(c=>c.name===s)[0];if(a===void 0)throw new Error("Unable to find type");return s+": "+Ct.formatIdlData(a,r[s],n)}).join(", ")+" }"}if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const o=e.type.variants,s=Object.keys(r)[0],a=r[s],c=Object.keys(a).map(m=>{var gr;const vr=a[m],Ar=(gr=o[s])===null||gr===void 0?void 0:gr.filter(Tr=>Tr.name===m)[0];if(Ar===void 0)throw new Error("Unable to find variant");return m+": "+Ct.formatIdlData(Ar,vr,n)}).join(", "),d=l(s,{pascalCase:!0});return c.length===0?d:`${d} { ${c} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,r){return e.map(n=>{const o=function(s){const a=s.replace(/([A-Z])/g," $1");return a.charAt(0).toUpperCase()+a.slice(1)}(n.name);if(n.hasOwnProperty("accounts")){const s=r?`${r} > ${o}`:o;return Ct.flattenIdlAccounts(n.accounts,s)}return{...n,name:r?`${r} > ${o}`:o}}).flat()}}function Lt(t,e){var r;let n=`${t}:${r===void 0&&(r={}),Mt(e,Et({delimiter:"_"},r))}`;return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(n)).slice(0,8)}function Ot(t,e){if(e.type.kind==="enum"){let r=e.type.variants.map(n=>n.fields===void 0?0:n.fields.map(o=>{if(typeof o!="object"||!("name"in o))throw new Error("Tuple enum variants not yet implemented.");return Bt(t,o.type)}).reduce((o,s)=>o+s));return Math.max(...r)+1}return e.type.fields===void 0?0:e.type.fields.map(r=>Bt(t,r.type)).reduce((r,n)=>r+n,0)}function Bt(t,e){var r,n;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Bt(t,e.option);if("coption"in e)return 4+Bt(t,e.coption);if("defined"in e){const o=(n=(r=t.types)===null||r===void 0?void 0:r.filter(s=>s.name===e.defined))!==null&&n!==void 0?n:[];if(o.length!==1)throw new yt(`Type not found: ${JSON.stringify(e)}`);return Ot(t,o[0])}if("array"in e){let o=e.array[0],s=e.array[1];return Bt(t,o)*s}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const Dt=8;class zt{constructor(e){if(e.accounts===void 0)return void(this.accountLayouts=new Map);const r=e.accounts.map(n=>[n.name,Pt.typeDefLayout(n,e.types)]);this.accountLayouts=new Map(r),this.idl=e}async encode(e,r){const n=bufferPolyfill.Buffer.alloc(1e3),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);const s=o.encode(r,n);let a=n.slice(0,s),c=zt.accountDiscriminator(e);return bufferPolyfill.Buffer.concat([c,a])}decode(e,r){if(zt.accountDiscriminator(e).compare(r.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,r)}decodeUnchecked(e,r){const n=r.slice(8),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.decode(n)}memcmp(e,r){const n=zt.accountDiscriminator(e);return{offset:0,bytes:bs58$2.encode(r?bufferPolyfill.Buffer.concat([n,r]):n)}}size(e){var r;return 8+((r=Ot(this.idl,e))!==null&&r!==void 0?r:0)}static accountDiscriminator(e){return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(`account:${l(e,{pascalCase:!0})}`)).slice(0,8)}}class Nt{constructor(e){if(e.events===void 0)return void(this.layouts=new Map);const r=e.events.map(n=>{let o={name:n.name,type:{kind:"struct",fields:n.fields.map(s=>({name:s.name,type:s.type}))}};return[n.name,Pt.typeDefLayout(o,e.types)]});this.layouts=new Map(r),this.discriminators=new Map(e.events===void 0?[]:e.events.map(n=>[fromByteArray_1(jt(n.name)),n.name]))}decode(e){let r;try{r=bufferPolyfill.Buffer.from(toByteArray_1(e))}catch{return null}const n=fromByteArray_1(r.slice(0,8)),o=this.discriminators.get(n);if(o===void 0)return null;const s=this.layouts.get(o);if(!s)throw new Error(`Unknown event: ${o}`);return{data:s.decode(r.slice(8)),name:o}}}function jt(t){return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(`event:${t}`)).slice(0,8)}class Rt{constructor(e){if(e.state===void 0)throw new Error("Idl state not defined.");this.layout=Pt.typeDefLayout(e.state.struct,e.types)}async encode(e,r){const n=bufferPolyfill.Buffer.alloc(1e3),o=this.layout.encode(r,n),s=await Ut(e),a=n.slice(0,o);return bufferPolyfill.Buffer.concat([s,a])}decode(e){const r=e.slice(8);return this.layout.decode(r)}}async function Ut(t){let e=pt("anchor-deprecated-state")?"account":"state";return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(`${e}:${t}`)).slice(0,8)}class Vt{constructor(e){this.instruction=new Tt(e),this.accounts=new zt(e),this.events=new Nt(e),e.state&&(this.state=new Rt(e))}}var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$1.global<"u"?dist$1.global:typeof self<"u"?self:{};function qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}class Kt{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}var Ft=Kt;class Wt extends Kt{isCount(){throw new Error("ExternalLayout is abstract")}}class Gt extends Wt{constructor(e,r,n){if(!(e instanceof Kt))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Ht||this.layout instanceof Jt}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}}class Ht extends Kt{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class Jt extends Kt{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}}const Zt=Math.pow(2,32);class Qt extends Kt{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r);return function(o,s){return o*Zt+s}(e.readUInt32LE(r+4),n)}encode(e,r,n){n===void 0&&(n=0);const o=function(s){const a=Math.floor(s/Zt);return{hi32:a,lo32:s-a*Zt}}(e);return r.writeUInt32LE(o.lo32,n),r.writeUInt32LE(o.hi32,n+4),8}}class Xt extends Kt{constructor(e,r,n){if(!Array.isArray(e)||!e.reduce((s,a)=>s&&a instanceof Kt,!0))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((o,s)=>{const a=s.getSpan(e,r);return r+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const o=n;let s=0,a=0;for(const c of this.fields){let d=c.span;if(a=0<d?d:0,c.property!==void 0){const m=e[c.property];m!==void 0&&(a=c.encode(m,r,n),0>d&&(d=c.getSpan(r,n)))}s=n,n+=d}return s+a-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class Yt{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class te extends Yt{constructor(e,r){if(!(e instanceof Wt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}class ee extends Kt{constructor(e,r,n){const o=e instanceof Ht||e instanceof Jt;if(o)e=new te(new Gt(e));else if(e instanceof Wt&&e.isCount())e=new te(e);else if(!(e instanceof Yt))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Kt))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&o&&(s+=e.layout.span)),super(s,n),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){let n;r===void 0&&(r=0);const o=this.discriminator,s=o.decode(e,r);let a=this.registry[s];if(a===void 0){let c=0;a=this.defaultLayout,this.usesPrefixDiscriminator&&(c=o.layout.span),n=this.makeDestinationObject(),n[o.property]=s,n[a.property]=this.defaultLayout.decode(e,r+c)}else n=a.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const o=this.getSourceVariant(e);if(o===void 0){const s=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return o.encode(e,r,n)}addVariant(e,r,n){const o=new re(this,e,r,n);return this.registry[e]=o,o}getVariant(e,r){let n=e;return dist$1.Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}}class re extends Kt{constructor(e,r,n,o){if(!(e instanceof ee))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Kt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=o;if(this.layout&&(this.layout.encode(e[this.property],r,n+o),s+=this.layout.getSpan(r,n+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class ne extends Kt{constructor(e,r){if(!(e instanceof Wt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Wt||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof Wt&&(o=e.length),!dist$1.Buffer.isBuffer(e)||o!==e.length)throw new TypeError((s="Blob.encode",((a=this).property?s+"["+a.property+"]":s)+" requires (length "+o+") Buffer as src"));var s,a;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,o,"hex"),this.length instanceof Wt&&this.length.encode(o,r,n),o}}var ie=t=>new Ht(1,t),oe=t=>new Qt(t),se=(t,e,r)=>new Xt(t,e,r),ae=(t,e)=>new ne(t,e);class ce{constructor(e){}encode(e,r){switch(l(e)){case"initializeMint":return function({decimals:n,mintAuthority:o,freezeAuthority:s}){return pe({initializeMint:{decimals:n,mintAuthority:o.toBuffer(),freezeAuthorityOption:!!s,freezeAuthority:(s||PublicKey.default).toBuffer()}})}(r);case"initializeAccount":return pe({initializeAccount:{}});case"initializeMultisig":return function({m:n}){return pe({initializeMultisig:{m:n}})}(r);case"transfer":return function({amount:n}){return pe({transfer:{amount:n}})}(r);case"approve":return function({amount:n}){return pe({approve:{amount:n}})}(r);case"revoke":return pe({revoke:{}});case"setAuthority":return function({authorityType:n,newAuthority:o}){return pe({setAuthority:{authorityType:n,newAuthority:o}})}(r);case"mintTo":return function({amount:n}){return pe({mintTo:{amount:n}})}(r);case"burn":return function({amount:n}){return pe({burn:{amount:n}})}(r);case"closeAccount":return pe({closeAccount:{}});case"freezeAccount":return pe({freezeAccount:{}});case"thawAccount":return pe({thawAccount:{}});case"transferChecked":return function({amount:n,decimals:o}){return pe({transferChecked:{amount:n,decimals:o}})}(r);case"approvedChecked":return function({amount:n,decimals:o}){return pe({approveChecked:{amount:n,decimals:o}})}(r);case"mintToChecked":return function({amount:n,decimals:o}){return pe({mintToChecked:{amount:n,decimals:o}})}(r);case"burnChecked":return function({amount:n,decimals:o}){return pe({burnChecked:{amount:n,decimals:o}})}(r);case"intializeAccount2":return function({authority:n}){return pe({initilaizeAccount2:{authority:n}})}(r);case"syncNative":return pe({syncNative:{}});case"initializeAccount3":return function({authority:n}){return pe({initializeAccount3:{authority:n}})}(r);case"initializeMultisig2":return function({m:n}){return pe({initializeMultisig2:{m:n}})}(r);case"initializeMint2":return function({decimals:n,mintAuthority:o,freezeAuthority:s}){return pe({encodeInitializeMint2:{decimals:n,mintAuthority:o,freezeAuthority:s}})}(r);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,r){throw new Error("SPL token does not have state")}}const ue=(de=ie("instruction"),new ee(de,le,he));var de,le,he;function fe(t){return ae(32,t)}function pe(t){let e=dist$1.Buffer.alloc(me),r=ue.encode(t,e);return e.slice(0,r)}ue.addVariant(0,se([ie("decimals"),ae(32,"mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint"),ue.addVariant(1,se([]),"initializeAccount"),ue.addVariant(2,se([ie("m")]),"initializeMultisig"),ue.addVariant(3,se([oe("amount")]),"transfer"),ue.addVariant(4,se([oe("amount")]),"approve"),ue.addVariant(5,se([]),"revoke"),ue.addVariant(6,se([ie("authorityType"),ie("newAuthorityOption"),fe("newAuthority")]),"setAuthority"),ue.addVariant(7,se([oe("amount")]),"mintTo"),ue.addVariant(8,se([oe("amount")]),"burn"),ue.addVariant(9,se([]),"closeAccount"),ue.addVariant(10,se([]),"freezeAccount"),ue.addVariant(11,se([]),"thawAccount"),ue.addVariant(12,se([oe("amount"),ie("decimals")]),"transferChecked"),ue.addVariant(13,se([oe("amount"),ie("decimals")]),"approvedChecked"),ue.addVariant(14,se([oe("amount"),ie("decimals")]),"mintToChecked"),ue.addVariant(15,se([oe("amount"),ie("decimals")]),"burnedChecked"),ue.addVariant(16,se([fe("authority")]),"InitializeAccount2"),ue.addVariant(17,se([]),"syncNative"),ue.addVariant(18,se([fe("authority")]),"initializeAccount3"),ue.addVariant(19,se([ie("m")]),"initializeMultisig2"),ue.addVariant(20,se([ie("decimals"),fe("mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint2");const me=Math.max(...Object.values(ue.registry).map(t=>t.span));class ye{constructor(e){}encode(e,r){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function ge(t){return new be(ae(8),e=>Se.fromBuffer(e),e=>e.toBuffer(),t)}function we(t){return new be(ae(32),e=>new PublicKey(e),e=>e.toBuffer(),t)}function ve(t,e){return new Ae(t,e)}class be extends Ft{constructor(e,r,n,o){super(e.span,o),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}class Ae extends Ft{constructor(e,r){super(-1,r),this.layout=e,this.discriminator=(n=>new Ht(4,n))()}encode(e,r,n=0){return e==null?this.layout.span+this.discriminator.encode(0,r,n):(this.discriminator.encode(1,r,n),this.layout.encode(e,r,n+4)+4)}decode(e,r=0){const n=this.discriminator.decode(e,r);if(n===0)return null;if(n===1)return this.layout.decode(e,r+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,r=0){return this.layout.getSpan(e,r+4)+4}}function _e(t){if(t===0)return!1;if(t===1)return!0;throw new Error("Invalid bool: "+t)}function Ee(t){return t?1:0}class Se extends BN{toBuffer(){const e=super.toArray().reverse(),r=dist$1.Buffer.from(e);if(r.length===8)return r;if(r.length>=8)throw new Error("u64 too large");const n=dist$1.Buffer.alloc(8);return r.copy(n),n}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new Se([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}}class Ie{constructor(e){this.idl=e}async encode(e,r){switch(e){case"token":{const n=dist$1.Buffer.alloc(165),o=xe.encode(r,n);return n.slice(0,o)}case"mint":{const n=dist$1.Buffer.alloc(82),o=ke.encode(r,n);return n.slice(0,o)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,r){return this.decodeUnchecked(e,r)}decodeUnchecked(e,r){switch(e){case"token":return function(n){return xe.decode(n)}(r);case"mint":return function(n){return ke.decode(n)}(r);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,r){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var r;return(r=Ot(this.idl,e))!==null&&r!==void 0?r:0}}const ke=se([ve(we(),"mintAuthority"),ge("supply"),ie("decimals"),function(t){return new be(ie(),_e,Ee,t)}("isInitialized"),ve(we(),"freezeAuthority")]),xe=se([we("mint"),we("authority"),ge("amount"),ve(we(),"delegate"),ie("state"),ve(ge(),"isNative"),ge("delegatedAmount"),ve(we(),"closeAuthority")]);class Me{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class Pe{constructor(e){this.instruction=new ce(e),this.accounts=new Ie(e),this.events=new Me(e),this.state=new ye(e)}}var Te=Object.freeze({__proto__:null,hash:function(t){return sha256.exports.sha256(t)}});function Ce(t,e,r){const n=bufferPolyfill.Buffer.concat([t.toBuffer(),bufferPolyfill.Buffer.from(e),r.toBuffer()]),o=sha256.exports.sha256.digest(n);return new PublicKey(bufferPolyfill.Buffer.from(o))}function Le(t,e){let r=bufferPolyfill.Buffer.alloc(0);t.forEach(function(s){if(s.length>32)throw new TypeError("Max seed length exceeded");r=bufferPolyfill.Buffer.concat([r,Be(s)])}),r=bufferPolyfill.Buffer.concat([r,e.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);let n=sha256.exports.sha256(new Uint8Array(r)),o=new BN(n,16).toArray(void 0,32);if(PublicKey.isOnCurve(new Uint8Array(o)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(o)}function Oe(t,e){let r,n=255;for(;n!=0;){try{r=Le(t.concat(bufferPolyfill.Buffer.from([n])),e)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}const Be=t=>t instanceof bufferPolyfill.Buffer?t:t instanceof Uint8Array?bufferPolyfill.Buffer.from(t.buffer,t.byteOffset,t.byteLength):bufferPolyfill.Buffer.from(t);async function De(t,...e){let r=[bufferPolyfill.Buffer.from([97,110,99,104,111,114])];e.forEach(o=>{r.push(o instanceof bufferPolyfill.Buffer?o:P(o).toBuffer())});const[n]=await PublicKey.findProgramAddress(r,P(t));return n}var ze=Object.freeze({__proto__:null,createWithSeedSync:Ce,createProgramAddressSync:Le,findProgramAddressSync:Oe,associated:De});const Ne=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),je=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Re=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Ne,ASSOCIATED_PROGRAM_ID:je,associatedAddress:async function({mint:t,owner:e}){return(await PublicKey.findProgramAddress([e.toBuffer(),Ne.toBuffer(),t.toBuffer()],je))[0]}}),Ue={exports:{}};(function(t,e){var r=typeof self<"u"?self:$t,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(a){var c="URLSearchParams"in s,d="Symbol"in s&&"iterator"in Symbol,m="FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),gr="FormData"in s,vr="ArrayBuffer"in s;if(vr)var Ar=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Tr=ArrayBuffer.isView||function(Lr){return Lr&&Ar.indexOf(Object.prototype.toString.call(Lr))>-1};function Rr(Lr){if(typeof Lr!="string"&&(Lr=String(Lr)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Lr))throw new TypeError("Invalid character in header field name");return Lr.toLowerCase()}function kr(Lr){return typeof Lr!="string"&&(Lr=String(Lr)),Lr}function xr(Lr){var Er={next:function(){var Or=Lr.shift();return{done:Or===void 0,value:Or}}};return d&&(Er[Symbol.iterator]=function(){return Er}),Er}function Dr(Lr){this.map={},Lr instanceof Dr?Lr.forEach(function(Er,Or){this.append(Or,Er)},this):Array.isArray(Lr)?Lr.forEach(function(Er){this.append(Er[0],Er[1])},this):Lr&&Object.getOwnPropertyNames(Lr).forEach(function(Er){this.append(Er,Lr[Er])},this)}function Ur(Lr){if(Lr.bodyUsed)return Promise.reject(new TypeError("Already read"));Lr.bodyUsed=!0}function Cr(Lr){return new Promise(function(Er,Or){Lr.onload=function(){Er(Lr.result)},Lr.onerror=function(){Or(Lr.error)}})}function Nr(Lr){var Er=new FileReader,Or=Cr(Er);return Er.readAsArrayBuffer(Lr),Or}function Hr(Lr){if(Lr.slice)return Lr.slice(0);var Er=new Uint8Array(Lr.byteLength);return Er.set(new Uint8Array(Lr)),Er.buffer}function Mr(){return this.bodyUsed=!1,this._initBody=function(Lr){var Er;this._bodyInit=Lr,Lr?typeof Lr=="string"?this._bodyText=Lr:m&&Blob.prototype.isPrototypeOf(Lr)?this._bodyBlob=Lr:gr&&FormData.prototype.isPrototypeOf(Lr)?this._bodyFormData=Lr:c&&URLSearchParams.prototype.isPrototypeOf(Lr)?this._bodyText=Lr.toString():vr&&m&&(Er=Lr)&&DataView.prototype.isPrototypeOf(Er)?(this._bodyArrayBuffer=Hr(Lr.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):vr&&(ArrayBuffer.prototype.isPrototypeOf(Lr)||Tr(Lr))?this._bodyArrayBuffer=Hr(Lr):this._bodyText=Lr=Object.prototype.toString.call(Lr):this._bodyText="",this.headers.get("content-type")||(typeof Lr=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c&&URLSearchParams.prototype.isPrototypeOf(Lr)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m&&(this.blob=function(){var Lr=Ur(this);if(Lr)return Lr;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Ur(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Nr)}),this.text=function(){var Lr=Ur(this);if(Lr)return Lr;if(this._bodyBlob)return function(Er){var Or=new FileReader,jr=Cr(Or);return Or.readAsText(Er),jr}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(Er){for(var Or=new Uint8Array(Er),jr=new Array(Or.length),Gr=0;Gr<Or.length;Gr++)jr[Gr]=String.fromCharCode(Or[Gr]);return jr.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},gr&&(this.formData=function(){return this.text().then(Xr)}),this.json=function(){return this.text().then(JSON.parse)},this}Dr.prototype.append=function(Lr,Er){Lr=Rr(Lr),Er=kr(Er);var Or=this.map[Lr];this.map[Lr]=Or?Or+", "+Er:Er},Dr.prototype.delete=function(Lr){delete this.map[Rr(Lr)]},Dr.prototype.get=function(Lr){return Lr=Rr(Lr),this.has(Lr)?this.map[Lr]:null},Dr.prototype.has=function(Lr){return this.map.hasOwnProperty(Rr(Lr))},Dr.prototype.set=function(Lr,Er){this.map[Rr(Lr)]=kr(Er)},Dr.prototype.forEach=function(Lr,Er){for(var Or in this.map)this.map.hasOwnProperty(Or)&&Lr.call(Er,this.map[Or],Or,this)},Dr.prototype.keys=function(){var Lr=[];return this.forEach(function(Er,Or){Lr.push(Or)}),xr(Lr)},Dr.prototype.values=function(){var Lr=[];return this.forEach(function(Er){Lr.push(Er)}),xr(Lr)},Dr.prototype.entries=function(){var Lr=[];return this.forEach(function(Er,Or){Lr.push([Or,Er])}),xr(Lr)},d&&(Dr.prototype[Symbol.iterator]=Dr.prototype.entries);var Fr=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Vr(Lr,Er){var Or,jr,Gr=(Er=Er||{}).body;if(Lr instanceof Vr){if(Lr.bodyUsed)throw new TypeError("Already read");this.url=Lr.url,this.credentials=Lr.credentials,Er.headers||(this.headers=new Dr(Lr.headers)),this.method=Lr.method,this.mode=Lr.mode,this.signal=Lr.signal,Gr||Lr._bodyInit==null||(Gr=Lr._bodyInit,Lr.bodyUsed=!0)}else this.url=String(Lr);if(this.credentials=Er.credentials||this.credentials||"same-origin",!Er.headers&&this.headers||(this.headers=new Dr(Er.headers)),this.method=(Or=Er.method||this.method||"GET",jr=Or.toUpperCase(),Fr.indexOf(jr)>-1?jr:Or),this.mode=Er.mode||this.mode||null,this.signal=Er.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Gr)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Gr)}function Xr(Lr){var Er=new FormData;return Lr.trim().split("&").forEach(function(Or){if(Or){var jr=Or.split("="),Gr=jr.shift().replace(/\+/g," "),qr=jr.join("=").replace(/\+/g," ");Er.append(decodeURIComponent(Gr),decodeURIComponent(qr))}}),Er}function Yr(Lr,Er){Er||(Er={}),this.type="default",this.status=Er.status===void 0?200:Er.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Er?Er.statusText:"OK",this.headers=new Dr(Er.headers),this.url=Er.url||"",this._initBody(Lr)}Vr.prototype.clone=function(){return new Vr(this,{body:this._bodyInit})},Mr.call(Vr.prototype),Mr.call(Yr.prototype),Yr.prototype.clone=function(){return new Yr(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Dr(this.headers),url:this.url})},Yr.error=function(){var Lr=new Yr(null,{status:0,statusText:""});return Lr.type="error",Lr};var tn=[301,302,303,307,308];Yr.redirect=function(Lr,Er){if(tn.indexOf(Er)===-1)throw new RangeError("Invalid status code");return new Yr(null,{status:Er,headers:{location:Lr}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(Er,Or){this.message=Er,this.name=Or;var jr=Error(Er);this.stack=jr.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function an(Lr,Er){return new Promise(function(Or,jr){var Gr=new Vr(Lr,Er);if(Gr.signal&&Gr.signal.aborted)return jr(new a.DOMException("Aborted","AbortError"));var qr=new XMLHttpRequest;function Jr(){qr.abort()}qr.onload=function(){var en,Kr,Ir={status:qr.status,statusText:qr.statusText,headers:(en=qr.getAllResponseHeaders()||"",Kr=new Dr,en.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(un){var vn=un.split(":"),_n=vn.shift().trim();if(_n){var dn=vn.join(":").trim();Kr.append(_n,dn)}}),Kr)};Ir.url="responseURL"in qr?qr.responseURL:Ir.headers.get("X-Request-URL");var zr="response"in qr?qr.response:qr.responseText;Or(new Yr(zr,Ir))},qr.onerror=function(){jr(new TypeError("Network request failed"))},qr.ontimeout=function(){jr(new TypeError("Network request failed"))},qr.onabort=function(){jr(new a.DOMException("Aborted","AbortError"))},qr.open(Gr.method,Gr.url,!0),Gr.credentials==="include"?qr.withCredentials=!0:Gr.credentials==="omit"&&(qr.withCredentials=!1),"responseType"in qr&&m&&(qr.responseType="blob"),Gr.headers.forEach(function(en,Kr){qr.setRequestHeader(Kr,en)}),Gr.signal&&(Gr.signal.addEventListener("abort",Jr),qr.onreadystatechange=function(){qr.readyState===4&&Gr.signal.removeEventListener("abort",Jr)}),qr.send(Gr._bodyInit===void 0?null:Gr._bodyInit)})}an.polyfill=!0,s.fetch||(s.fetch=an,s.Headers=Dr,s.Request=Vr,s.Response=Yr),a.Headers=Dr,a.Request=Vr,a.Response=Yr,a.fetch=an,Object.defineProperty(a,"__esModule",{value:!0})})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e})(Ue,Ue.exports);var Ve=qt(Ue.exports);async function $e(t,e){const r=await t.getAccountInfo(e);if(r===null)throw new Error("program account not found");const{program:n}=Ke(r.data),o=await t.getAccountInfo(n.programdataAddress);if(o===null)throw new Error("program data account not found");const{programData:s}=Ke(o.data);return s}const qe=lib.rustEnum([lib.struct([],"uninitialized"),lib.struct([lib.option(lib.publicKey(),"authorityAddress")],"buffer"),lib.struct([lib.publicKey("programdataAddress")],"program"),lib.struct([lib.u64("slot"),lib.option(lib.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,lib.u32());function Ke(t){return qe.decode(t)}var Fe=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,r=5){const n=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${r}`,[o,s]=await Promise.all([$e(t,e),Ve(n)]),a=(await s.json()).filter(d=>!d.aborted&&d.state==="Built"&&d.verified==="Verified");if(a.length===0)return null;const c=a[0];return o.slot.toNumber()!==c.verified_slot?null:c},fetchData:$e,decodeUpgradeableLoaderState:Ke}),We=Object.freeze({__proto__:null,sha256:Te,rpc:it,publicKey:ze,bytes:I,token:Re,features:mt,registry:Fe});const Ge=lib.struct([lib.publicKey("authority"),lib.vecU8("data")]);function He(t,e){var r,n;let o={};const s=t.args?t.args.length:0;if(e.length>s){if(e.length!==s+1)throw new Error(`provided too many arguments ${e} to instruction ${t==null?void 0:t.name} expecting: ${(n=(r=t.args)===null||r===void 0?void 0:r.map(a=>a.name))!==null&&n!==void 0?n:[]}`);o=e.pop()}return[e,o]}class Je{static build(e,r,n){if(e.name==="_inner")throw new yt("the _inner name is reserved");const o=(...s)=>{const[a,c]=He(e,[...s]);M(e.accounts,c.accounts);const d=o.accounts(c.accounts);return c.remainingAccounts!==void 0&&d.push(...c.remainingAccounts),pt("debug-logs")&&console.log("Outgoing account metas:",d),new TransactionInstruction({keys:d,programId:n,data:r(e.name,x(e,...a))})};return o.accounts=s=>Je.accountsArray(s,e.accounts,e.name),o}static accountsArray(e,r,n){return e?r.map(o=>{if(("accounts"in o?o.accounts:void 0)!==void 0){const s=e[o.name];return Je.accountsArray(s,o.accounts,n).flat()}{const s=o;let a;try{a=P(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${n!==void 0?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:a,isWritable:s.isMut,isSigner:s.isSigner}}}).flat():[]}}class Ze{static build(e,r,n,o){return async(...s)=>{var a;const c=r(...s),[,d]=He(e,[...s]);if(o.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await o.sendAndConfirm(c,(a=d.signers)!==null&&a!==void 0?a:[],d.options)}catch(m){throw bt(m,n)}}}}class Qe{static build(e,r){return(...n)=>{var o,s,a;const[,c]=He(e,[...n]),d=new Transaction;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=c.preInstructions)===null||o===void 0||o.forEach(m=>d.add(m)),(s=c.instructions)===null||s===void 0||s.forEach(m=>d.add(m)),d.add(r(...n)),(a=c.postInstructions)===null||a===void 0||a.forEach(m=>d.add(m)),d}}}class Xe{constructor(e,r,n=dt(),o=new Vt(e)){this.provider=n,this.coder=o,this._idl=e,this._programId=r,this._address=Ye(r),this._sub=null;const[s,a,c]=(()=>{var d;let m={},gr={},vr={};return(d=e.state)===null||d===void 0||d.methods.forEach(Ar=>{const Tr=Je.build(Ar,(Dr,Ur)=>o.instruction.encodeState(Dr,Ur),r);Tr.accounts=Dr=>function(Cr,Nr,Hr,Mr){if(Hr.name==="new"){const[Fr]=Oe([],Cr);if(Nr.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:Nr.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Ye(Cr),isWritable:!0,isSigner:!1},{pubkey:Fr,isWritable:!1,isSigner:!1},{pubkey:SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:Cr,isWritable:!1,isSigner:!1}]}return M(Hr.accounts,Mr),[{pubkey:Ye(Cr),isWritable:!0,isSigner:!1}]}(r,n,Ar,Dr).concat(Je.accountsArray(Dr,Ar.accounts,Ar.name));const Rr=Qe.build(Ar,Tr),kr=Ze.build(Ar,Rr,k(e),n),xr=l(Ar.name);m[xr]=Tr,gr[xr]=Rr,vr[xr]=kr}),[m,gr,vr]})();this.instruction=s,this.transaction=a,this.rpc=c}get programId(){return this._programId}async fetch(){const e=this.address(),r=await this.provider.connection.getAccountInfo(e);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await Ut(n.struct.name)).compare(r.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(r.data)}address(){return this._address}subscribe(e){if(this._sub!==null)return this._sub.ee;const r=new EventEmitter,n=this.provider.connection.onAccountChange(this.address(),o=>{const s=this.coder.state.decode(o.data);r.emit("change",s)},e);return this._sub={ee:r,listener:n},r}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function Ye(t){let[e]=Oe([],t);return Ce(e,"unversioned",t)}class tr{constructor(e,r,n,o,s){this._idlAccount=r,this._programId=n,this._provider=o??dt(),this._coder=s??new Vt(e),this._size=this._coder.accounts.size(r)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,r){const n=await this.getAccountInfo(e,r);return n===null?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(e,r){const n=await this.fetchNullable(e,r);if(n===null)throw new Error(`Account does not exist ${e.toString()}`);return n}async fetchMultiple(e,r){return(await Z(this._provider.connection,e.map(n=>P(n)),r)).map(n=>n==null?null:this._coder.accounts.decode(this._idlAccount.name,n==null?void 0:n.account.data))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof dist$1.Buffer?e:void 0)},...Array.isArray(e)?e:[]]})).map(({pubkey:r,account:n})=>({publicKey:r,account:this._coder.accounts.decode(this._idlAccount.name,n.data)}))}subscribe(e,r){const n=er.get(e.toString());if(n)return n.ee;const o=new EventEmitter;e=P(e);const s=this._provider.connection.onAccountChange(e,a=>{const c=this._coder.accounts.decode(this._idlAccount.name,a.data);o.emit("change",c)},r);return er.set(e.toString(),{ee:o,listener:s}),o}async unsubscribe(e){let r=er.get(e.toString());r?er&&await this._provider.connection.removeAccountChangeListener(r.listener).then(()=>{er.delete(e.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,r){const n=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:r??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(r??n),programId:this._programId})}async associated(...e){const r=await this.associatedAddress(...e);return await this.fetch(r)}async associatedAddress(...e){return await De(this._programId,...e)}async getAccountInfo(e,r){return await this._provider.connection.getAccountInfo(P(e),r)}}const er=new Map,rr=13,nr=14;class ir{constructor(e,r,n){this._programId=e,this._provider=r,this._eventParser=new or(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,r){var n;let o=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,((n=this._eventListeners.get(e))!==null&&n!==void 0?n:[]).concat(o)),this._eventCallbacks.set(o,[e,r]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,a)=>{s.err||this._eventParser.parseLogs(s.logs,c=>{const d=this._eventListeners.get(c.name);d&&d.forEach(m=>{const gr=this._eventCallbacks.get(m);if(gr){const[,vr]=gr;vr(c.data,a.slot)}})})})),o}async removeEventListener(e){const r=this._eventCallbacks.get(e);if(!r)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=r;let o=this._eventListeners.get(n);if(!o)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),o=o.filter(s=>s!==e),o.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size==0&&(assert$3.exports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class or{constructor(e,r){this.coder=r,this.programId=e}parseLogs(e,r){const n=new ar(e),o=new sr;let s=n.next();for(;s!==null;){let[a,c,d]=this.handleLog(o,s);a&&r(a),c&&o.push(c),d&&o.pop(),s=n.next()}}handleLog(e,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(r):[null,...this.handleSystemLog(r)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const r=e.startsWith("Program log: ")?e.slice(rr):e.slice(nr);return[this.coder.events.decode(r),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const r=e.split(":")[0];return r.match(/^Program (.*) success/g)!==null?[null,!0]:r.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:r.includes("invoke")?["cpi",!1]:[null,!1]}}class sr{constructor(){this.stack=[]}program(){return assert$3.exports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){assert$3.exports.ok(this.stack.length>0),this.stack.pop()}}class ar{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const cr=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function ur(){return new Pe(dr)}const dr={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class lr{constructor(e,r,n,o,s,a){this._args=e,this._accounts=r,this._provider=n,this._programId=o,this._idlIx=s,this._accountStore=new hr(n,a)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const r=this._idlIx.accounts[e],n=l(r.name);if(r.pda&&r.pda.seeds.length>0&&!this._accounts[n])await this.autoPopulatePda(r);else if(!r.isSigner||this._accounts[n])Reflect.has(lr.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=lr.CONST_ACCOUNTS[n]);else{if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[n]=this._provider.wallet.publicKey}}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const r=await Promise.all(e.pda.seeds.map(s=>this.toBuffer(s))),n=await this.parseProgramId(e),[o]=await PublicKey.findProgramAddress(r,n);this._accounts[l(e.name)]=o}async parseProgramId(e){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const r=this.argValue(e);return this.toBufferValue(e.type,r)}argValue(e){const r=l(e.path.split(".")[0]),n=this._idlIx.args.findIndex(o=>o.name===r);if(n===-1)throw new Error(`Unable to find argument for seed: ${r}`);return this._args[n]}async toBufferAccount(e){const r=await this.accountValue(e);return this.toBufferValue(e.type,r)}async accountValue(e){const r=e.path.split("."),n=r[0],o=this._accounts[l(n)];if(r.length===1)return o;const s=await this._accountStore.fetchAccount(e.account,o);return this.parseAccountValue(s,r.slice(1))}parseAccountValue(e,r){let n;for(;r.length>0;)n=e[l(r[0])],r=r.slice(1);return n}toBufferValue(e,r){switch(e){case"u8":return dist$1.Buffer.from([r]);case"u16":let n=dist$1.Buffer.alloc(2);return n.writeUInt16LE(r),n;case"u32":let o=dist$1.Buffer.alloc(4);return o.writeUInt32LE(r),o;case"u64":let s=dist$1.Buffer.alloc(8);return s.writeBigUInt64LE(BigInt(r)),s;case"string":return dist$1.Buffer.from(v(r));case"publicKey":return r.toBuffer();default:if(e.array)return dist$1.Buffer.from(r);throw new Error(`Unexpected seed type: ${e}`)}}}lr.CONST_ACCOUNTS={systemProgram:SystemProgram.programId,tokenProgram:Ne,associatedTokenProgram:je,rent:SYSVAR_RENT_PUBKEY};class hr{constructor(e,r){this._provider=e,this._accounts=r,this._cache=new Map}async fetchAccount(e,r){const n=r.toString();if(!this._cache.has(n))if(e==="TokenAccount"){const o=await this._provider.connection.getAccountInfo(r);if(o===null)throw new Error(`invalid account info for ${n}`);const s=ur().accounts.decode("token",o.data);this._cache.set(n,s)}else{const o=this._accounts[l(e)].fetch(r);this._cache.set(n,o)}return this._cache.get(n)}}class fr{static build(e,r,n,o,s,a,c,d,m){return(...gr)=>new pr(gr,o,s,a,c,d,e,r,n,m)}}class pr{constructor(e,r,n,o,s,a,c,d,m,gr){this._args=e,this._ixFn=r,this._txFn=n,this._rpcFn=o,this._simulateFn=s,this._viewFn=a,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new lr(e,this._accounts,c,d,m,gr)}async pubkeys(){return await this._accountsResolver.resolve(),this._accounts}accounts(e){return Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class mr{constructor(e,r,n,o){r=P(r),n||(n=dt()),this._idl=e,this._provider=n,this._programId=r,this._coder=o??new Vt(e),this._events=new ir(this._programId,n,this._coder);const[s,a,c,d,m,gr,vr,Ar]=class{static build(Tr,Rr,kr,xr){const Dr={},Ur={},Cr={},Nr={},Hr={},Mr={},Fr=k(Tr),Vr=Tr.accounts?class{static build(Yr,tn,an,Lr){var Er;const Or={};return(Er=Yr.accounts)===null||Er===void 0||Er.forEach(jr=>{const Gr=l(jr.name);Or[Gr]=new tr(Yr,jr,an,Lr,tn)}),Or}}.build(Tr,Rr,kr,xr):{},Xr=class{static build(Yr,tn,an,Lr){if(Yr.state!==void 0)return new Xe(Yr,an,Lr,tn)}}.build(Tr,Rr,kr,xr);return Tr.instructions.forEach(Yr=>{const tn=Je.build(Yr,(qr,Jr)=>Rr.instruction.encode(qr,Jr),kr),an=Qe.build(Yr,tn),Lr=Ze.build(Yr,an,Fr,xr),Er=class{static build(qr,Jr,en,Kr,Ir,zr,un){return async(...vn)=>{var _n;const dn=Jr(...vn),[,gn]=He(qr,[...vn]);let yn;if(Kr.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{yn=await Kr.simulate(dn,gn.signers,(_n=gn.options)===null||_n===void 0?void 0:_n.commitment)}catch(sn){throw bt(sn,en)}if(yn===void 0)throw new Error("Unable to simulate transaction");const Tn=yn.logs;if(!Tn)throw new Error("Simulated logs not found");const Dn=[];return un.events&&new or(zr,Ir).parseLogs(Tn,sn=>{Dn.push(sn)}),{events:Dn,raw:Tn}}}}.build(Yr,an,Fr,xr,Rr,kr,Tr),Or=class{static build(qr,Jr,en,Kr){const Ir=Jr.accounts.find(un=>un.isMut),zr=!!Jr.returns;if(!Ir&&zr)return async(...un)=>{var vn,_n;let dn=await en(...un);const gn=`Program return: ${qr} `;let yn=dn.raw.find(sn=>sn.startsWith(gn));if(!yn)throw new Error("View expected return log");let Tn=E(yn.slice(gn.length)),Dn=Jr.returns;if(!Dn)throw new Error("View expected return type");return Pt.fieldLayout({type:Dn},Array.from([...(vn=Kr.accounts)!==null&&vn!==void 0?vn:[],...(_n=Kr.types)!==null&&_n!==void 0?_n:[]])).decode(Tn)}}}.build(kr,Yr,Er,Tr),jr=fr.build(xr,kr,Yr,tn,an,Lr,Er,Or,Vr),Gr=l(Yr.name);Ur[Gr]=tn,Cr[Gr]=an,Dr[Gr]=Lr,Nr[Gr]=Er,Hr[Gr]=jr,Or&&(Mr[Gr]=Or)}),[Dr,Ur,Cr,Vr,Nr,Hr,Xr,Mr]}}.build(e,this._coder,r,n);this.rpc=s,this.instruction=a,this.transaction=c,this.account=d,this.simulate=m,this.methods=gr,this.state=vr,this.views=Ar}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,r){const n=P(e),o=await mr.fetchIdl(n,r);if(!o)throw new Error(`IDL not found for program: ${e.toString()}`);return new mr(o,n,r)}static async fetchIdl(e,r){r=r??dt();const n=P(e),o=await async function(m){const gr=(await PublicKey.findProgramAddress([],m))[0];return await PublicKey.createWithSeed(gr,"anchor:idl",m)}(n),s=await r.connection.getAccountInfo(o);if(!s)return null;let a=(c=s.data.slice(8),Ge.decode(c));var c;const d=inflate_1(a.data);return JSON.parse(w(d))}addEventListener(e,r){return this._events.addEventListener(e,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class yr{static token(e){return function(r){return new mr(dr,cr,r,ur())}(e)}}var browser=Object.freeze(Object.defineProperty({__proto__:null,web3:index_browser_esm$1,ACCOUNT_DISCRIMINATOR_SIZE:Dt,AccountClient:tr,AnchorError:wt,AnchorProvider:ot,BorshAccountsCoder:zt,BorshCoder:Vt,BorshEventCoder:Nt,BorshInstructionCoder:Tt,BorshStateCoder:Rt,EventManager:ir,EventParser:or,IdlError:yt,LangErrorCode:At,LangErrorMessage:_t,MethodsBuilderFactory:fr,Program:mr,ProgramError:vt,ProgramErrorStack:gt,Spl:yr,SplTokenCoder:Pe,StateClient:Xe,eventDiscriminator:jt,getProvider:dt,parseIdlErrors:k,setProvider:ut,splitArgsAndCtx:He,stateDiscriminator:Ut,toInstruction:x,translateAddress:P,translateError:bt,utils:We,validateAccounts:M,BN},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(browser),stakingIdl={};Object.defineProperty(stakingIdl,"__esModule",{value:!0});stakingIdl.stakingIdl=void 0;stakingIdl.stakingIdl={version:"0.1.0",name:"atlas_staking",instructions:[{name:"cancelUnstake",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[]},{name:"createStakingAccount",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"harvest",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeStaking",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerStake",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"Mint",path:"stake_mint"},{kind:"account",type:"publicKey",account:"Mint",path:"reward_mint"}]}},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"}]},{name:"settle",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[{name:"updatedStakingPeriod",type:"u16"}]},{name:"stakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeAmount",type:"u64"}]},{name:"unstakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateCooldownPeriod",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}}],args:[{name:"cooldownPeriod",type:"u64"}]},{name:"updateRewardMultiplier",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}}],args:[{name:"rewardMultiplier",type:"u64"},{name:"newStakingPeriod",type:"u16"}]},{name:"withdrawTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"RegisteredStake",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"rewardMint",type:"publicKey"},{name:"currentPeriod",type:"u16"},{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"},{name:"bump",type:"u8"}]}},{name:"StakingAccount",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"registeredStake",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"totalStake",type:"u64"},{name:"activeStake",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"paidRewards",type:"u64"},{name:"currentPeriod",type:"u16"},{name:"stakedAtTs",type:"i64"},{name:"lastPendingRewardCalcTs",type:"i64"},{name:"lastHarvestTs",type:"i64"},{name:"unstakedTs",type:"i64"},{name:"bump",type:"u8"}]}},{name:"StakingVars",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"bump",type:"u8"}]}}],errors:[{code:6e3,name:"InvalidMint",msg:"Invalid Token Mint"},{code:6001,name:"InvalidOwner",msg:"Account now owned by user"},{code:6002,name:"InsufficientFunds",msg:"Insufficient token balance"},{code:6003,name:"InvalidAuthority",msg:"Invalid authority for this account"},{code:6004,name:"InvalidDepositQty",msg:"Invalid deposit quantity"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"StakeOnCooldown",msg:"Cannot stake while account is on cooldown"},{code:6007,name:"InvalidEscrowAuth",msg:"Invalid escrow authority"},{code:6008,name:"WithdrawOnCooldown",msg:"Cannot withdraw before cooldown period has elapsed"},{code:6009,name:"InvalidPeriod",msg:"Staking account must be in the same period as the Registered Stake"},{code:6010,name:"NotOnCooldown",msg:"Staking account is not on cooldown"}],metadata:{}};Object.defineProperty(getStakingProgram$1,"__esModule",{value:!0});getStakingProgram$1.getStakingProgram=getStakingProgram$1.getStakingIdl=void 0;const anchor_1$o=require$$0$1,stakingIdl_1=stakingIdl;function getStakingIdl(t){const e=stakingIdl_1.stakingIdl;return e.metadata.address=t.toBase58(),e}getStakingProgram$1.getStakingIdl=getStakingIdl;function getStakingProgram({connection:t,programId:e}){const r=getStakingIdl(e),n=new anchor_1$o.AnchorProvider(t,null,null);return new anchor_1$o.Program(r,e,n)}getStakingProgram$1.getStakingProgram=getStakingProgram;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(getStakingProgram$1,t)})(utils$1);var __awaiter$y=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(cancelUnstake,"__esModule",{value:!0});cancelUnstake.cancelUnstakeInstruction=void 0;const utils_1$n=utils$1;function cancelUnstakeInstruction({connection:t,user:e,registeredStake:r,programId:n}){return __awaiter$y(this,void 0,void 0,function*(){const o=(0,utils_1$n.getStakingProgram)({connection:t,programId:n}),s={instructions:[],signers:[]},a=yield o.methods.cancelUnstake().accounts({user:e,registeredStake:r}).instruction();return s.instructions.push(a),s})}cancelUnstake.cancelUnstakeInstruction=cancelUnstakeInstruction;var createStakeAccount={},__awaiter$x=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(createStakeAccount,"__esModule",{value:!0});createStakeAccount.createStakingAccountInstruction=void 0;const utils_1$m=utils$1;function createStakingAccountInstruction({connection:t,user:e,registeredStake:r,programId:n}){return __awaiter$x(this,void 0,void 0,function*(){const o=(0,utils_1$m.getStakingProgram)({connection:t,programId:n}),s={instructions:[],signers:[]},a=yield o.methods.createStakingAccount().accounts({user:e,registeredStake:r}).instruction();return s.instructions.push(a),s})}createStakeAccount.createStakingAccountInstruction=createStakingAccountInstruction;var harvestRewards={},token={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.associatedAddress=t.ASSOCIATED_PROGRAM_ID=t.TOKEN_PROGRAM_ID=void 0;const e=require$$0$2;t.TOKEN_PROGRAM_ID=new e.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.ASSOCIATED_PROGRAM_ID=new e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function r({mint:n,owner:o}){return(await e.PublicKey.findProgramAddress([o.toBuffer(),t.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],t.ASSOCIATED_PROGRAM_ID))[0]}t.associatedAddress=r})(token);var util={},helpers$1={};function _typeof(t){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function _toPrimitive$1(t,e){if(_typeof(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_typeof(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return _typeof(e)==="symbol"?e:String(e)}function _defineProperty(t,e,r){return e=_toPropertyKey$1(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function byteLength(t){var e=getLens(t),r=e[0],n=e[1];return(r+n)*3/4-n}function _byteLength(t,e,r){return(e+r)*3/4-r}function toByteArray(t){var e,r=getLens(t),n=r[0],o=r[1],s=new Arr(_byteLength(t,n,o)),a=0,c=o>0?n-4:n,d;for(d=0;d<c;d+=4)e=revLookup[t.charCodeAt(d)]<<18|revLookup[t.charCodeAt(d+1)]<<12|revLookup[t.charCodeAt(d+2)]<<6|revLookup[t.charCodeAt(d+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return o===2&&(e=revLookup[t.charCodeAt(d)]<<2|revLookup[t.charCodeAt(d+1)]>>4,s[a++]=e&255),o===1&&(e=revLookup[t.charCodeAt(d)]<<10|revLookup[t.charCodeAt(d+1)]<<4|revLookup[t.charCodeAt(d+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[t&63]}function encodeChunk(t,e,r){for(var n,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),o.push(tripletToBase64(n));return o.join("")}function fromByteArray(t){for(var e,r=t.length,n=r%3,o=[],s=16383,a=0,c=r-n;a<c;a+=s)o.push(encodeChunk(t,a,a+s>c?c:a+s));return n===1?(e=t[r-1],o.push(lookup[e>>2]+lookup[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),o.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(t,e,r,n,o){var s,a,c=o*8-n-1,d=(1<<c)-1,m=d>>1,gr=-7,vr=r?o-1:0,Ar=r?-1:1,Tr=t[e+vr];for(vr+=Ar,s=Tr&(1<<-gr)-1,Tr>>=-gr,gr+=c;gr>0;s=s*256+t[e+vr],vr+=Ar,gr-=8);for(a=s&(1<<-gr)-1,s>>=-gr,gr+=n;gr>0;a=a*256+t[e+vr],vr+=Ar,gr-=8);if(s===0)s=1-m;else{if(s===d)return a?NaN:(Tr?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-m}return(Tr?-1:1)*a*Math.pow(2,s-n)};ieee754.write=function(t,e,r,n,o,s){var a,c,d,m=s*8-o-1,gr=(1<<m)-1,vr=gr>>1,Ar=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,Tr=n?0:s-1,Rr=n?1:-1,kr=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=gr):(a=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+vr>=1?e+=Ar/d:e+=Ar*Math.pow(2,1-vr),e*d>=2&&(a++,d/=2),a+vr>=gr?(c=0,a=gr):a+vr>=1?(c=(e*d-1)*Math.pow(2,o),a=a+vr):(c=e*Math.pow(2,vr-1)*Math.pow(2,o),a=0));o>=8;t[r+Tr]=c&255,Tr+=Rr,c/=256,o-=8);for(a=a<<o|c,m+=o;m>0;t[r+Tr]=a&255,Tr+=Rr,a/=256,m-=8);t[r+Tr-Rr]|=kr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js,r=ieee754,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=Ur,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const wr=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(wr,y),wr.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function a(wr){if(wr>o)throw new RangeError('The value "'+wr+'" is invalid for option "size"');const y=new Uint8Array(wr);return Object.setPrototypeOf(y,c.prototype),y}function c(wr,y,_r){if(typeof wr=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return vr(wr)}return d(wr,y,_r)}c.poolSize=8192;function d(wr,y,_r){if(typeof wr=="string")return Ar(wr,y);if(ArrayBuffer.isView(wr))return Rr(wr);if(wr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof wr);if(Un(wr,ArrayBuffer)||wr&&Un(wr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Un(wr,SharedArrayBuffer)||wr&&Un(wr.buffer,SharedArrayBuffer)))return kr(wr,y,_r);if(typeof wr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $r=wr.valueOf&&wr.valueOf();if($r!=null&&$r!==wr)return c.from($r,y,_r);const Br=xr(wr);if(Br)return Br;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof wr[Symbol.toPrimitive]=="function")return c.from(wr[Symbol.toPrimitive]("string"),y,_r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof wr)}c.from=function(wr,y,_r){return d(wr,y,_r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function m(wr){if(typeof wr!="number")throw new TypeError('"size" argument must be of type number');if(wr<0)throw new RangeError('The value "'+wr+'" is invalid for option "size"')}function gr(wr,y,_r){return m(wr),wr<=0?a(wr):y!==void 0?typeof _r=="string"?a(wr).fill(y,_r):a(wr).fill(y):a(wr)}c.alloc=function(wr,y,_r){return gr(wr,y,_r)};function vr(wr){return m(wr),a(wr<0?0:Dr(wr)|0)}c.allocUnsafe=function(wr){return vr(wr)},c.allocUnsafeSlow=function(wr){return vr(wr)};function Ar(wr,y){if((typeof y!="string"||y==="")&&(y="utf8"),!c.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const _r=Cr(wr,y)|0;let $r=a(_r);const Br=$r.write(wr,y);return Br!==_r&&($r=$r.slice(0,Br)),$r}function Tr(wr){const y=wr.length<0?0:Dr(wr.length)|0,_r=a(y);for(let $r=0;$r<y;$r+=1)_r[$r]=wr[$r]&255;return _r}function Rr(wr){if(Un(wr,Uint8Array)){const y=new Uint8Array(wr);return kr(y.buffer,y.byteOffset,y.byteLength)}return Tr(wr)}function kr(wr,y,_r){if(y<0||wr.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(wr.byteLength<y+(_r||0))throw new RangeError('"length" is outside of buffer bounds');let $r;return y===void 0&&_r===void 0?$r=new Uint8Array(wr):_r===void 0?$r=new Uint8Array(wr,y):$r=new Uint8Array(wr,y,_r),Object.setPrototypeOf($r,c.prototype),$r}function xr(wr){if(c.isBuffer(wr)){const y=Dr(wr.length)|0,_r=a(y);return _r.length===0||wr.copy(_r,0,0,y),_r}if(wr.length!==void 0)return typeof wr.length!="number"||Fn(wr.length)?a(0):Tr(wr);if(wr.type==="Buffer"&&Array.isArray(wr.data))return Tr(wr.data)}function Dr(wr){if(wr>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return wr|0}function Ur(wr){return+wr!=wr&&(wr=0),c.alloc(+wr)}c.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==c.prototype},c.compare=function(y,_r){if(Un(y,Uint8Array)&&(y=c.from(y,y.offset,y.byteLength)),Un(_r,Uint8Array)&&(_r=c.from(_r,_r.offset,_r.byteLength)),!c.isBuffer(y)||!c.isBuffer(_r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===_r)return 0;let $r=y.length,Br=_r.length;for(let Wr=0,Qr=Math.min($r,Br);Wr<Qr;++Wr)if(y[Wr]!==_r[Wr]){$r=y[Wr],Br=_r[Wr];break}return $r<Br?-1:Br<$r?1:0},c.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(y,_r){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return c.alloc(0);let $r;if(_r===void 0)for(_r=0,$r=0;$r<y.length;++$r)_r+=y[$r].length;const Br=c.allocUnsafe(_r);let Wr=0;for($r=0;$r<y.length;++$r){let Qr=y[$r];if(Un(Qr,Uint8Array))Wr+Qr.length>Br.length?(c.isBuffer(Qr)||(Qr=c.from(Qr)),Qr.copy(Br,Wr)):Uint8Array.prototype.set.call(Br,Qr,Wr);else if(c.isBuffer(Qr))Qr.copy(Br,Wr);else throw new TypeError('"list" argument must be an Array of Buffers');Wr+=Qr.length}return Br};function Cr(wr,y){if(c.isBuffer(wr))return wr.length;if(ArrayBuffer.isView(wr)||Un(wr,ArrayBuffer))return wr.byteLength;if(typeof wr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof wr);const _r=wr.length,$r=arguments.length>2&&arguments[2]===!0;if(!$r&&_r===0)return 0;let Br=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return _r;case"utf8":case"utf-8":return An(wr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _r*2;case"hex":return _r>>>1;case"base64":return kn(wr).length;default:if(Br)return $r?-1:An(wr).length;y=(""+y).toLowerCase(),Br=!0}}c.byteLength=Cr;function Nr(wr,y,_r){let $r=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((_r===void 0||_r>this.length)&&(_r=this.length),_r<=0)||(_r>>>=0,y>>>=0,_r<=y))return"";for(wr||(wr="utf8");;)switch(wr){case"hex":return Jr(this,y,_r);case"utf8":case"utf-8":return Er(this,y,_r);case"ascii":return Gr(this,y,_r);case"latin1":case"binary":return qr(this,y,_r);case"base64":return Lr(this,y,_r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return en(this,y,_r);default:if($r)throw new TypeError("Unknown encoding: "+wr);wr=(wr+"").toLowerCase(),$r=!0}}c.prototype._isBuffer=!0;function Hr(wr,y,_r){const $r=wr[y];wr[y]=wr[_r],wr[_r]=$r}c.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _r=0;_r<y;_r+=2)Hr(this,_r,_r+1);return this},c.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _r=0;_r<y;_r+=4)Hr(this,_r,_r+3),Hr(this,_r+1,_r+2);return this},c.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _r=0;_r<y;_r+=8)Hr(this,_r,_r+7),Hr(this,_r+1,_r+6),Hr(this,_r+2,_r+5),Hr(this,_r+3,_r+4);return this},c.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?Er(this,0,y):Nr.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(y){if(!c.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:c.compare(this,y)===0},c.prototype.inspect=function(){let y="";const _r=t.INSPECT_MAX_BYTES;return y=this.toString("hex",0,_r).replace(/(.{2})/g,"$1 ").trim(),this.length>_r&&(y+=" ... "),"<Buffer "+y+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(y,_r,$r,Br,Wr){if(Un(y,Uint8Array)&&(y=c.from(y,y.offset,y.byteLength)),!c.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(_r===void 0&&(_r=0),$r===void 0&&($r=y?y.length:0),Br===void 0&&(Br=0),Wr===void 0&&(Wr=this.length),_r<0||$r>y.length||Br<0||Wr>this.length)throw new RangeError("out of range index");if(Br>=Wr&&_r>=$r)return 0;if(Br>=Wr)return-1;if(_r>=$r)return 1;if(_r>>>=0,$r>>>=0,Br>>>=0,Wr>>>=0,this===y)return 0;let Qr=Wr-Br,In=$r-_r;const Bn=Math.min(Qr,In),Cn=this.slice(Br,Wr),Hn=y.slice(_r,$r);for(let Mn=0;Mn<Bn;++Mn)if(Cn[Mn]!==Hn[Mn]){Qr=Cn[Mn],In=Hn[Mn];break}return Qr<In?-1:In<Qr?1:0};function Mr(wr,y,_r,$r,Br){if(wr.length===0)return-1;if(typeof _r=="string"?($r=_r,_r=0):_r>2147483647?_r=2147483647:_r<-2147483648&&(_r=-2147483648),_r=+_r,Fn(_r)&&(_r=Br?0:wr.length-1),_r<0&&(_r=wr.length+_r),_r>=wr.length){if(Br)return-1;_r=wr.length-1}else if(_r<0)if(Br)_r=0;else return-1;if(typeof y=="string"&&(y=c.from(y,$r)),c.isBuffer(y))return y.length===0?-1:Fr(wr,y,_r,$r,Br);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?Br?Uint8Array.prototype.indexOf.call(wr,y,_r):Uint8Array.prototype.lastIndexOf.call(wr,y,_r):Fr(wr,[y],_r,$r,Br);throw new TypeError("val must be string, number or Buffer")}function Fr(wr,y,_r,$r,Br){let Wr=1,Qr=wr.length,In=y.length;if($r!==void 0&&($r=String($r).toLowerCase(),$r==="ucs2"||$r==="ucs-2"||$r==="utf16le"||$r==="utf-16le")){if(wr.length<2||y.length<2)return-1;Wr=2,Qr/=2,In/=2,_r/=2}function Bn(Hn,Mn){return Wr===1?Hn[Mn]:Hn.readUInt16BE(Mn*Wr)}let Cn;if(Br){let Hn=-1;for(Cn=_r;Cn<Qr;Cn++)if(Bn(wr,Cn)===Bn(y,Hn===-1?0:Cn-Hn)){if(Hn===-1&&(Hn=Cn),Cn-Hn+1===In)return Hn*Wr}else Hn!==-1&&(Cn-=Cn-Hn),Hn=-1}else for(_r+In>Qr&&(_r=Qr-In),Cn=_r;Cn>=0;Cn--){let Hn=!0;for(let Mn=0;Mn<In;Mn++)if(Bn(wr,Cn+Mn)!==Bn(y,Mn)){Hn=!1;break}if(Hn)return Cn}return-1}c.prototype.includes=function(y,_r,$r){return this.indexOf(y,_r,$r)!==-1},c.prototype.indexOf=function(y,_r,$r){return Mr(this,y,_r,$r,!0)},c.prototype.lastIndexOf=function(y,_r,$r){return Mr(this,y,_r,$r,!1)};function Vr(wr,y,_r,$r){_r=Number(_r)||0;const Br=wr.length-_r;$r?($r=Number($r),$r>Br&&($r=Br)):$r=Br;const Wr=y.length;$r>Wr/2&&($r=Wr/2);let Qr;for(Qr=0;Qr<$r;++Qr){const In=parseInt(y.substr(Qr*2,2),16);if(Fn(In))return Qr;wr[_r+Qr]=In}return Qr}function Xr(wr,y,_r,$r){return En(An(y,wr.length-_r),wr,_r,$r)}function Yr(wr,y,_r,$r){return En(Ln(y),wr,_r,$r)}function tn(wr,y,_r,$r){return En(kn(y),wr,_r,$r)}function an(wr,y,_r,$r){return En(pn(y,wr.length-_r),wr,_r,$r)}c.prototype.write=function(y,_r,$r,Br){if(_r===void 0)Br="utf8",$r=this.length,_r=0;else if($r===void 0&&typeof _r=="string")Br=_r,$r=this.length,_r=0;else if(isFinite(_r))_r=_r>>>0,isFinite($r)?($r=$r>>>0,Br===void 0&&(Br="utf8")):(Br=$r,$r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Wr=this.length-_r;if(($r===void 0||$r>Wr)&&($r=Wr),y.length>0&&($r<0||_r<0)||_r>this.length)throw new RangeError("Attempt to write outside buffer bounds");Br||(Br="utf8");let Qr=!1;for(;;)switch(Br){case"hex":return Vr(this,y,_r,$r);case"utf8":case"utf-8":return Xr(this,y,_r,$r);case"ascii":case"latin1":case"binary":return Yr(this,y,_r,$r);case"base64":return tn(this,y,_r,$r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return an(this,y,_r,$r);default:if(Qr)throw new TypeError("Unknown encoding: "+Br);Br=(""+Br).toLowerCase(),Qr=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Lr(wr,y,_r){return y===0&&_r===wr.length?e.fromByteArray(wr):e.fromByteArray(wr.slice(y,_r))}function Er(wr,y,_r){_r=Math.min(wr.length,_r);const $r=[];let Br=y;for(;Br<_r;){const Wr=wr[Br];let Qr=null,In=Wr>239?4:Wr>223?3:Wr>191?2:1;if(Br+In<=_r){let Bn,Cn,Hn,Mn;switch(In){case 1:Wr<128&&(Qr=Wr);break;case 2:Bn=wr[Br+1],(Bn&192)===128&&(Mn=(Wr&31)<<6|Bn&63,Mn>127&&(Qr=Mn));break;case 3:Bn=wr[Br+1],Cn=wr[Br+2],(Bn&192)===128&&(Cn&192)===128&&(Mn=(Wr&15)<<12|(Bn&63)<<6|Cn&63,Mn>2047&&(Mn<55296||Mn>57343)&&(Qr=Mn));break;case 4:Bn=wr[Br+1],Cn=wr[Br+2],Hn=wr[Br+3],(Bn&192)===128&&(Cn&192)===128&&(Hn&192)===128&&(Mn=(Wr&15)<<18|(Bn&63)<<12|(Cn&63)<<6|Hn&63,Mn>65535&&Mn<1114112&&(Qr=Mn))}}Qr===null?(Qr=65533,In=1):Qr>65535&&(Qr-=65536,$r.push(Qr>>>10&1023|55296),Qr=56320|Qr&1023),$r.push(Qr),Br+=In}return jr($r)}const Or=4096;function jr(wr){const y=wr.length;if(y<=Or)return String.fromCharCode.apply(String,wr);let _r="",$r=0;for(;$r<y;)_r+=String.fromCharCode.apply(String,wr.slice($r,$r+=Or));return _r}function Gr(wr,y,_r){let $r="";_r=Math.min(wr.length,_r);for(let Br=y;Br<_r;++Br)$r+=String.fromCharCode(wr[Br]&127);return $r}function qr(wr,y,_r){let $r="";_r=Math.min(wr.length,_r);for(let Br=y;Br<_r;++Br)$r+=String.fromCharCode(wr[Br]);return $r}function Jr(wr,y,_r){const $r=wr.length;(!y||y<0)&&(y=0),(!_r||_r<0||_r>$r)&&(_r=$r);let Br="";for(let Wr=y;Wr<_r;++Wr)Br+=Kn[wr[Wr]];return Br}function en(wr,y,_r){const $r=wr.slice(y,_r);let Br="";for(let Wr=0;Wr<$r.length-1;Wr+=2)Br+=String.fromCharCode($r[Wr]+$r[Wr+1]*256);return Br}c.prototype.slice=function(y,_r){const $r=this.length;y=~~y,_r=_r===void 0?$r:~~_r,y<0?(y+=$r,y<0&&(y=0)):y>$r&&(y=$r),_r<0?(_r+=$r,_r<0&&(_r=0)):_r>$r&&(_r=$r),_r<y&&(_r=y);const Br=this.subarray(y,_r);return Object.setPrototypeOf(Br,c.prototype),Br};function Kr(wr,y,_r){if(wr%1!==0||wr<0)throw new RangeError("offset is not uint");if(wr+y>_r)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=this[y],Wr=1,Qr=0;for(;++Qr<_r&&(Wr*=256);)Br+=this[y+Qr]*Wr;return Br},c.prototype.readUintBE=c.prototype.readUIntBE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=this[y+--_r],Wr=1;for(;_r>0&&(Wr*=256);)Br+=this[y+--_r]*Wr;return Br},c.prototype.readUint8=c.prototype.readUInt8=function(y,_r){return y=y>>>0,_r||Kr(y,1,this.length),this[y]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(y,_r){return y=y>>>0,_r||Kr(y,2,this.length),this[y]|this[y+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(y,_r){return y=y>>>0,_r||Kr(y,2,this.length),this[y]<<8|this[y+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},c.prototype.readBigUInt64LE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=_r+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,Wr=this[++y]+this[++y]*2**8+this[++y]*2**16+$r*2**24;return BigInt(Br)+(BigInt(Wr)<<BigInt(32))}),c.prototype.readBigUInt64BE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=_r*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],Wr=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+$r;return(BigInt(Br)<<BigInt(32))+BigInt(Wr)}),c.prototype.readIntLE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=this[y],Wr=1,Qr=0;for(;++Qr<_r&&(Wr*=256);)Br+=this[y+Qr]*Wr;return Wr*=128,Br>=Wr&&(Br-=Math.pow(2,8*_r)),Br},c.prototype.readIntBE=function(y,_r,$r){y=y>>>0,_r=_r>>>0,$r||Kr(y,_r,this.length);let Br=_r,Wr=1,Qr=this[y+--Br];for(;Br>0&&(Wr*=256);)Qr+=this[y+--Br]*Wr;return Wr*=128,Qr>=Wr&&(Qr-=Math.pow(2,8*_r)),Qr},c.prototype.readInt8=function(y,_r){return y=y>>>0,_r||Kr(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},c.prototype.readInt16LE=function(y,_r){y=y>>>0,_r||Kr(y,2,this.length);const $r=this[y]|this[y+1]<<8;return $r&32768?$r|4294901760:$r},c.prototype.readInt16BE=function(y,_r){y=y>>>0,_r||Kr(y,2,this.length);const $r=this[y+1]|this[y]<<8;return $r&32768?$r|4294901760:$r},c.prototype.readInt32LE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},c.prototype.readInt32BE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},c.prototype.readBigInt64LE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+($r<<24);return(BigInt(Br)<<BigInt(32))+BigInt(_r+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),c.prototype.readBigInt64BE=jn(function(y){y=y>>>0,cn(y,"offset");const _r=this[y],$r=this[y+7];(_r===void 0||$r===void 0)&&fn(y,this.length-8);const Br=(_r<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(Br)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+$r)}),c.prototype.readFloatLE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),r.read(this,y,!0,23,4)},c.prototype.readFloatBE=function(y,_r){return y=y>>>0,_r||Kr(y,4,this.length),r.read(this,y,!1,23,4)},c.prototype.readDoubleLE=function(y,_r){return y=y>>>0,_r||Kr(y,8,this.length),r.read(this,y,!0,52,8)},c.prototype.readDoubleBE=function(y,_r){return y=y>>>0,_r||Kr(y,8,this.length),r.read(this,y,!1,52,8)};function Ir(wr,y,_r,$r,Br,Wr){if(!c.isBuffer(wr))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>Br||y<Wr)throw new RangeError('"value" argument is out of bounds');if(_r+$r>wr.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,$r=$r>>>0,!Br){const In=Math.pow(2,8*$r)-1;Ir(this,y,_r,$r,In,0)}let Wr=1,Qr=0;for(this[_r]=y&255;++Qr<$r&&(Wr*=256);)this[_r+Qr]=y/Wr&255;return _r+$r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,$r=$r>>>0,!Br){const In=Math.pow(2,8*$r)-1;Ir(this,y,_r,$r,In,0)}let Wr=$r-1,Qr=1;for(this[_r+Wr]=y&255;--Wr>=0&&(Qr*=256);)this[_r+Wr]=y/Qr&255;return _r+$r},c.prototype.writeUint8=c.prototype.writeUInt8=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,1,255,0),this[_r]=y&255,_r+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,65535,0),this[_r]=y&255,this[_r+1]=y>>>8,_r+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,65535,0),this[_r]=y>>>8,this[_r+1]=y&255,_r+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,4294967295,0),this[_r+3]=y>>>24,this[_r+2]=y>>>16,this[_r+1]=y>>>8,this[_r]=y&255,_r+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,4294967295,0),this[_r]=y>>>24,this[_r+1]=y>>>16,this[_r+2]=y>>>8,this[_r+3]=y&255,_r+4};function zr(wr,y,_r,$r,Br){sn(y,$r,Br,wr,_r,7);let Wr=Number(y&BigInt(4294967295));wr[_r++]=Wr,Wr=Wr>>8,wr[_r++]=Wr,Wr=Wr>>8,wr[_r++]=Wr,Wr=Wr>>8,wr[_r++]=Wr;let Qr=Number(y>>BigInt(32)&BigInt(4294967295));return wr[_r++]=Qr,Qr=Qr>>8,wr[_r++]=Qr,Qr=Qr>>8,wr[_r++]=Qr,Qr=Qr>>8,wr[_r++]=Qr,_r}function un(wr,y,_r,$r,Br){sn(y,$r,Br,wr,_r,7);let Wr=Number(y&BigInt(4294967295));wr[_r+7]=Wr,Wr=Wr>>8,wr[_r+6]=Wr,Wr=Wr>>8,wr[_r+5]=Wr,Wr=Wr>>8,wr[_r+4]=Wr;let Qr=Number(y>>BigInt(32)&BigInt(4294967295));return wr[_r+3]=Qr,Qr=Qr>>8,wr[_r+2]=Qr,Qr=Qr>>8,wr[_r+1]=Qr,Qr=Qr>>8,wr[_r]=Qr,_r+8}c.prototype.writeBigUInt64LE=jn(function(y,_r=0){return zr(this,y,_r,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=jn(function(y,_r=0){return un(this,y,_r,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,!Br){const Bn=Math.pow(2,8*$r-1);Ir(this,y,_r,$r,Bn-1,-Bn)}let Wr=0,Qr=1,In=0;for(this[_r]=y&255;++Wr<$r&&(Qr*=256);)y<0&&In===0&&this[_r+Wr-1]!==0&&(In=1),this[_r+Wr]=(y/Qr>>0)-In&255;return _r+$r},c.prototype.writeIntBE=function(y,_r,$r,Br){if(y=+y,_r=_r>>>0,!Br){const Bn=Math.pow(2,8*$r-1);Ir(this,y,_r,$r,Bn-1,-Bn)}let Wr=$r-1,Qr=1,In=0;for(this[_r+Wr]=y&255;--Wr>=0&&(Qr*=256);)y<0&&In===0&&this[_r+Wr+1]!==0&&(In=1),this[_r+Wr]=(y/Qr>>0)-In&255;return _r+$r},c.prototype.writeInt8=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,1,127,-128),y<0&&(y=255+y+1),this[_r]=y&255,_r+1},c.prototype.writeInt16LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,32767,-32768),this[_r]=y&255,this[_r+1]=y>>>8,_r+2},c.prototype.writeInt16BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,2,32767,-32768),this[_r]=y>>>8,this[_r+1]=y&255,_r+2},c.prototype.writeInt32LE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,2147483647,-2147483648),this[_r]=y&255,this[_r+1]=y>>>8,this[_r+2]=y>>>16,this[_r+3]=y>>>24,_r+4},c.prototype.writeInt32BE=function(y,_r,$r){return y=+y,_r=_r>>>0,$r||Ir(this,y,_r,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[_r]=y>>>24,this[_r+1]=y>>>16,this[_r+2]=y>>>8,this[_r+3]=y&255,_r+4},c.prototype.writeBigInt64LE=jn(function(y,_r=0){return zr(this,y,_r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=jn(function(y,_r=0){return un(this,y,_r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function vn(wr,y,_r,$r,Br,Wr){if(_r+$r>wr.length)throw new RangeError("Index out of range");if(_r<0)throw new RangeError("Index out of range")}function _n(wr,y,_r,$r,Br){return y=+y,_r=_r>>>0,Br||vn(wr,y,_r,4),r.write(wr,y,_r,$r,23,4),_r+4}c.prototype.writeFloatLE=function(y,_r,$r){return _n(this,y,_r,!0,$r)},c.prototype.writeFloatBE=function(y,_r,$r){return _n(this,y,_r,!1,$r)};function dn(wr,y,_r,$r,Br){return y=+y,_r=_r>>>0,Br||vn(wr,y,_r,8),r.write(wr,y,_r,$r,52,8),_r+8}c.prototype.writeDoubleLE=function(y,_r,$r){return dn(this,y,_r,!0,$r)},c.prototype.writeDoubleBE=function(y,_r,$r){return dn(this,y,_r,!1,$r)},c.prototype.copy=function(y,_r,$r,Br){if(!c.isBuffer(y))throw new TypeError("argument should be a Buffer");if($r||($r=0),!Br&&Br!==0&&(Br=this.length),_r>=y.length&&(_r=y.length),_r||(_r=0),Br>0&&Br<$r&&(Br=$r),Br===$r||y.length===0||this.length===0)return 0;if(_r<0)throw new RangeError("targetStart out of bounds");if($r<0||$r>=this.length)throw new RangeError("Index out of range");if(Br<0)throw new RangeError("sourceEnd out of bounds");Br>this.length&&(Br=this.length),y.length-_r<Br-$r&&(Br=y.length-_r+$r);const Wr=Br-$r;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_r,$r,Br):Uint8Array.prototype.set.call(y,this.subarray($r,Br),_r),Wr},c.prototype.fill=function(y,_r,$r,Br){if(typeof y=="string"){if(typeof _r=="string"?(Br=_r,_r=0,$r=this.length):typeof $r=="string"&&(Br=$r,$r=this.length),Br!==void 0&&typeof Br!="string")throw new TypeError("encoding must be a string");if(typeof Br=="string"&&!c.isEncoding(Br))throw new TypeError("Unknown encoding: "+Br);if(y.length===1){const Qr=y.charCodeAt(0);(Br==="utf8"&&Qr<128||Br==="latin1")&&(y=Qr)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(_r<0||this.length<_r||this.length<$r)throw new RangeError("Out of range index");if($r<=_r)return this;_r=_r>>>0,$r=$r===void 0?this.length:$r>>>0,y||(y=0);let Wr;if(typeof y=="number")for(Wr=_r;Wr<$r;++Wr)this[Wr]=y;else{const Qr=c.isBuffer(y)?y:c.from(y,Br),In=Qr.length;if(In===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(Wr=0;Wr<$r-_r;++Wr)this[Wr+_r]=Qr[Wr%In]}return this};const gn={};function yn(wr,y,_r){gn[wr]=class extends _r{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${wr}]`,this.stack,delete this.name}get code(){return wr}set code(Br){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Br,writable:!0})}toString(){return`${this.name} [${wr}]: ${this.message}`}}}yn("ERR_BUFFER_OUT_OF_BOUNDS",function(wr){return wr?`${wr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),yn("ERR_INVALID_ARG_TYPE",function(wr,y){return`The "${wr}" argument must be of type number. Received type ${typeof y}`},TypeError),yn("ERR_OUT_OF_RANGE",function(wr,y,_r){let $r=`The value of "${wr}" is out of range.`,Br=_r;return Number.isInteger(_r)&&Math.abs(_r)>2**32?Br=Tn(String(_r)):typeof _r=="bigint"&&(Br=String(_r),(_r>BigInt(2)**BigInt(32)||_r<-(BigInt(2)**BigInt(32)))&&(Br=Tn(Br)),Br+="n"),$r+=` It must be ${y}. Received ${Br}`,$r},RangeError);function Tn(wr){let y="",_r=wr.length;const $r=wr[0]==="-"?1:0;for(;_r>=$r+4;_r-=3)y=`_${wr.slice(_r-3,_r)}${y}`;return`${wr.slice(0,_r)}${y}`}function Dn(wr,y,_r){cn(y,"offset"),(wr[y]===void 0||wr[y+_r]===void 0)&&fn(y,wr.length-(_r+1))}function sn(wr,y,_r,$r,Br,Wr){if(wr>_r||wr<y){const Qr=typeof y=="bigint"?"n":"";let In;throw Wr>3?y===0||y===BigInt(0)?In=`>= 0${Qr} and < 2${Qr} ** ${(Wr+1)*8}${Qr}`:In=`>= -(2${Qr} ** ${(Wr+1)*8-1}${Qr}) and < 2 ** ${(Wr+1)*8-1}${Qr}`:In=`>= ${y}${Qr} and <= ${_r}${Qr}`,new gn.ERR_OUT_OF_RANGE("value",In,wr)}Dn($r,Br,Wr)}function cn(wr,y){if(typeof wr!="number")throw new gn.ERR_INVALID_ARG_TYPE(y,"number",wr)}function fn(wr,y,_r){throw Math.floor(wr)!==wr?(cn(wr,_r),new gn.ERR_OUT_OF_RANGE(_r||"offset","an integer",wr)):y<0?new gn.ERR_BUFFER_OUT_OF_BOUNDS:new gn.ERR_OUT_OF_RANGE(_r||"offset",`>= ${_r?1:0} and <= ${y}`,wr)}const Sn=/[^+/0-9A-Za-z-_]/g;function On(wr){if(wr=wr.split("=")[0],wr=wr.trim().replace(Sn,""),wr.length<2)return"";for(;wr.length%4!==0;)wr=wr+"=";return wr}function An(wr,y){y=y||1/0;let _r;const $r=wr.length;let Br=null;const Wr=[];for(let Qr=0;Qr<$r;++Qr){if(_r=wr.charCodeAt(Qr),_r>55295&&_r<57344){if(!Br){if(_r>56319){(y-=3)>-1&&Wr.push(239,191,189);continue}else if(Qr+1===$r){(y-=3)>-1&&Wr.push(239,191,189);continue}Br=_r;continue}if(_r<56320){(y-=3)>-1&&Wr.push(239,191,189),Br=_r;continue}_r=(Br-55296<<10|_r-56320)+65536}else Br&&(y-=3)>-1&&Wr.push(239,191,189);if(Br=null,_r<128){if((y-=1)<0)break;Wr.push(_r)}else if(_r<2048){if((y-=2)<0)break;Wr.push(_r>>6|192,_r&63|128)}else if(_r<65536){if((y-=3)<0)break;Wr.push(_r>>12|224,_r>>6&63|128,_r&63|128)}else if(_r<1114112){if((y-=4)<0)break;Wr.push(_r>>18|240,_r>>12&63|128,_r>>6&63|128,_r&63|128)}else throw new Error("Invalid code point")}return Wr}function Ln(wr){const y=[];for(let _r=0;_r<wr.length;++_r)y.push(wr.charCodeAt(_r)&255);return y}function pn(wr,y){let _r,$r,Br;const Wr=[];for(let Qr=0;Qr<wr.length&&!((y-=2)<0);++Qr)_r=wr.charCodeAt(Qr),$r=_r>>8,Br=_r%256,Wr.push(Br),Wr.push($r);return Wr}function kn(wr){return e.toByteArray(On(wr))}function En(wr,y,_r,$r){let Br;for(Br=0;Br<$r&&!(Br+_r>=y.length||Br>=wr.length);++Br)y[Br+_r]=wr[Br];return Br}function Un(wr,y){return wr instanceof y||wr!=null&&wr.constructor!=null&&wr.constructor.name!=null&&wr.constructor.name===y.name}function Fn(wr){return wr!==wr}const Kn=function(){const wr="0123456789abcdef",y=new Array(256);for(let _r=0;_r<16;++_r){const $r=_r*16;for(let Br=0;Br<16;++Br)y[$r+Br]=wr[_r]+wr[Br]}return y}();function jn(wr){return typeof BigInt>"u"?zn:wr}function zn(){throw new Error("BigInt not supported")}})(buffer);var global$1=typeof dist$1.global<"u"?dist$1.global:typeof self<"u"?self:typeof window<"u"?window:{},inherits;typeof Object.create=="function"?inherits=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:inherits=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits$1=inherits;function inspect$1(t,e){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(e)?r.showHidden=e:e&&_extend(r,e),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,t,r.depth)}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(t,e){var r=inspect$1.styles[e];return r?"\x1B["+inspect$1.colors[r][0]+"m"+t+"\x1B["+inspect$1.colors[r][1]+"m":t}function stylizeNoColor(t,e){return t}function arrayToHash(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function formatValue(t,e,r){if(t.customInspect&&e&&isFunction$1(e.inspect)&&e.inspect!==inspect$1&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return isString(n)||(n=formatValue(t,n,r)),n}var o=formatPrimitive(t,e);if(o)return o;var s=Object.keys(e),a=arrayToHash(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),isError(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return formatError(e);if(s.length===0){if(isFunction$1(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(isRegExp(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(isDate(e))return t.stylize(Date.prototype.toString.call(e),"date");if(isError(e))return formatError(e)}var d="",m=!1,gr=["{","}"];if(isArray$1(e)&&(m=!0,gr=["[","]"]),isFunction$1(e)){var vr=e.name?": "+e.name:"";d=" [Function"+vr+"]"}if(isRegExp(e)&&(d=" "+RegExp.prototype.toString.call(e)),isDate(e)&&(d=" "+Date.prototype.toUTCString.call(e)),isError(e)&&(d=" "+formatError(e)),s.length===0&&(!m||e.length==0))return gr[0]+d+gr[1];if(r<0)return isRegExp(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var Ar;return m?Ar=formatArray(t,e,r,a,s):Ar=s.map(function(Tr){return formatProperty(t,e,r,a,Tr,m)}),t.seen.pop(),reduceToSingleString(Ar,d,gr)}function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(isNumber(e))return t.stylize(""+e,"number");if(isBoolean(e))return t.stylize(""+e,"boolean");if(isNull(e))return t.stylize("null","null")}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatArray(t,e,r,n,o){for(var s=[],a=0,c=e.length;a<c;++a)hasOwnProperty(e,String(a))?s.push(formatProperty(t,e,r,n,String(a),!0)):s.push("");return o.forEach(function(d){d.match(/^\d+$/)||s.push(formatProperty(t,e,r,n,d,!0))}),s}function formatProperty(t,e,r,n,o,s){var a,c,d;if(d=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},d.get?d.set?c=t.stylize("[Getter/Setter]","special"):c=t.stylize("[Getter]","special"):d.set&&(c=t.stylize("[Setter]","special")),hasOwnProperty(n,o)||(a="["+o+"]"),c||(t.seen.indexOf(d.value)<0?(isNull(r)?c=formatValue(t,d.value,null):c=formatValue(t,d.value,r-1),c.indexOf(`
`)>-1&&(s?c=c.split(`
`).map(function(m){return"  "+m}).join(`
`).substr(2):c=`
`+c.split(`
`).map(function(m){return"   "+m}).join(`
`))):c=t.stylize("[Circular]","special")),isUndefined(a)){if(s&&o.match(/^\d+$/))return c;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}function reduceToSingleString(t,e,r){var n=t.reduce(function(o,s){return s.indexOf(`
`)>=0,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function isArray$1(t){return Array.isArray(t)}function isBoolean(t){return typeof t=="boolean"}function isNull(t){return t===null}function isNumber(t){return typeof t=="number"}function isString(t){return typeof t=="string"}function isUndefined(t){return t===void 0}function isRegExp(t){return isObject$1(t)&&objectToString(t)==="[object RegExp]"}function isObject$1(t){return typeof t=="object"&&t!==null}function isDate(t){return isObject$1(t)&&objectToString(t)==="[object Date]"}function isError(t){return isObject$1(t)&&(objectToString(t)==="[object Error]"||t instanceof Error)}function isFunction$1(t){return typeof t=="function"}function isPrimitive(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function objectToString(t){return Object.prototype.toString.call(t)}function _extend(t,e){if(!e||!isObject$1(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function compare(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,s=Math.min(r,n);o<s;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}var hasOwn=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(t){var e=[];for(var r in t)hasOwn.call(t,r)&&e.push(r);return e},pSlice=Array.prototype.slice,_functionsHaveNames;function functionsHaveNames(){return typeof _functionsHaveNames<"u"?_functionsHaveNames:_functionsHaveNames=function(){return function(){}.name==="foo"}()}function pToString(t){return Object.prototype.toString.call(t)}function isView(t){return buffer.isBuffer(t)||typeof global$1.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t?!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer):!1}function assert(t,e){t||fail$1(t,!0,e,"==",ok)}var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(t){if(!!isFunction$1(t)){if(functionsHaveNames())return t.name;var e=t.toString(),r=e.match(regex);return r&&r[1]}}assert.AssertionError=AssertionError;function AssertionError(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail$1;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,o=getName(e),s=n.indexOf(`
`+o);if(s>=0){var a=n.indexOf(`
`,s+1);n=n.substring(a+1)}this.stack=n}}}inherits$1(AssertionError,Error);function truncate(t,e){return typeof t=="string"?t.length<e?t:t.slice(0,e):t}function inspect(t){if(functionsHaveNames()||!isFunction$1(t))return inspect$1(t);var e=getName(t),r=e?": "+e:"";return"[Function"+r+"]"}function getMessage(t){return truncate(inspect(t.actual),128)+" "+t.operator+" "+truncate(inspect(t.expected),128)}function fail$1(t,e,r,n,o){throw new AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}assert.fail=fail$1;function ok(t,e){t||fail$1(t,!0,e,"==",ok)}assert.ok=ok;assert.equal=equal;function equal(t,e,r){t!=e&&fail$1(t,e,r,"==",equal)}assert.notEqual=notEqual;function notEqual(t,e,r){t==e&&fail$1(t,e,r,"!=",notEqual)}assert.deepEqual=deepEqual$1;function deepEqual$1(t,e,r){_deepEqual(t,e,!1)||fail$1(t,e,r,"deepEqual",deepEqual$1)}assert.deepStrictEqual=deepStrictEqual;function deepStrictEqual(t,e,r){_deepEqual(t,e,!0)||fail$1(t,e,r,"deepStrictEqual",deepStrictEqual)}function _deepEqual(t,e,r,n){if(t===e)return!0;if(buffer.isBuffer(t)&&buffer.isBuffer(e))return compare(t,e)===0;if(isDate(t)&&isDate(e))return t.getTime()===e.getTime();if(isRegExp(t)&&isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if((t===null||typeof t!="object")&&(e===null||typeof e!="object"))return r?t===e:t==e;if(isView(t)&&isView(e)&&pToString(t)===pToString(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return compare(new Uint8Array(t.buffer),new Uint8Array(e.buffer))===0;if(buffer.isBuffer(t)!==buffer.isBuffer(e))return!1;n=n||{actual:[],expected:[]};var o=n.actual.indexOf(t);return o!==-1&&o===n.expected.indexOf(e)?!0:(n.actual.push(t),n.expected.push(e),objEquiv(t,e,r,n))}function isArguments(t){return Object.prototype.toString.call(t)=="[object Arguments]"}function objEquiv(t,e,r,n){if(t==null||e===null||e===void 0)return!1;if(isPrimitive(t)||isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=isArguments(t),s=isArguments(e);if(o&&!s||!o&&s)return!1;if(o)return t=pSlice.call(t),e=pSlice.call(e),_deepEqual(t,e,r);var a=objectKeys(t),c=objectKeys(e),d,m;if(a.length!==c.length)return!1;for(a.sort(),c.sort(),m=a.length-1;m>=0;m--)if(a[m]!==c[m])return!1;for(m=a.length-1;m>=0;m--)if(d=a[m],!_deepEqual(t[d],e[d],r,n))return!1;return!0}assert.notDeepEqual=notDeepEqual;function notDeepEqual(t,e,r){_deepEqual(t,e,!1)&&fail$1(t,e,r,"notDeepEqual",notDeepEqual)}assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(t,e,r){_deepEqual(t,e,!0)&&fail$1(t,e,r,"notDeepStrictEqual",notDeepStrictEqual)}assert.strictEqual=strictEqual;function strictEqual(t,e,r){t!==e&&fail$1(t,e,r,"===",strictEqual)}assert.notStrictEqual=notStrictEqual;function notStrictEqual(t,e,r){t===e&&fail$1(t,e,r,"!==",notStrictEqual)}function expectedException(t,e){if(!t||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(t);try{if(t instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function _tryBlock(t){var e;try{t()}catch(r){e=r}return e}function _throws(t,e,r,n){var o;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof r=="string"&&(n=r,r=null),o=_tryBlock(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&fail$1(o,r,"Missing expected exception"+n);var s=typeof n=="string",a=!t&&isError(o),c=!t&&o&&!r;if((a&&s&&expectedException(o,r)||c)&&fail$1(o,r,"Got unwanted exception"+n),t&&o&&r&&!expectedException(o,r)||!t&&o)throw o}assert.throws=throws;function throws(t,e,r){_throws(!0,t,e,r)}assert.doesNotThrow=doesNotThrow;function doesNotThrow(t,e,r){_throws(!1,t,e,r)}assert.ifError=ifError;function ifError(t){if(t)throw t}class Layout{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}function nameWithProperty(t,e){return e.property?t+"["+e.property+"]":t}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class UInt extends Layout{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class Structure extends Layout{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((o,s)=>{const a=s.getSpan(e,r);return r+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const o=n;let s=0,a=0;for(const c of this.fields){let d=c.span;if(a=0<d?d:0,c.property!==void 0){const m=e[c.property];m!==void 0&&(a=c.encode(m,r,n),0>d&&(d=c.getSpan(r,n)))}s=n,n+=d}return s+a-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class Blob$1 extends Layout{constructor(e,r){if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ExternalLayout||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof ExternalLayout&&(o=e.length),!(buffer.Buffer.isBuffer(e)&&o===e.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,o,"hex"),this.length instanceof ExternalLayout&&this.length.encode(o,r,n),o}}var u8=t=>new UInt(1,t),u32=t=>new UInt(4,t),struct=(t,e,r)=>new Structure(t,e,r),blob=(t,e)=>new Blob$1(t,e);const publicKey=(t="publicKey")=>blob(32,t),uint64=(t="uint64")=>blob(8,t);function sendAndConfirmTransaction$1(t,e,r,...n){return sendAndConfirmTransaction$2(e,r,n,{skipPreflight:!1})}const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),FAILED_TO_FIND_ACCOUNT="Failed to find account",INVALID_ACCOUNT_OWNER="Invalid account owner";function pubkeyToBuffer(t){return buffer.Buffer.from(t.toBuffer())}class u64 extends BN{toBuffer(){const e=super.toArray().reverse(),r=buffer.Buffer.from(e);if(r.length===8)return r;assert(r.length<8,"u64 too large");const n=buffer.Buffer.alloc(8);return r.copy(n),n}static fromBuffer(e){return assert(e.length===8,`Invalid buffer length: ${e.length}`),new u64([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}}function isAccount(t){return"publicKey"in t}const AuthorityTypeCodes={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},NATIVE_MINT=new PublicKey("So11111111111111111111111111111111111111112"),MintLayout=struct([u32("mintAuthorityOption"),publicKey("mintAuthority"),uint64("supply"),u8("decimals"),u8("isInitialized"),u32("freezeAuthorityOption"),publicKey("freezeAuthority")]),AccountLayout=struct([publicKey("mint"),publicKey("owner"),uint64("amount"),u32("delegateOption"),publicKey("delegate"),u8("state"),u32("isNativeOption"),uint64("isNative"),uint64("delegatedAmount"),u32("closeAuthorityOption"),publicKey("closeAuthority")]),MultisigLayout=struct([u8("m"),u8("n"),u8("is_initialized"),publicKey("signer1"),publicKey("signer2"),publicKey("signer3"),publicKey("signer4"),publicKey("signer5"),publicKey("signer6"),publicKey("signer7"),publicKey("signer8"),publicKey("signer9"),publicKey("signer10"),publicKey("signer11")]);class Token{constructor(e,r,n,o){_defineProperty(this,"connection",void 0),_defineProperty(this,"publicKey",void 0),_defineProperty(this,"programId",void 0),_defineProperty(this,"associatedProgramId",void 0),_defineProperty(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:r,programId:n,payer:o,associatedProgramId:ASSOCIATED_TOKEN_PROGRAM_ID})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(MintLayout.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(AccountLayout.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(MultisigLayout.span)}static async createMint(e,r,n,o,s,a){const c=Keypair.generate(),d=new Token(e,c.publicKey,a,r),m=await Token.getMinBalanceRentForExemptMint(e),gr=new Transaction;return gr.add(SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:c.publicKey,lamports:m,space:MintLayout.span,programId:a})),gr.add(Token.createInitMintInstruction(a,c.publicKey,s,n,o)),await sendAndConfirmTransaction$1("createAccount and InitializeMint",e,gr,r,c),d}async createAccount(e){const r=await Token.getMinBalanceRentForExemptAccount(this.connection),n=Keypair.generate(),o=new Transaction;o.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:r,space:AccountLayout.span,programId:this.programId}));const s=this.publicKey;return o.add(Token.createInitAccountInstruction(this.programId,s,n.publicKey,e)),await sendAndConfirmTransaction$1("createAccount and InitializeAccount",this.connection,o,this.payer,n),n.publicKey}async createAssociatedTokenAccount(e){const r=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,r)}async createAssociatedTokenAccountInternal(e,r){return await sendAndConfirmTransaction$1("CreateAssociatedTokenAccount",this.connection,new Transaction().add(Token.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,r,e,this.payer.publicKey)),this.payer),r}async getOrCreateAssociatedAccountInfo(e){const r=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(r)}catch(n){if(n.message===FAILED_TO_FIND_ACCOUNT||n.message===INVALID_ACCOUNT_OWNER){try{await this.createAssociatedTokenAccountInternal(e,r)}catch{}return await this.getAccountInfo(r)}else throw n}}static async createWrappedNativeAccount(e,r,n,o,s){const a=await Token.getMinBalanceRentForExemptAccount(e),c=Keypair.generate(),d=new Transaction;return d.add(SystemProgram.createAccount({fromPubkey:o.publicKey,newAccountPubkey:c.publicKey,lamports:a,space:AccountLayout.span,programId:r})),d.add(SystemProgram.transfer({fromPubkey:o.publicKey,toPubkey:c.publicKey,lamports:s})),d.add(Token.createInitAccountInstruction(r,NATIVE_MINT,c.publicKey,n)),await sendAndConfirmTransaction$1("createAccount, transfer, and initializeAccount",e,d,o,c),c.publicKey}async createMultisig(e,r){const n=Keypair.generate(),o=await Token.getMinBalanceRentForExemptMultisig(this.connection),s=new Transaction;s.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:o,space:MultisigLayout.span,programId:this.programId}));let a=[{pubkey:n.publicKey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];r.forEach(m=>a.push({pubkey:m,isSigner:!1,isWritable:!1}));const c=struct([u8("instruction"),u8("m")]),d=buffer.Buffer.alloc(c.span);return c.encode({instruction:2,m:e},d),s.add({keys:a,programId:this.programId,data:d}),await sendAndConfirmTransaction$1("createAccount and InitializeMultisig",this.connection,s,this.payer,n),n.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(e===null)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=MintLayout.span)throw new Error("Invalid mint size");const r=buffer.Buffer.from(e.data),n=MintLayout.decode(r);return n.mintAuthorityOption===0?n.mintAuthority=null:n.mintAuthority=new PublicKey(n.mintAuthority),n.supply=u64.fromBuffer(n.supply),n.isInitialized=n.isInitialized!=0,n.freezeAuthorityOption===0?n.freezeAuthority=null:n.freezeAuthority=new PublicKey(n.freezeAuthority),n}async getAccountInfo(e,r){const n=await this.connection.getAccountInfo(e,r);if(n===null)throw new Error(FAILED_TO_FIND_ACCOUNT);if(!n.owner.equals(this.programId))throw new Error(INVALID_ACCOUNT_OWNER);if(n.data.length!=AccountLayout.span)throw new Error("Invalid account size");const o=buffer.Buffer.from(n.data),s=AccountLayout.decode(o);if(s.address=e,s.mint=new PublicKey(s.mint),s.owner=new PublicKey(s.owner),s.amount=u64.fromBuffer(s.amount),s.delegateOption===0?(s.delegate=null,s.delegatedAmount=new u64):(s.delegate=new PublicKey(s.delegate),s.delegatedAmount=u64.fromBuffer(s.delegatedAmount)),s.isInitialized=s.state!==0,s.isFrozen=s.state===2,s.isNativeOption===1?(s.rentExemptReserve=u64.fromBuffer(s.isNative),s.isNative=!0):(s.rentExemptReserve=null,s.isNative=!1),s.closeAuthorityOption===0?s.closeAuthority=null:s.closeAuthority=new PublicKey(s.closeAuthority),!s.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(s.mint)} !== ${JSON.stringify(this.publicKey)}`);return s}async getMultisigInfo(e){const r=await this.connection.getAccountInfo(e);if(r===null)throw new Error("Failed to find multisig");if(!r.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(r.data.length!=MultisigLayout.span)throw new Error("Invalid multisig size");const n=buffer.Buffer.from(r.data),o=MultisigLayout.decode(n);return o.signer1=new PublicKey(o.signer1),o.signer2=new PublicKey(o.signer2),o.signer3=new PublicKey(o.signer3),o.signer4=new PublicKey(o.signer4),o.signer5=new PublicKey(o.signer5),o.signer6=new PublicKey(o.signer6),o.signer7=new PublicKey(o.signer7),o.signer8=new PublicKey(o.signer8),o.signer9=new PublicKey(o.signer9),o.signer10=new PublicKey(o.signer10),o.signer11=new PublicKey(o.signer11),o}async transfer(e,r,n,o,s){let a,c;return isAccount(n)?(a=n.publicKey,c=[n]):(a=n,c=o),await sendAndConfirmTransaction$1("Transfer",this.connection,new Transaction().add(Token.createTransferInstruction(this.programId,e,r,a,o,s)),this.payer,...c)}async approve(e,r,n,o,s){let a,c;isAccount(n)?(a=n.publicKey,c=[n]):(a=n,c=o),await sendAndConfirmTransaction$1("Approve",this.connection,new Transaction().add(Token.createApproveInstruction(this.programId,e,r,a,o,s)),this.payer,...c)}async revoke(e,r,n){let o,s;isAccount(r)?(o=r.publicKey,s=[r]):(o=r,s=n),await sendAndConfirmTransaction$1("Revoke",this.connection,new Transaction().add(Token.createRevokeInstruction(this.programId,e,o,n)),this.payer,...s)}async setAuthority(e,r,n,o,s){let a,c;isAccount(o)?(a=o.publicKey,c=[o]):(a=o,c=s),await sendAndConfirmTransaction$1("SetAuthority",this.connection,new Transaction().add(Token.createSetAuthorityInstruction(this.programId,e,r,n,a,s)),this.payer,...c)}async mintTo(e,r,n,o){let s,a;isAccount(r)?(s=r.publicKey,a=[r]):(s=r,a=n),await sendAndConfirmTransaction$1("MintTo",this.connection,new Transaction().add(Token.createMintToInstruction(this.programId,this.publicKey,e,s,n,o)),this.payer,...a)}async burn(e,r,n,o){let s,a;isAccount(r)?(s=r.publicKey,a=[r]):(s=r,a=n),await sendAndConfirmTransaction$1("Burn",this.connection,new Transaction().add(Token.createBurnInstruction(this.programId,this.publicKey,e,s,n,o)),this.payer,...a)}async closeAccount(e,r,n,o){let s,a;isAccount(n)?(s=n.publicKey,a=[n]):(s=n,a=o),await sendAndConfirmTransaction$1("CloseAccount",this.connection,new Transaction().add(Token.createCloseAccountInstruction(this.programId,e,r,s,o)),this.payer,...a)}async freezeAccount(e,r,n){let o,s;isAccount(r)?(o=r.publicKey,s=[r]):(o=r,s=n),await sendAndConfirmTransaction$1("FreezeAccount",this.connection,new Transaction().add(Token.createFreezeAccountInstruction(this.programId,e,this.publicKey,o,n)),this.payer,...s)}async thawAccount(e,r,n){let o,s;isAccount(r)?(o=r.publicKey,s=[r]):(o=r,s=n),await sendAndConfirmTransaction$1("ThawAccount",this.connection,new Transaction().add(Token.createThawAccountInstruction(this.programId,e,this.publicKey,o,n)),this.payer,...s)}async transferChecked(e,r,n,o,s,a){let c,d;return isAccount(n)?(c=n.publicKey,d=[n]):(c=n,d=o),await sendAndConfirmTransaction$1("TransferChecked",this.connection,new Transaction().add(Token.createTransferCheckedInstruction(this.programId,e,this.publicKey,r,c,o,s,a)),this.payer,...d)}async approveChecked(e,r,n,o,s,a){let c,d;isAccount(n)?(c=n.publicKey,d=[n]):(c=n,d=o),await sendAndConfirmTransaction$1("ApproveChecked",this.connection,new Transaction().add(Token.createApproveCheckedInstruction(this.programId,e,this.publicKey,r,c,o,s,a)),this.payer,...d)}async mintToChecked(e,r,n,o,s){let a,c;isAccount(r)?(a=r.publicKey,c=[r]):(a=r,c=n),await sendAndConfirmTransaction$1("MintToChecked",this.connection,new Transaction().add(Token.createMintToCheckedInstruction(this.programId,this.publicKey,e,a,n,o,s)),this.payer,...c)}async burnChecked(e,r,n,o,s){let a,c;isAccount(r)?(a=r.publicKey,c=[r]):(a=r,c=n),await sendAndConfirmTransaction$1("BurnChecked",this.connection,new Transaction().add(Token.createBurnCheckedInstruction(this.programId,this.publicKey,e,a,n,o,s)),this.payer,...c)}async syncNative(e){await sendAndConfirmTransaction$1("SyncNative",this.connection,new Transaction().add(Token.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,r,n,o,s){let a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const c=struct([u8("instruction"),u8("decimals"),publicKey("mintAuthority"),u8("option"),publicKey("freezeAuthority")]);let d=buffer.Buffer.alloc(1024);{const m=c.encode({instruction:0,decimals:n,mintAuthority:pubkeyToBuffer(o),option:s===null?0:1,freezeAuthority:pubkeyToBuffer(s||new PublicKey(0))},d);d=d.slice(0,m)}return new TransactionInstruction({keys:a,programId:e,data:d})}static createInitAccountInstruction(e,r,n,o){const s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);return a.encode({instruction:1},c),new TransactionInstruction({keys:s,programId:e,data:c})}static createTransferInstruction(e,r,n,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),d=buffer.Buffer.alloc(c.span);c.encode({instruction:3,amount:new u64(a).toBuffer()},d);let m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return s.length===0?m.push({pubkey:o,isSigner:!0,isWritable:!1}):(m.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(gr=>m.push({pubkey:gr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:e,data:d})}static createApproveInstruction(e,r,n,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),d=buffer.Buffer.alloc(c.span);c.encode({instruction:4,amount:new u64(a).toBuffer()},d);let m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return s.length===0?m.push({pubkey:o,isSigner:!0,isWritable:!1}):(m.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(gr=>m.push({pubkey:gr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:e,data:d})}static createRevokeInstruction(e,r,n,o){const s=struct([u8("instruction")]),a=buffer.Buffer.alloc(s.span);s.encode({instruction:5},a);let c=[{pubkey:r,isSigner:!1,isWritable:!0}];return o.length===0?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),o.forEach(d=>c.push({pubkey:d.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:c,programId:e,data:a})}static createSetAuthorityInstruction(e,r,n,o,s,a){const c=struct([u8("instruction"),u8("authorityType"),u8("option"),publicKey("newAuthority")]);let d=buffer.Buffer.alloc(1024);{const gr=c.encode({instruction:6,authorityType:AuthorityTypeCodes[o],option:n===null?0:1,newAuthority:pubkeyToBuffer(n||new PublicKey(0))},d);d=d.slice(0,gr)}let m=[{pubkey:r,isSigner:!1,isWritable:!0}];return a.length===0?m.push({pubkey:s,isSigner:!0,isWritable:!1}):(m.push({pubkey:s,isSigner:!1,isWritable:!1}),a.forEach(gr=>m.push({pubkey:gr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:e,data:d})}static createMintToInstruction(e,r,n,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),d=buffer.Buffer.alloc(c.span);c.encode({instruction:7,amount:new u64(a).toBuffer()},d);let m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return s.length===0?m.push({pubkey:o,isSigner:!0,isWritable:!1}):(m.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(gr=>m.push({pubkey:gr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:e,data:d})}static createBurnInstruction(e,r,n,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),d=buffer.Buffer.alloc(c.span);c.encode({instruction:8,amount:new u64(a).toBuffer()},d);let m=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?m.push({pubkey:o,isSigner:!0,isWritable:!1}):(m.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(gr=>m.push({pubkey:gr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:e,data:d})}static createCloseAccountInstruction(e,r,n,o,s){const a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);a.encode({instruction:9},c);let d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return s.length===0?d.push({pubkey:o,isSigner:!0,isWritable:!1}):(d.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(m=>d.push({pubkey:m.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:d,programId:e,data:c})}static createFreezeAccountInstruction(e,r,n,o,s){const a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);a.encode({instruction:10},c);let d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return s.length===0?d.push({pubkey:o,isSigner:!0,isWritable:!1}):(d.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(m=>d.push({pubkey:m.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:d,programId:e,data:c})}static createThawAccountInstruction(e,r,n,o,s){const a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);a.encode({instruction:11},c);let d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return s.length===0?d.push({pubkey:o,isSigner:!0,isWritable:!1}):(d.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(m=>d.push({pubkey:m.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:d,programId:e,data:c})}static createTransferCheckedInstruction(e,r,n,o,s,a,c,d){const m=struct([u8("instruction"),uint64("amount"),u8("decimals")]),gr=buffer.Buffer.alloc(m.span);m.encode({instruction:12,amount:new u64(c).toBuffer(),decimals:d},gr);let vr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0}];return a.length===0?vr.push({pubkey:s,isSigner:!0,isWritable:!1}):(vr.push({pubkey:s,isSigner:!1,isWritable:!1}),a.forEach(Ar=>vr.push({pubkey:Ar.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:vr,programId:e,data:gr})}static createApproveCheckedInstruction(e,r,n,o,s,a,c,d){const m=struct([u8("instruction"),uint64("amount"),u8("decimals")]),gr=buffer.Buffer.alloc(m.span);m.encode({instruction:13,amount:new u64(c).toBuffer(),decimals:d},gr);let vr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return a.length===0?vr.push({pubkey:s,isSigner:!0,isWritable:!1}):(vr.push({pubkey:s,isSigner:!1,isWritable:!1}),a.forEach(Ar=>vr.push({pubkey:Ar.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:vr,programId:e,data:gr})}static createMintToCheckedInstruction(e,r,n,o,s,a,c){const d=struct([u8("instruction"),uint64("amount"),u8("decimals")]),m=buffer.Buffer.alloc(d.span);d.encode({instruction:14,amount:new u64(a).toBuffer(),decimals:c},m);let gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return s.length===0?gr.push({pubkey:o,isSigner:!0,isWritable:!1}):(gr.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(vr=>gr.push({pubkey:vr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:gr,programId:e,data:m})}static createBurnCheckedInstruction(e,r,n,o,s,a,c){const d=struct([u8("instruction"),uint64("amount"),u8("decimals")]),m=buffer.Buffer.alloc(d.span);d.encode({instruction:15,amount:new u64(a).toBuffer(),decimals:c},m);let gr=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?gr.push({pubkey:o,isSigner:!0,isWritable:!1}):(gr.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(vr=>gr.push({pubkey:vr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:gr,programId:e,data:m})}static createSyncNativeInstruction(e,r){const n=struct([u8("instruction")]),o=buffer.Buffer.alloc(n.span);n.encode({instruction:17},o);let s=[{pubkey:r,isSigner:!1,isWritable:!0}];return new TransactionInstruction({keys:s,programId:e,data:o})}static async getAssociatedTokenAddress(e,r,n,o,s=!1){if(!s&&!PublicKey.isOnCurve(o.toBuffer()))throw new Error(`Owner cannot sign: ${o.toString()}`);return(await PublicKey.findProgramAddress([o.toBuffer(),r.toBuffer(),n.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,r,n,o,s,a){const c=buffer.Buffer.alloc(0);let d=[{pubkey:a,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:d,programId:e,data:c})}}var index_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,ASSOCIATED_TOKEN_PROGRAM_ID,AccountLayout,MintLayout,NATIVE_MINT,TOKEN_PROGRAM_ID,Token,u64},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(index_browser_esm),__awaiter$w=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(helpers$1,"__esModule",{value:!0});helpers$1.getAccountInfo=helpers$1.getTokenAccount=helpers$1.getAssociatedTokenAddress=helpers$1.convertFactionStringToNum=helpers$1.longToByteArray=helpers$1.byteArrayToLong=helpers$1.stringToByteArray=helpers$1.byteArrayToString=void 0;const __1=dist,anchor_1$n=require$$0$1,web3_js_1$8=require$$0$2,spl_token_1$3=require$$1$1;function byteArrayToString(t){return String.fromCharCode(...t)}helpers$1.byteArrayToString=byteArrayToString;function stringToByteArray(t,e){if(t.length>e)return null;let r=[];for(let n=0;n<e;n+=1){let o=32;n<t.length&&(o=t.charCodeAt(n)),r=r.concat([o])}return r}helpers$1.stringToByteArray=stringToByteArray;function byteArrayToLong(t){let e=0;for(let r=t.length-1;r>=0;r-=1)e=e*256+t[r];return e}helpers$1.byteArrayToLong=byteArrayToLong;function longToByteArray(t){const e=[0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r+=1){const n=t&255;e[r]=n,t=(t-n)/256}return e}helpers$1.longToByteArray=longToByteArray;function convertFactionStringToNum(t){return __awaiter$w(this,void 0,void 0,function*(){switch(t.toLowerCase()){case"mud":return __1.FactionType.MUD;case"oni":return __1.FactionType.ONI;case"ustur":return __1.FactionType.Ustur;default:return __1.FactionType.Unenlisted}})}helpers$1.convertFactionStringToNum=convertFactionStringToNum;function getAssociatedTokenAddress(t,e){return __awaiter$w(this,void 0,void 0,function*(){const[r]=yield web3_js_1$8.PublicKey.findProgramAddress([t.toBuffer(),spl_token_1$3.TOKEN_PROGRAM_ID.toBuffer(),e.toBuffer()],spl_token_1$3.ASSOCIATED_TOKEN_PROGRAM_ID);return r})}helpers$1.getAssociatedTokenAddress=getAssociatedTokenAddress;function getTokenAccount(t,e,r,n=e,o){return __awaiter$w(this,void 0,void 0,function*(){const{value:s}=yield t.getParsedTokenAccountsByOwner(e,{mint:r});let a=null;if(o===void 0){let c=null;for(const d of s)if(d.account.data.parsed.type==="account"){const m=d.account.data.parsed,gr=new anchor_1$n.BN(m.info.tokenAmount.amount);(c===null||gr.gt(c))&&(a=d.pubkey,c=gr)}}else{let c=null;for(const d of s)if(d.account.data.parsed.type==="account"){const m=d.account.data.parsed,gr=new anchor_1$n.BN(m.info.tokenAmount.amount);gr.gt(new anchor_1$n.BN(o))&&(c===null||gr.lt(c))&&(a=d.pubkey,c=gr)}}if(a===null){const c=yield getAssociatedTokenAddress(e,r),{value:d}=yield t.getParsedAccountInfo(c,"confirmed");if(d===null||d.owner.equals(web3_js_1$8.SystemProgram.programId))return{tokenAccount:c,createInstruction:[spl_token_1$3.Token.createAssociatedTokenAccountInstruction(spl_token_1$3.ASSOCIATED_TOKEN_PROGRAM_ID,spl_token_1$3.TOKEN_PROGRAM_ID,r,c,e,n)]};if("program"in d.data&&d.data.parsed.type==="account"&&new web3_js_1$8.PublicKey(d.data.parsed.info.owner).equals(e))return{tokenAccount:c};{const m=anchor_1$n.web3.Keypair.generate();return{tokenAccount:m,createInstruction:[web3_js_1$8.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:m.publicKey,lamports:yield spl_token_1$3.Token.getMinBalanceRentForExemptAccount(t),space:spl_token_1$3.AccountLayout.span,programId:spl_token_1$3.TOKEN_PROGRAM_ID}),spl_token_1$3.Token.createInitAccountInstruction(spl_token_1$3.TOKEN_PROGRAM_ID,r,m.publicKey,e)]}}}else return{tokenAccount:a}})}helpers$1.getTokenAccount=getTokenAccount;function getAccountInfo(t,e){return __awaiter$w(this,void 0,void 0,function*(){const{value:r}=yield t.getParsedAccountInfo(e);return r.data})}helpers$1.getAccountInfo=getAccountInfo;var wallet={},__awaiter$v=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(wallet,"__esModule",{value:!0});wallet.sendAndConfirmTransaction=void 0;const web3_js_1$7=require$$0$2;function sendAndConfirmTransaction(t,e,...r){return __awaiter$v(this,void 0,void 0,function*(){let n="";try{n=yield(0,web3_js_1$7.sendAndConfirmTransaction)(t,e,r,{skipPreflight:!0,commitment:"singleGossip",preflightCommitment:null})}catch(o){console.log(o)}return n})}wallet.sendAndConfirmTransaction=sendAndConfirmTransaction;var gmHelper$1={},marketplace={},instruction_builders={},BaseParams={};Object.defineProperty(BaseParams,"__esModule",{value:!0});var cancelOrder={},pda_getters$3={},order_getters={},getMarketplaceProgram$1={},gmIdl={};Object.defineProperty(gmIdl,"__esModule",{value:!0});gmIdl.baseIdl=void 0;gmIdl.baseIdl={version:"0.1.0",name:"marketplace",instructions:[{name:"addRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"deleteRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"}]},{name:"deregisterCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMarketplace",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateCurrencyVault",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateCurrencyRoyalty",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"addFeeExemption",accounts:[{name:"updateAuthorityMaster",isMut:!1,isSigner:!0},{name:"funder",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1},{name:"feeExemptTarget",isMut:!1,isSigner:!1},{name:"feeExemptAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"discount",type:"u64"}]},{name:"removeFeeExemption",accounts:[{name:"updateAuthorityMaster",isMut:!1,isSigner:!0},{name:"funder",isMut:!0,isSigner:!1},{name:"marketVarsAccount",isMut:!1,isSigner:!1},{name:"feeExemptAccount",isMut:!0,isSigner:!1}],args:[]},{name:"processInitializeBuy",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processInitializeSell",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!1,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"receive_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processExchange",accounts:[{name:"orderTaker",isMut:!0,isSigner:!0},{name:"orderTakerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderTakerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"assetMint",isMut:!1,isSigner:!1},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",account:"OrderAccount",path:"order_account.order_initializer_pubkey"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"saVault",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"atlasStaking",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1},{name:"stakingAccount",isMut:!1,isSigner:!1},{name:"feeReduction",isMut:!1,isSigner:!1}],args:[{name:"purchaseQuantity",type:"u64"},{name:"expectedPrice",type:"u64"},{name:"seller",type:"publicKey"}]},{name:"processCancel",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeOpenOrdersCounter",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"user",isMut:!1,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"FeeReduction",type:{kind:"struct",fields:[{name:"account",type:"publicKey"},{name:"bump",type:"u8"},{name:"discount",type:"u64"}]}},{name:"MarketVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"bump",type:"u8"}]}},{name:"OpenOrdersCounter",type:{kind:"struct",fields:[{name:"openOrderCount",type:"u64"},{name:"bump",type:"u8"}]}},{name:"OrderAccount",type:{kind:"struct",fields:[{name:"orderInitializerPubkey",type:"publicKey"},{name:"currencyMint",type:"publicKey"},{name:"assetMint",type:"publicKey"},{name:"initializerCurrencyTokenAccount",type:"publicKey"},{name:"initializerAssetTokenAccount",type:"publicKey"},{name:"orderSide",type:{defined:"OrderSide"}},{name:"price",type:"u64"},{name:"orderOriginationQty",type:"u64"},{name:"orderRemainingQty",type:"u64"},{name:"createdAtTimestamp",type:"i64"}]}},{name:"RegisteredCurrency",type:{kind:"struct",fields:[{name:"tokenMint",type:"publicKey"},{name:"saCurrencyVault",type:"publicKey"},{name:"royalty",type:"u64"},{name:"bump",type:"u8"},{name:"royaltyTiers",type:{vec:{defined:"RoyaltyTier"}}}]}}],types:[{name:"RoyaltyTier",type:{kind:"struct",fields:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]}},{name:"OrderSide",type:{kind:"enum",variants:[{name:"Buy"},{name:"Sell"}]}},{name:"TokenType",type:{kind:"enum",variants:[{name:"Asset"},{name:"Currency"}]}}],errors:[{code:6e3,name:"InvalidDestinationAccount",msg:"Invalid Destination Token Account"},{code:6001,name:"InvalidInstruction",msg:"Invalid instruction."},{code:6002,name:"InvalidMint",msg:"Invalid SPL Token mint"},{code:6003,name:"InvalidOfferAccountOwner",msg:"Invalid Offer Account Owner"},{code:6004,name:"InvalidTokenAccount",msg:"Invalid SPL Token account"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"InvalidUpdateAuthorityAccount",msg:"Invalid Update Authority account"},{code:6007,name:"InvalidOrderVaultAuthorityAccount",msg:"Invalid Order Vault Authority account"},{code:6008,name:"UninitializedTokenAccount",msg:"Uninitialized Token Account"},{code:6009,name:"InsufficientBalance",msg:"Insufficient Balance"},{code:6010,name:"InvalidOrderDuration",msg:"Invalid Order Duration"},{code:6011,name:"InvalidOriginationQty",msg:"Origination quantity must be greater than 0"},{code:6012,name:"InsufficientOrderQty",msg:"Insufficient Order Quantity Remaining"},{code:6013,name:"InvalidRoyalty",msg:"Invalid Royalty Value"},{code:6014,name:"InvalidCounter",msg:"Invalid Open Order Counter"},{code:6015,name:"MintDecimalError",msg:"Mint must be zero decimal"},{code:6016,name:"InvalidOrderAccountError",msg:"Order Account does not match provided account"},{code:6017,name:"InvalidRoyaltyTier",msg:"No royalty tier exists with provided stake amount"},{code:6018,name:"RoyaltyTierLength",msg:"Royalty Tier vector cannot hold any additional tiers"},{code:6019,name:"InvalidOrderPrice",msg:"Order price did not match expected price"},{code:6020,name:"DuplicateRoyaltyTier",msg:"Royalty tier already exists"},{code:6021,name:"InvalidSeller",msg:"Order seller did not match expected seller"}],metadata:{}};var gmLogsIdl$1={};Object.defineProperty(gmLogsIdl$1,"__esModule",{value:!0});gmLogsIdl$1.baseIdl=void 0;gmLogsIdl$1.baseIdl={version:"0.1.0",name:"gm_logs",instructions:[],events:[{name:"RegisterCurrencyMemo",fields:[{name:"updateAuthorityAccount",type:"publicKey",index:!1},{name:"registeredCurrency",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"saCurrencyVault",type:"publicKey",index:!1},{name:"royalty",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"InitializeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"ExchangeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"CancelOrderMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"StakeMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"stakeAmount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"TransferMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"transferAmount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"WithdrawMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"withdrawAmount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"SettleMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]}],metadata:{}};var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding$1(e,t,r);return __setModuleDefault$1(e,t),e};Object.defineProperty(getMarketplaceProgram$1,"__esModule",{value:!0});getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram$1.getGmLogsIDL=getMarketplaceProgram$1.getGmIDL=void 0;const anchor_1$m=require$$0$1,gmIdl_1=gmIdl,gmLogsIdl=__importStar$1(gmLogsIdl$1);function getGmIDL(t){const e=gmIdl_1.baseIdl;return e.metadata.address=t.toBase58(),e}getMarketplaceProgram$1.getGmIDL=getGmIDL;function getGmLogsIDL(t){const e=gmLogsIdl.baseIdl;return e.metadata.address=t.toBase58(),e}getMarketplaceProgram$1.getGmLogsIDL=getGmLogsIDL;function getMarketplaceProgram({connection:t,programId:e}){const r=getGmIDL(e),n=new anchor_1$m.AnchorProvider(t,null,null);return new anchor_1$m.Program(r,e,n)}getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram;var __awaiter$u=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(order_getters,"__esModule",{value:!0});order_getters.getSingleOrder=order_getters.getOpenOrdersForPlayerAndAsset=order_getters.getOpenOrdersForPlayerAndCurrency=order_getters.getOpenOrdersForAsset=order_getters.getOpenOrdersForCurrency=order_getters.getOpenOrdersForPlayer=order_getters.getAllOpenOrders=void 0;const anchor_1$l=require$$0$1,getMarketplaceProgram_1$2=getMarketplaceProgram$1;function getAllOpenOrders(t,e){return __awaiter$u(this,void 0,void 0,function*(){const r=new anchor_1$l.AnchorProvider(t,null,null),n=(0,getMarketplaceProgram_1$2.getGmIDL)(e),o=new anchor_1$l.Program(n,e,r),s=[{dataSize:201}];return yield o.account.orderAccount.all(s)})}order_getters.getAllOpenOrders=getAllOpenOrders;function getOpenOrdersForPlayer(t,e,r){return __awaiter$u(this,void 0,void 0,function*(){const n=new anchor_1$l.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(r),s=new anchor_1$l.Program(o,r,n),a=[{dataSize:201},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield s.account.orderAccount.all(a)})}order_getters.getOpenOrdersForPlayer=getOpenOrdersForPlayer;function getOpenOrdersForCurrency(t,e,r){return __awaiter$u(this,void 0,void 0,function*(){const n=new anchor_1$l.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(r),s=new anchor_1$l.Program(o,r,n),a=[{dataSize:201},{memcmp:{offset:40,bytes:e.toBase58()}}];return yield s.account.orderAccount.all(a)})}order_getters.getOpenOrdersForCurrency=getOpenOrdersForCurrency;function getOpenOrdersForAsset(t,e,r){return __awaiter$u(this,void 0,void 0,function*(){const n=new anchor_1$l.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(r),s=new anchor_1$l.Program(o,r,n),a=[{dataSize:201},{memcmp:{offset:72,bytes:e.toBase58()}}];return yield s.account.orderAccount.all(a)})}order_getters.getOpenOrdersForAsset=getOpenOrdersForAsset;function getOpenOrdersForPlayerAndCurrency(t,e,r,n){return __awaiter$u(this,void 0,void 0,function*(){const o=new anchor_1$l.AnchorProvider(t,null,null),s=(0,getMarketplaceProgram_1$2.getGmIDL)(n),a=new anchor_1$l.Program(s,n,o),c=[{dataSize:201},{memcmp:{offset:40,bytes:r.toBase58()}},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForPlayerAndCurrency=getOpenOrdersForPlayerAndCurrency;function getOpenOrdersForPlayerAndAsset(t,e,r,n){return __awaiter$u(this,void 0,void 0,function*(){const o=new anchor_1$l.AnchorProvider(t,null,null),s=(0,getMarketplaceProgram_1$2.getGmIDL)(n),a=new anchor_1$l.Program(s,n,o),c=[{dataSize:201},{memcmp:{offset:72,bytes:r.toBase58()}},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForPlayerAndAsset=getOpenOrdersForPlayerAndAsset;function getSingleOrder(t,e,r){return __awaiter$u(this,void 0,void 0,function*(){const n=new anchor_1$l.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(r);return yield new anchor_1$l.Program(o,r,n).account.orderAccount.fetch(e)})}order_getters.getSingleOrder=getSingleOrder;var pda_getters$2={},seeds$1={};Object.defineProperty(seeds$1,"__esModule",{value:!0});seeds$1.FEE_EXEMPT_SEED=seeds$1.OPEN_ORDERS_COUNTER=seeds$1.REGISTERED_CURRENCY_SEED=seeds$1.ORDER_VAULT_AUTH_SEED=seeds$1.ORDER_VAULT_SEED=seeds$1.MARKET_VARS_SEED=void 0;seeds$1.MARKET_VARS_SEED=dist$1.Buffer.from("market-vars");seeds$1.ORDER_VAULT_SEED=dist$1.Buffer.from("order-vault-account");seeds$1.ORDER_VAULT_AUTH_SEED=dist$1.Buffer.from("order-vault-auth");seeds$1.REGISTERED_CURRENCY_SEED=dist$1.Buffer.from("registered-currency");seeds$1.OPEN_ORDERS_COUNTER=dist$1.Buffer.from("open-orders-counter");seeds$1.FEE_EXEMPT_SEED=dist$1.Buffer.from("fee_exempt");var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding(e,t,r);return __setModuleDefault(e,t),e},__awaiter$t=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(pda_getters$2,"__esModule",{value:!0});pda_getters$2.getAllFeeExemptAccounts=pda_getters$2.getFeeExemptAccount=pda_getters$2.getOpenOrdersCounter=pda_getters$2.getAllRegisteredCurrencies=pda_getters$2.getRegisteredCurrencyAccount=pda_getters$2.getOrderVaultAuth=pda_getters$2.getOrderVault=pda_getters$2.getMarketVarsAccount=void 0;const anchor_1$k=require$$0$1,web3_js_1$6=require$$0$2,Seeds=__importStar(seeds$1),getMarketplaceProgram_1$1=getMarketplaceProgram$1;function getMarketVarsAccount(t){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.MARKET_VARS_SEED],t)})}pda_getters$2.getMarketVarsAccount=getMarketVarsAccount;function getOrderVault(t,e,r){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_SEED,t.toBuffer(),e.toBuffer()],r)})}pda_getters$2.getOrderVault=getOrderVault;function getOrderVaultAuth(t,e){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_AUTH_SEED,t.toBuffer()],e)})}pda_getters$2.getOrderVaultAuth=getOrderVaultAuth;function getRegisteredCurrencyAccount(t,e){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.REGISTERED_CURRENCY_SEED,e.toBuffer()],t)})}pda_getters$2.getRegisteredCurrencyAccount=getRegisteredCurrencyAccount;function getAllRegisteredCurrencies(t,e){return __awaiter$t(this,void 0,void 0,function*(){const r=new anchor_1$k.AnchorProvider(t,null,null),n=(0,getMarketplaceProgram_1$1.getGmIDL)(e),o=new anchor_1$k.Program(n,e,r),s=[{dataSize:1686}],a=yield o.account.registeredCurrency.all(s),c=[];for(const d of a){const m={mint:d.account.tokenMint,royalty:d.account.royalty,saVault:d.account.saCurrencyVault};c.push(m)}return c})}pda_getters$2.getAllRegisteredCurrencies=getAllRegisteredCurrencies;function getOpenOrdersCounter(t,e,r){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.OPEN_ORDERS_COUNTER,t.toBuffer(),e.toBuffer()],r)})}pda_getters$2.getOpenOrdersCounter=getOpenOrdersCounter;function getFeeExemptAccount(t,e){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.FEE_EXEMPT_SEED,t.toBuffer()],e)})}pda_getters$2.getFeeExemptAccount=getFeeExemptAccount;function getAllFeeExemptAccounts(t,e){return __awaiter$t(this,void 0,void 0,function*(){const r=new anchor_1$k.AnchorProvider(t,null,null),n=(0,getMarketplaceProgram_1$1.getGmIDL)(e);return yield new anchor_1$k.Program(n,e,r).account.feeReduction.all()})}pda_getters$2.getAllFeeExemptAccounts=getAllFeeExemptAccounts;var pda_info_getters$1={},__awaiter$s=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(pda_info_getters$1,"__esModule",{value:!0});pda_info_getters$1.getRoyaltyReductionForStakingAccount=pda_info_getters$1.getRoyaltyReductionForUserAndMint=pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=pda_info_getters$1.getRegisteredCurrencyAccountInfo=pda_info_getters$1.getFeeExemptAccountInfo=pda_info_getters$1.getMarketVarsAccountInfo=void 0;const anchor_1$j=require$$0$1,pda_getters_1$8=pda_getters$2,getMarketplaceProgram_1=getMarketplaceProgram$1,atlas_staking_1$1=atlasStaking;function getMarketVarsAccountInfo(t,e){return __awaiter$s(this,void 0,void 0,function*(){const r=(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:t,programId:e}),[n]=yield(0,pda_getters_1$8.getMarketVarsAccount)(e);return yield r.account.marketVars.fetch(n)})}pda_info_getters$1.getMarketVarsAccountInfo=getMarketVarsAccountInfo;function getFeeExemptAccountInfo(t,e,r){return __awaiter$s(this,void 0,void 0,function*(){const n=(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:t,programId:r}),[o]=yield(0,pda_getters_1$8.getFeeExemptAccount)(e,r);return yield n.account.feeExempt.fetch(o)})}pda_info_getters$1.getFeeExemptAccountInfo=getFeeExemptAccountInfo;function getRegisteredCurrencyAccountInfo(t,e,r){return __awaiter$s(this,void 0,void 0,function*(){const n=(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:t,programId:e}),[o]=yield(0,pda_getters_1$8.getRegisteredCurrencyAccount)(e,r);return yield n.account.registeredCurrency.fetch(o)})}pda_info_getters$1.getRegisteredCurrencyAccountInfo=getRegisteredCurrencyAccountInfo;function getRegisteredCurrencyInfoFromPubkey(t,e,r){return __awaiter$s(this,void 0,void 0,function*(){return yield(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:t,programId:e}).account.registeredCurrency.fetch(r)})}pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=getRegisteredCurrencyInfoFromPubkey;function getRoyaltyReductionForUserAndMint(t,e,r,n,o,s){return __awaiter$s(this,void 0,void 0,function*(){let a=0;const c=yield getRegisteredCurrencyInfoFromPubkey(t,e,o),[d]=yield(0,atlas_staking_1$1.getStakingAccount)(r,n,s),m=yield(0,atlas_staking_1$1.getStakingAccountInfo)(t,d,r);if(m.unstakedTs.eq(new anchor_1$j.BN(0))){const gr=c.royaltyTiers;let vr=new anchor_1$j.BN(0);for(const Ar of gr)m.totalStake.gte(Ar.stakeAmount)&&(vr=Ar.discount);a=vr.toNumber()/1e4}return a})}pda_info_getters$1.getRoyaltyReductionForUserAndMint=getRoyaltyReductionForUserAndMint;function getRoyaltyReductionForStakingAccount(t,e,r,n,o){return __awaiter$s(this,void 0,void 0,function*(){let s=0;const a=yield getRegisteredCurrencyInfoFromPubkey(t,e,o),c=yield(0,atlas_staking_1$1.getStakingAccountInfo)(t,n,r);if(c.unstakedTs.eq(new anchor_1$j.BN(0))){const d=a.royaltyTiers;let m=new anchor_1$j.BN(0);for(const gr of d)c.totalStake.gte(gr.stakeAmount)&&(m=gr.discount);s=m.toNumber()/1e4}return s})}pda_info_getters$1.getRoyaltyReductionForStakingAccount=getRoyaltyReductionForStakingAccount;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(order_getters,t),r(pda_getters$2,t),r(pda_info_getters$1,t),r(seeds$1,t)})(pda_getters$3);var createOrderCounter={},utils={},gmHelper={},__awaiter$r=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(gmHelper,"__esModule",{value:!0});gmHelper.convertDecimalPriceToBn=gmHelper.initializeAtaForMint=gmHelper.getOrderSide=void 0;const anchor_1$i=require$$0$1,token_1$5=token,spl_token_1$2=require$$1$1,getOrderSide=t=>JSON.stringify(t.orderSide)===JSON.stringify({buy:{}})?"BuySide":"SellSide";gmHelper.getOrderSide=getOrderSide;function initializeAtaForMint({mint:t,owner:e,connection:r}){return __awaiter$r(this,void 0,void 0,function*(){const n=[],o=yield(0,token_1$5.associatedAddress)({mint:t,owner:e});return(yield r.getAccountInfo(o))===null&&n.push(spl_token_1$2.Token.createAssociatedTokenAccountInstruction(spl_token_1$2.ASSOCIATED_TOKEN_PROGRAM_ID,spl_token_1$2.TOKEN_PROGRAM_ID,t,o,e,e)),{account:o,instructions:n}})}gmHelper.initializeAtaForMint=initializeAtaForMint;const convertDecimalPriceToBn=(t,e)=>new anchor_1$i.BN(t*Math.pow(10,e));gmHelper.convertDecimalPriceToBn=convertDecimalPriceToBn;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(getMarketplaceProgram$1,t),r(gmHelper,t)})(utils);var __awaiter$q=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(createOrderCounter,"__esModule",{value:!0});createOrderCounter.createOrderCounterInstruction=void 0;const utils_1$l=utils;function createOrderCounterInstruction({connection:t,payer:e,initializerMainAccount:r,depositMint:n,programId:o}){return __awaiter$q(this,void 0,void 0,function*(){return yield(0,utils_1$l.getMarketplaceProgram)({connection:t,programId:o}).methods.initializeOpenOrdersCounter().accounts({payer:e,user:r,depositMint:n}).instruction()})}createOrderCounter.createOrderCounterInstruction=createOrderCounterInstruction;var __awaiter$p=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(cancelOrder,"__esModule",{value:!0});cancelOrder.createCancelOrderInstruction=void 0;const anchor_1$h=require$$0$1,pda_getters_1$7=pda_getters$3,createOrderCounter_1$1=createOrderCounter,utils_1$k=utils,util_1$7=util;function createCancelOrderInstruction({connection:t,orderInitializer:e,orderAccount:r,programId:n,payer:o=e}){return __awaiter$p(this,void 0,void 0,function*(){const s=(0,utils_1$k.getMarketplaceProgram)({connection:t,programId:n}),a={signers:[],instructions:[]},c=yield s.account.orderAccount.fetch(r),m=(0,utils_1$k.getOrderSide)(c)==="SellSide"?c.assetMint:c.currencyMint;let gr=null,vr=null;const Ar=yield(0,util_1$7.getTokenAccount)(t,e,m);gr=Ar.tokenAccount,"createInstruction"in Ar&&a.instructions.push(...Ar.createInstruction),gr instanceof anchor_1$h.web3.Keypair?(vr=gr.publicKey,a.signers.push(gr)):vr=gr;const[Tr]=yield(0,pda_getters_1$7.getOpenOrdersCounter)(e,m,n);if((yield t.getAccountInfo(Tr))===null){const xr=yield(0,createOrderCounter_1$1.createOrderCounterInstruction)({connection:t,payer:o,initializerMainAccount:e,depositMint:m,programId:n});a.instructions.push(xr)}const kr=yield s.methods.processCancel().accounts({signer:o,depositMint:m,orderInitializer:e,initializerDepositTokenAccount:vr,orderAccount:r}).instruction();return a.instructions.push(kr),a})}cancelOrder.createCancelOrderInstruction=createCancelOrderInstruction;var createOrder={},__awaiter$o=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(createOrder,"__esModule",{value:!0});createOrder.createInitializeSellOrderInstruction=createOrder.createInitializeBuyOrderInstruction=void 0;const anchor_1$g=require$$0$1,utils_1$j=utils,util_1$6=util,pda_getters_1$6=pda_getters$3,createOrderCounter_1=createOrderCounter,util_2=util;function createInitializeBuyOrderInstruction({connection:t,initializerMainAccount:e,initializerDepositTokenAccount:r,price:n,originationQty:o,depositMint:s,receiveMint:a,programId:c}){return __awaiter$o(this,void 0,void 0,function*(){const d=(0,utils_1$j.getMarketplaceProgram)({connection:t,programId:c}),m={signers:[],instructions:[]};let gr=null,vr=null;const Ar=yield(0,util_1$6.getTokenAccount)(t,e,a);gr=Ar.tokenAccount,"createInstruction"in Ar&&m.instructions.push(...Ar.createInstruction),gr instanceof anchor_1$g.web3.Keypair?(vr=gr.publicKey,m.signers.push(gr)):vr=gr;const[Tr]=yield(0,pda_getters_1$6.getOpenOrdersCounter)(e,s,c);if((yield t.getAccountInfo(Tr))===null){const Ur=yield(0,createOrderCounter_1.createOrderCounterInstruction)({connection:t,payer:e,initializerMainAccount:e,depositMint:s,programId:c});m.instructions.push(Ur)}const kr=anchor_1$g.web3.Keypair.generate();m.signers.push(kr);const xr=yield(0,util_2.createAccountInstruction)(t,e,kr,c);m.instructions.push(xr);const Dr=yield d.methods.processInitializeBuy(n,new anchor_1$g.BN(o)).accounts({orderInitializer:e,initializerDepositTokenAccount:r,initializerReceiveTokenAccount:vr,orderAccount:kr.publicKey,depositMint:s,receiveMint:a}).signers([kr]).instruction();return m.instructions.push(Dr),{orderAccount:kr.publicKey,ixSet:m}})}createOrder.createInitializeBuyOrderInstruction=createInitializeBuyOrderInstruction;function createInitializeSellOrderInstruction({connection:t,initializerMainAccount:e,initializerDepositTokenAccount:r,price:n,originationQty:o,depositMint:s,receiveMint:a,programId:c}){return __awaiter$o(this,void 0,void 0,function*(){const d=(0,utils_1$j.getMarketplaceProgram)({connection:t,programId:c}),m={signers:[],instructions:[]};let gr=null,vr=null;const Ar=yield(0,util_1$6.getTokenAccount)(t,e,a);gr=Ar.tokenAccount,"createInstruction"in Ar&&m.instructions.push(...Ar.createInstruction),gr instanceof anchor_1$g.web3.Keypair?(vr=gr.publicKey,m.signers.push(gr)):vr=gr;const[Tr]=yield(0,pda_getters_1$6.getOpenOrdersCounter)(e,s,c);if((yield t.getAccountInfo(Tr))===null){const Ur=yield(0,createOrderCounter_1.createOrderCounterInstruction)({connection:t,payer:e,initializerMainAccount:e,depositMint:s,programId:c});m.instructions.push(Ur)}const kr=anchor_1$g.web3.Keypair.generate();m.signers.push(kr);const xr=yield(0,util_2.createAccountInstruction)(t,e,kr,c);m.instructions.push(xr);const Dr=yield d.methods.processInitializeSell(n,new anchor_1$g.BN(o)).accounts({orderInitializer:e,initializerDepositTokenAccount:r,initializerReceiveTokenAccount:vr,orderAccount:kr.publicKey,depositMint:s,receiveMint:a}).signers([kr]).instruction();return m.instructions.push(Dr),{orderAccount:kr.publicKey,ixSet:m}})}createOrder.createInitializeSellOrderInstruction=createInitializeSellOrderInstruction;var deregisterCurrency={},__awaiter$n=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(deregisterCurrency,"__esModule",{value:!0});deregisterCurrency.createDeregisterCurrencyInstruction=void 0;const utils_1$i=utils;function createDeregisterCurrencyInstruction({connection:t,updateAuthorityAccount:e,currencyMint:r,programId:n}){return __awaiter$n(this,void 0,void 0,function*(){const s=[yield(0,utils_1$i.getMarketplaceProgram)({connection:t,programId:n}).methods.deregisterCurrency().accounts({updateAuthorityAccount:e,currencyMint:r}).instruction()];return{accounts:[],instructions:s}})}deregisterCurrency.createDeregisterCurrencyInstruction=createDeregisterCurrencyInstruction;var exchangeOrder={},models={},Order={},big={exports:{}};(function(t){(function(e){var r,n=20,o=1,s=1e6,a=1e6,c=-7,d=21,m=!1,gr="[big.js] ",vr=gr+"Invalid ",Ar=vr+"decimal places",Tr=vr+"rounding mode",Rr=gr+"Division by zero",kr={},xr=void 0,Dr=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Ur(){function Mr(Fr){var Vr=this;if(!(Vr instanceof Mr))return Fr===xr?Ur():new Mr(Fr);if(Fr instanceof Mr)Vr.s=Fr.s,Vr.e=Fr.e,Vr.c=Fr.c.slice();else{if(typeof Fr!="string"){if(Mr.strict===!0&&typeof Fr!="bigint")throw TypeError(vr+"value");Fr=Fr===0&&1/Fr<0?"-0":String(Fr)}Cr(Vr,Fr)}Vr.constructor=Mr}return Mr.prototype=kr,Mr.DP=n,Mr.RM=o,Mr.NE=c,Mr.PE=d,Mr.strict=m,Mr.roundDown=0,Mr.roundHalfUp=1,Mr.roundHalfEven=2,Mr.roundUp=3,Mr}function Cr(Mr,Fr){var Vr,Xr,Yr;if(!Dr.test(Fr))throw Error(vr+"number");for(Mr.s=Fr.charAt(0)=="-"?(Fr=Fr.slice(1),-1):1,(Vr=Fr.indexOf("."))>-1&&(Fr=Fr.replace(".","")),(Xr=Fr.search(/e/i))>0?(Vr<0&&(Vr=Xr),Vr+=+Fr.slice(Xr+1),Fr=Fr.substring(0,Xr)):Vr<0&&(Vr=Fr.length),Yr=Fr.length,Xr=0;Xr<Yr&&Fr.charAt(Xr)=="0";)++Xr;if(Xr==Yr)Mr.c=[Mr.e=0];else{for(;Yr>0&&Fr.charAt(--Yr)=="0";);for(Mr.e=Vr-Xr-1,Mr.c=[],Vr=0;Xr<=Yr;)Mr.c[Vr++]=+Fr.charAt(Xr++)}return Mr}function Nr(Mr,Fr,Vr,Xr){var Yr=Mr.c;if(Vr===xr&&(Vr=Mr.constructor.RM),Vr!==0&&Vr!==1&&Vr!==2&&Vr!==3)throw Error(Tr);if(Fr<1)Xr=Vr===3&&(Xr||!!Yr[0])||Fr===0&&(Vr===1&&Yr[0]>=5||Vr===2&&(Yr[0]>5||Yr[0]===5&&(Xr||Yr[1]!==xr))),Yr.length=1,Xr?(Mr.e=Mr.e-Fr+1,Yr[0]=1):Yr[0]=Mr.e=0;else if(Fr<Yr.length){if(Xr=Vr===1&&Yr[Fr]>=5||Vr===2&&(Yr[Fr]>5||Yr[Fr]===5&&(Xr||Yr[Fr+1]!==xr||Yr[Fr-1]&1))||Vr===3&&(Xr||!!Yr[0]),Yr.length=Fr,Xr){for(;++Yr[--Fr]>9;)if(Yr[Fr]=0,Fr===0){++Mr.e,Yr.unshift(1);break}}for(Fr=Yr.length;!Yr[--Fr];)Yr.pop()}return Mr}function Hr(Mr,Fr,Vr){var Xr=Mr.e,Yr=Mr.c.join(""),tn=Yr.length;if(Fr)Yr=Yr.charAt(0)+(tn>1?"."+Yr.slice(1):"")+(Xr<0?"e":"e+")+Xr;else if(Xr<0){for(;++Xr;)Yr="0"+Yr;Yr="0."+Yr}else if(Xr>0)if(++Xr>tn)for(Xr-=tn;Xr--;)Yr+="0";else Xr<tn&&(Yr=Yr.slice(0,Xr)+"."+Yr.slice(Xr));else tn>1&&(Yr=Yr.charAt(0)+"."+Yr.slice(1));return Mr.s<0&&Vr?"-"+Yr:Yr}kr.abs=function(){var Mr=new this.constructor(this);return Mr.s=1,Mr},kr.cmp=function(Mr){var Fr,Vr=this,Xr=Vr.c,Yr=(Mr=new Vr.constructor(Mr)).c,tn=Vr.s,an=Mr.s,Lr=Vr.e,Er=Mr.e;if(!Xr[0]||!Yr[0])return Xr[0]?tn:Yr[0]?-an:0;if(tn!=an)return tn;if(Fr=tn<0,Lr!=Er)return Lr>Er^Fr?1:-1;for(an=(Lr=Xr.length)<(Er=Yr.length)?Lr:Er,tn=-1;++tn<an;)if(Xr[tn]!=Yr[tn])return Xr[tn]>Yr[tn]^Fr?1:-1;return Lr==Er?0:Lr>Er^Fr?1:-1},kr.div=function(Mr){var Fr=this,Vr=Fr.constructor,Xr=Fr.c,Yr=(Mr=new Vr(Mr)).c,tn=Fr.s==Mr.s?1:-1,an=Vr.DP;if(an!==~~an||an<0||an>s)throw Error(Ar);if(!Yr[0])throw Error(Rr);if(!Xr[0])return Mr.s=tn,Mr.c=[Mr.e=0],Mr;var Lr,Er,Or,jr,Gr,qr=Yr.slice(),Jr=Lr=Yr.length,en=Xr.length,Kr=Xr.slice(0,Lr),Ir=Kr.length,zr=Mr,un=zr.c=[],vn=0,_n=an+(zr.e=Fr.e-Mr.e)+1;for(zr.s=tn,tn=_n<0?0:_n,qr.unshift(0);Ir++<Lr;)Kr.push(0);do{for(Or=0;Or<10;Or++){if(Lr!=(Ir=Kr.length))jr=Lr>Ir?1:-1;else for(Gr=-1,jr=0;++Gr<Lr;)if(Yr[Gr]!=Kr[Gr]){jr=Yr[Gr]>Kr[Gr]?1:-1;break}if(jr<0){for(Er=Ir==Lr?Yr:qr;Ir;){if(Kr[--Ir]<Er[Ir]){for(Gr=Ir;Gr&&!Kr[--Gr];)Kr[Gr]=9;--Kr[Gr],Kr[Ir]+=10}Kr[Ir]-=Er[Ir]}for(;!Kr[0];)Kr.shift()}else break}un[vn++]=jr?Or:++Or,Kr[0]&&jr?Kr[Ir]=Xr[Jr]||0:Kr=[Xr[Jr]]}while((Jr++<en||Kr[0]!==xr)&&tn--);return!un[0]&&vn!=1&&(un.shift(),zr.e--,_n--),vn>_n&&Nr(zr,_n,Vr.RM,Kr[0]!==xr),zr},kr.eq=function(Mr){return this.cmp(Mr)===0},kr.gt=function(Mr){return this.cmp(Mr)>0},kr.gte=function(Mr){return this.cmp(Mr)>-1},kr.lt=function(Mr){return this.cmp(Mr)<0},kr.lte=function(Mr){return this.cmp(Mr)<1},kr.minus=kr.sub=function(Mr){var Fr,Vr,Xr,Yr,tn=this,an=tn.constructor,Lr=tn.s,Er=(Mr=new an(Mr)).s;if(Lr!=Er)return Mr.s=-Er,tn.plus(Mr);var Or=tn.c.slice(),jr=tn.e,Gr=Mr.c,qr=Mr.e;if(!Or[0]||!Gr[0])return Gr[0]?Mr.s=-Er:Or[0]?Mr=new an(tn):Mr.s=1,Mr;if(Lr=jr-qr){for((Yr=Lr<0)?(Lr=-Lr,Xr=Or):(qr=jr,Xr=Gr),Xr.reverse(),Er=Lr;Er--;)Xr.push(0);Xr.reverse()}else for(Vr=((Yr=Or.length<Gr.length)?Or:Gr).length,Lr=Er=0;Er<Vr;Er++)if(Or[Er]!=Gr[Er]){Yr=Or[Er]<Gr[Er];break}if(Yr&&(Xr=Or,Or=Gr,Gr=Xr,Mr.s=-Mr.s),(Er=(Vr=Gr.length)-(Fr=Or.length))>0)for(;Er--;)Or[Fr++]=0;for(Er=Fr;Vr>Lr;){if(Or[--Vr]<Gr[Vr]){for(Fr=Vr;Fr&&!Or[--Fr];)Or[Fr]=9;--Or[Fr],Or[Vr]+=10}Or[Vr]-=Gr[Vr]}for(;Or[--Er]===0;)Or.pop();for(;Or[0]===0;)Or.shift(),--qr;return Or[0]||(Mr.s=1,Or=[qr=0]),Mr.c=Or,Mr.e=qr,Mr},kr.mod=function(Mr){var Fr,Vr=this,Xr=Vr.constructor,Yr=Vr.s,tn=(Mr=new Xr(Mr)).s;if(!Mr.c[0])throw Error(Rr);return Vr.s=Mr.s=1,Fr=Mr.cmp(Vr)==1,Vr.s=Yr,Mr.s=tn,Fr?new Xr(Vr):(Yr=Xr.DP,tn=Xr.RM,Xr.DP=Xr.RM=0,Vr=Vr.div(Mr),Xr.DP=Yr,Xr.RM=tn,this.minus(Vr.times(Mr)))},kr.neg=function(){var Mr=new this.constructor(this);return Mr.s=-Mr.s,Mr},kr.plus=kr.add=function(Mr){var Fr,Vr,Xr,Yr=this,tn=Yr.constructor;if(Mr=new tn(Mr),Yr.s!=Mr.s)return Mr.s=-Mr.s,Yr.minus(Mr);var an=Yr.e,Lr=Yr.c,Er=Mr.e,Or=Mr.c;if(!Lr[0]||!Or[0])return Or[0]||(Lr[0]?Mr=new tn(Yr):Mr.s=Yr.s),Mr;if(Lr=Lr.slice(),Fr=an-Er){for(Fr>0?(Er=an,Xr=Or):(Fr=-Fr,Xr=Lr),Xr.reverse();Fr--;)Xr.push(0);Xr.reverse()}for(Lr.length-Or.length<0&&(Xr=Or,Or=Lr,Lr=Xr),Fr=Or.length,Vr=0;Fr;Lr[Fr]%=10)Vr=(Lr[--Fr]=Lr[Fr]+Or[Fr]+Vr)/10|0;for(Vr&&(Lr.unshift(Vr),++Er),Fr=Lr.length;Lr[--Fr]===0;)Lr.pop();return Mr.c=Lr,Mr.e=Er,Mr},kr.pow=function(Mr){var Fr=this,Vr=new Fr.constructor("1"),Xr=Vr,Yr=Mr<0;if(Mr!==~~Mr||Mr<-a||Mr>a)throw Error(vr+"exponent");for(Yr&&(Mr=-Mr);Mr&1&&(Xr=Xr.times(Fr)),Mr>>=1,!!Mr;)Fr=Fr.times(Fr);return Yr?Vr.div(Xr):Xr},kr.prec=function(Mr,Fr){if(Mr!==~~Mr||Mr<1||Mr>s)throw Error(vr+"precision");return Nr(new this.constructor(this),Mr,Fr)},kr.round=function(Mr,Fr){if(Mr===xr)Mr=0;else if(Mr!==~~Mr||Mr<-s||Mr>s)throw Error(Ar);return Nr(new this.constructor(this),Mr+this.e+1,Fr)},kr.sqrt=function(){var Mr,Fr,Vr,Xr=this,Yr=Xr.constructor,tn=Xr.s,an=Xr.e,Lr=new Yr("0.5");if(!Xr.c[0])return new Yr(Xr);if(tn<0)throw Error(gr+"No square root");tn=Math.sqrt(Xr+""),tn===0||tn===1/0?(Fr=Xr.c.join(""),Fr.length+an&1||(Fr+="0"),tn=Math.sqrt(Fr),an=((an+1)/2|0)-(an<0||an&1),Mr=new Yr((tn==1/0?"5e":(tn=tn.toExponential()).slice(0,tn.indexOf("e")+1))+an)):Mr=new Yr(tn+""),an=Mr.e+(Yr.DP+=4);do Vr=Mr,Mr=Lr.times(Vr.plus(Xr.div(Vr)));while(Vr.c.slice(0,an).join("")!==Mr.c.slice(0,an).join(""));return Nr(Mr,(Yr.DP-=4)+Mr.e+1,Yr.RM)},kr.times=kr.mul=function(Mr){var Fr,Vr=this,Xr=Vr.constructor,Yr=Vr.c,tn=(Mr=new Xr(Mr)).c,an=Yr.length,Lr=tn.length,Er=Vr.e,Or=Mr.e;if(Mr.s=Vr.s==Mr.s?1:-1,!Yr[0]||!tn[0])return Mr.c=[Mr.e=0],Mr;for(Mr.e=Er+Or,an<Lr&&(Fr=Yr,Yr=tn,tn=Fr,Or=an,an=Lr,Lr=Or),Fr=new Array(Or=an+Lr);Or--;)Fr[Or]=0;for(Er=Lr;Er--;){for(Lr=0,Or=an+Er;Or>Er;)Lr=Fr[Or]+tn[Er]*Yr[Or-Er-1]+Lr,Fr[Or--]=Lr%10,Lr=Lr/10|0;Fr[Or]=Lr}for(Lr?++Mr.e:Fr.shift(),Er=Fr.length;!Fr[--Er];)Fr.pop();return Mr.c=Fr,Mr},kr.toExponential=function(Mr,Fr){var Vr=this,Xr=Vr.c[0];if(Mr!==xr){if(Mr!==~~Mr||Mr<0||Mr>s)throw Error(Ar);for(Vr=Nr(new Vr.constructor(Vr),++Mr,Fr);Vr.c.length<Mr;)Vr.c.push(0)}return Hr(Vr,!0,!!Xr)},kr.toFixed=function(Mr,Fr){var Vr=this,Xr=Vr.c[0];if(Mr!==xr){if(Mr!==~~Mr||Mr<0||Mr>s)throw Error(Ar);for(Vr=Nr(new Vr.constructor(Vr),Mr+Vr.e+1,Fr),Mr=Mr+Vr.e+1;Vr.c.length<Mr;)Vr.c.push(0)}return Hr(Vr,!1,!!Xr)},kr.toJSON=kr.toString=function(){var Mr=this,Fr=Mr.constructor;return Hr(Mr,Mr.e<=Fr.NE||Mr.e>=Fr.PE,!!Mr.c[0])},kr.toNumber=function(){var Mr=Number(Hr(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(Mr.toString()))throw Error(gr+"Imprecise conversion");return Mr},kr.toPrecision=function(Mr,Fr){var Vr=this,Xr=Vr.constructor,Yr=Vr.c[0];if(Mr!==xr){if(Mr!==~~Mr||Mr<1||Mr>s)throw Error(vr+"precision");for(Vr=Nr(new Xr(Vr),Mr,Fr);Vr.c.length<Mr;)Vr.c.push(0)}return Hr(Vr,Mr<=Vr.e||Vr.e<=Xr.NE||Vr.e>=Xr.PE,!!Yr)},kr.valueOf=function(){var Mr=this,Fr=Mr.constructor;if(Fr.strict===!0)throw Error(gr+"valueOf disallowed");return Hr(Mr,Mr.e<=Fr.NE||Mr.e>=Fr.PE,!0)},r=Ur(),r.default=r.Big=r,t.exports?t.exports=r:e.Big=r})(commonjsGlobal)})(big);function die(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var mockGlobal={};function getGlobal(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$1.global<"u"?dist$1.global:typeof self<"u"?self:mockGlobal}var assign$1=Object.assign,getDescriptor=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,objectPrototype=Object.prototype,EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);var EMPTY_OBJECT={};Object.freeze(EMPTY_OBJECT);var hasProxy=typeof Proxy<"u",plainObjectString=Object.toString();function assertProxies(){hasProxy||die("Proxy not available")}function once(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var noop$1=function t(){};function isFunction(t){return typeof t=="function"}function isStringish(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function isObject(t){return t!==null&&typeof t=="object"}function isPlainObject(t){if(!isObject(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r.toString()===plainObjectString}function isGenerator(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function addHiddenProp$1(t,e,r){defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function addHiddenFinalProp(t,e,r){defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function createInstanceofPredicate(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(n){return isObject(n)&&n[r]===!0}}function isES6Map(t){return t instanceof Map}function isES6Set(t){return t instanceof Set}var hasGetOwnPropertySymbols=typeof Object.getOwnPropertySymbols<"u";function getPlainObjectKeys(t){var e=Object.keys(t);if(!hasGetOwnPropertySymbols)return e;var r=Object.getOwnPropertySymbols(t);return r.length?[].concat(e,r.filter(function(n){return objectPrototype.propertyIsEnumerable.call(t,n)})):e}var ownKeys=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hasGetOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function toPrimitive(t){return t===null?null:typeof t=="object"?""+t:t}function hasProp(t,e){return objectPrototype.hasOwnProperty.call(t,e)}var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function t(e){var r={};return ownKeys(e).forEach(function(n){r[n]=getDescriptor(e,n)}),r};function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_extends.apply(this,arguments)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},_setPrototypeOf(t,e)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _unsupportedIterableToArray(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _createForOfIteratorHelperLoose(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return typeof e=="symbol"?e:String(e)}var storedAnnotationsSymbol=Symbol("mobx-stored-annotations");function createDecoratorAnnotation(t){function e(r,n){if(is20223Decorator(n))return t.decorate_20223_(r,n);storeAnnotation(r,n,t)}return Object.assign(e,t)}function storeAnnotation(t,e,r){hasProp(t,storedAnnotationsSymbol)||addHiddenProp$1(t,storedAnnotationsSymbol,_extends({},t[storedAnnotationsSymbol])),isOverride(r)||(t[storedAnnotationsSymbol][e]=r)}function collectStoredAnnotations(t){return hasProp(t,storedAnnotationsSymbol)||addHiddenProp$1(t,storedAnnotationsSymbol,_extends({},t[storedAnnotationsSymbol])),t[storedAnnotationsSymbol]}function is20223Decorator(t){return typeof t=="object"&&typeof t.kind=="string"}var $mobx=Symbol("mobx administration"),Atom=function(){function t(r){r===void 0&&(r="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.batchId_=void 0,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r,this.batchId_=globalState.inBatch?globalState.batchId:NaN}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.reportObserved=function(){return reportObserved(this)},e.reportChanged=function(){(!globalState.inBatch||this.batchId_!==globalState.batchId)&&(globalState.stateVersion=globalState.stateVersion<Number.MAX_SAFE_INTEGER?globalState.stateVersion+1:Number.MIN_SAFE_INTEGER,this.batchId_=NaN),startBatch(),propagateChanged(this),endBatch()},e.toString=function(){return this.name_},t}(),isAtom=createInstanceofPredicate("Atom",Atom);function createAtom(t,e,r){e===void 0&&(e=noop$1),r===void 0&&(r=noop$1);var n=new Atom(t);return e!==noop$1&&onBecomeObserved(n,e),r!==noop$1&&onBecomeUnobserved(n,r),n}function identityComparer(t,e){return t===e}function structuralComparer(t,e){return deepEqual(t,e)}function shallowComparer(t,e){return deepEqual(t,e,1)}function defaultComparer(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var comparer={identity:identityComparer,structural:structuralComparer,default:defaultComparer,shallow:shallowComparer};function deepEnhancer(t,e,r){return isObservable(t)?t:Array.isArray(t)?observable.array(t,{name:r}):isPlainObject(t)?observable.object(t,void 0,{name:r}):isES6Map(t)?observable.map(t,{name:r}):isES6Set(t)?observable.set(t,{name:r}):typeof t=="function"&&!isAction(t)&&!isFlow(t)?isGenerator(t)?flow(t):autoAction(r,t):t}function shallowEnhancer(t,e,r){if(t==null||isObservableObject(t)||isObservableArray(t)||isObservableMap(t)||isObservableSet(t))return t;if(Array.isArray(t))return observable.array(t,{name:r,deep:!1});if(isPlainObject(t))return observable.object(t,void 0,{name:r,deep:!1});if(isES6Map(t))return observable.map(t,{name:r,deep:!1});if(isES6Set(t))return observable.set(t,{name:r,deep:!1})}function referenceEnhancer(t){return t}function refStructEnhancer(t,e){return deepEqual(t,e)?e:t}var OVERRIDE="override",override=createDecoratorAnnotation({annotationType_:OVERRIDE,make_,extend_,decorate_20223_});function isOverride(t){return t.annotationType_===OVERRIDE}function make_(t,e){return 0}function extend_(t,e,r,n){die("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function decorate_20223_(t,e){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function createActionAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$1,extend_:extend_$1,decorate_20223_:decorate_20223_$1}}function make_$1(t,e,r,n){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(t,e,r,!1)===null?0:1;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if(isAction(r.value))return 1;var s=createActionDescriptor(t,this,e,r,!1);return defineProperty(n,e,s),2}function extend_$1(t,e,r,n){var o=createActionDescriptor(t,this,e,r);return t.defineProperty_(e,o,n)}function decorate_20223_$1(t,e){var r=e.kind,n=e.name,o=e.addInitializer,s=this,a=function(m){var gr,vr,Ar,Tr;return createAction((gr=(vr=s.options_)==null?void 0:vr.name)!=null?gr:n.toString(),m,(Ar=(Tr=s.options_)==null?void 0:Tr.autoAction)!=null?Ar:!1)};if(r=="field"){o(function(){storeAnnotation(this,n,s)});return}if(r=="method"){var c;return isAction(t)||(t=a(t)),(c=this.options_)!=null&&c.bound&&o(function(){var d=this,m=d[n].bind(d);m.isMobxAction=!0,d[n]=m}),t}die("Cannot apply '"+s.annotationType_+"' to '"+String(n)+"' (kind: "+r+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function assertActionDescriptor(t,e,r,n){e.annotationType_,n.value}function createActionDescriptor(t,e,r,n,o){var s,a,c,d,m,gr,vr;o===void 0&&(o=globalState.safeDescriptors),assertActionDescriptor(t,e,r,n);var Ar=n.value;if((s=e.options_)!=null&&s.bound){var Tr;Ar=Ar.bind((Tr=t.proxy_)!=null?Tr:t.target_)}return{value:createAction((a=(c=e.options_)==null?void 0:c.name)!=null?a:r.toString(),Ar,(d=(m=e.options_)==null?void 0:m.autoAction)!=null?d:!1,(gr=e.options_)!=null&&gr.bound?(vr=t.proxy_)!=null?vr:t.target_:void 0),configurable:o?t.isPlainObject_:!0,enumerable:!1,writable:!o}}function createFlowAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$2,extend_:extend_$2,decorate_20223_:decorate_20223_$2}}function make_$2(t,e,r,n){var o;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!hasProp(t.target_,e)||!isFlow(t.target_[e]))&&this.extend_(t,e,r,!1)===null)return 0;if(isFlow(r.value))return 1;var s=createFlowDescriptor(t,this,e,r,!1,!1);return defineProperty(n,e,s),2}function extend_$2(t,e,r,n){var o,s=createFlowDescriptor(t,this,e,r,(o=this.options_)==null?void 0:o.bound);return t.defineProperty_(e,s,n)}function decorate_20223_$2(t,e){var r,n=e.name,o=e.addInitializer;return isFlow(t)||(t=flow(t)),(r=this.options_)!=null&&r.bound&&o(function(){var s=this,a=s[n].bind(s);a.isMobXFlow=!0,s[n]=a}),t}function assertFlowDescriptor(t,e,r,n){e.annotationType_,n.value}function createFlowDescriptor(t,e,r,n,o,s){s===void 0&&(s=globalState.safeDescriptors),assertFlowDescriptor(t,e,r,n);var a=n.value;if(isFlow(a)||(a=flow(a)),o){var c;a=a.bind((c=t.proxy_)!=null?c:t.target_),a.isMobXFlow=!0}return{value:a,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function createComputedAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$3,extend_:extend_$3,decorate_20223_:decorate_20223_$3}}function make_$3(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function extend_$3(t,e,r,n){return assertComputedDescriptor(t,this,e,r),t.defineComputedProperty_(e,_extends({},this.options_,{get:r.get,set:r.set}),n)}function decorate_20223_$3(t,e){var r=this,n=e.name,o=e.addInitializer;return o(function(){var s=asObservableObject(this)[$mobx],a=_extends({},r.options_,{get:t,context:this});a.name||(a.name="ObservableObject."+n.toString()),s.values_.set(n,new ComputedValue(a))}),function(){return this[$mobx].getObservablePropValue_(n)}}function assertComputedDescriptor(t,e,r,n){e.annotationType_,n.get}function createObservableAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$4,extend_:extend_$4,decorate_20223_:decorate_20223_$4}}function make_$4(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function extend_$4(t,e,r,n){var o,s;return assertObservableDescriptor(t,this),t.defineObservableProperty_(e,r.value,(o=(s=this.options_)==null?void 0:s.enhancer)!=null?o:deepEnhancer,n)}function decorate_20223_$4(t,e){var r=this,n=e.kind,o=e.name,s=new WeakSet;function a(c,d){var m,gr,vr=asObservableObject(c)[$mobx],Ar=new ObservableValue(d,(m=(gr=r.options_)==null?void 0:gr.enhancer)!=null?m:deepEnhancer,"ObservableObject."+o.toString(),!1);vr.values_.set(o,Ar),s.add(c)}if(n=="accessor")return{get:function(){return s.has(this)||a(this,t.get.call(this)),this[$mobx].getObservablePropValue_(o)},set:function(d){return s.has(this)||a(this,d),this[$mobx].setObservablePropValue_(o,d)},init:function(d){return s.has(this)||a(this,d),d}}}function assertObservableDescriptor(t,e,r,n){e.annotationType_}var AUTO="true",autoAnnotation=createAutoAnnotation();function createAutoAnnotation(t){return{annotationType_:AUTO,options_:t,make_:make_$5,extend_:extend_$5,decorate_20223_:decorate_20223_$5}}function make_$5(t,e,r,n){var o,s;if(r.get)return computed.make_(t,e,r,n);if(r.set){var a=createAction(e.toString(),r.set);return n===t.target_?t.defineProperty_(e,{configurable:globalState.safeDescriptors?t.isPlainObject_:!0,set:a})===null?0:2:(defineProperty(n,e,{configurable:!0,set:a}),2)}if(n!==t.target_&&typeof r.value=="function"){var c;if(isGenerator(r.value)){var d,m=(d=this.options_)!=null&&d.autoBind?flow.bound:flow;return m.make_(t,e,r,n)}var gr=(c=this.options_)!=null&&c.autoBind?autoAction.bound:autoAction;return gr.make_(t,e,r,n)}var vr=((o=this.options_)==null?void 0:o.deep)===!1?observable.ref:observable;if(typeof r.value=="function"&&(s=this.options_)!=null&&s.autoBind){var Ar;r.value=r.value.bind((Ar=t.proxy_)!=null?Ar:t.target_)}return vr.make_(t,e,r,n)}function extend_$5(t,e,r,n){var o,s;if(r.get)return computed.extend_(t,e,r,n);if(r.set)return t.defineProperty_(e,{configurable:globalState.safeDescriptors?t.isPlainObject_:!0,set:createAction(e.toString(),r.set)},n);if(typeof r.value=="function"&&(o=this.options_)!=null&&o.autoBind){var a;r.value=r.value.bind((a=t.proxy_)!=null?a:t.target_)}var c=((s=this.options_)==null?void 0:s.deep)===!1?observable.ref:observable;return c.extend_(t,e,r,n)}function decorate_20223_$5(t,e){die("'"+this.annotationType_+"' cannot be used as a decorator")}var OBSERVABLE="observable",OBSERVABLE_REF="observable.ref",OBSERVABLE_SHALLOW="observable.shallow",OBSERVABLE_STRUCT="observable.struct",defaultCreateObservableOptions={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(defaultCreateObservableOptions);function asCreateObservableOptions(t){return t||defaultCreateObservableOptions}var observableAnnotation=createObservableAnnotation(OBSERVABLE),observableRefAnnotation=createObservableAnnotation(OBSERVABLE_REF,{enhancer:referenceEnhancer}),observableShallowAnnotation=createObservableAnnotation(OBSERVABLE_SHALLOW,{enhancer:shallowEnhancer}),observableStructAnnotation=createObservableAnnotation(OBSERVABLE_STRUCT,{enhancer:refStructEnhancer}),observableDecoratorAnnotation=createDecoratorAnnotation(observableAnnotation);function getEnhancerFromOptions(t){return t.deep===!0?deepEnhancer:t.deep===!1?referenceEnhancer:getEnhancerFromAnnotation(t.defaultDecorator)}function getAnnotationFromOptions(t){var e;return t?(e=t.defaultDecorator)!=null?e:createAutoAnnotation(t):void 0}function getEnhancerFromAnnotation(t){var e,r;return t&&(e=(r=t.options_)==null?void 0:r.enhancer)!=null?e:deepEnhancer}function createObservable(t,e,r){if(is20223Decorator(e))return observableAnnotation.decorate_20223_(t,e);if(isStringish(e)){storeAnnotation(t,e,observableAnnotation);return}return isObservable(t)?t:isPlainObject(t)?observable.object(t,e,r):Array.isArray(t)?observable.array(t,e):isES6Map(t)?observable.map(t,e):isES6Set(t)?observable.set(t,e):typeof t=="object"&&t!==null?t:observable.box(t,e)}assign$1(createObservable,observableDecoratorAnnotation);var observableFactories={box:function t(e,r){var n=asCreateObservableOptions(r);return new ObservableValue(e,getEnhancerFromOptions(n),n.name,!0,n.equals)},array:function t(e,r){var n=asCreateObservableOptions(r);return(globalState.useProxies===!1||n.proxy===!1?createLegacyArray:createObservableArray)(e,getEnhancerFromOptions(n),n.name)},map:function t(e,r){var n=asCreateObservableOptions(r);return new ObservableMap(e,getEnhancerFromOptions(n),n.name)},set:function t(e,r){var n=asCreateObservableOptions(r);return new ObservableSet(e,getEnhancerFromOptions(n),n.name)},object:function t(e,r,n){return initObservable(function(){return extendObservable(globalState.useProxies===!1||(n==null?void 0:n.proxy)===!1?asObservableObject({},n):asDynamicObservableObject({},n),e,r)})},ref:createDecoratorAnnotation(observableRefAnnotation),shallow:createDecoratorAnnotation(observableShallowAnnotation),deep:observableDecoratorAnnotation,struct:createDecoratorAnnotation(observableStructAnnotation)},observable=assign$1(createObservable,observableFactories),COMPUTED="computed",COMPUTED_STRUCT="computed.struct",computedAnnotation=createComputedAnnotation(COMPUTED),computedStructAnnotation=createComputedAnnotation(COMPUTED_STRUCT,{equals:comparer.structural}),computed=function t(e,r){if(is20223Decorator(r))return computedAnnotation.decorate_20223_(e,r);if(isStringish(r))return storeAnnotation(e,r,computedAnnotation);if(isPlainObject(e))return createDecoratorAnnotation(createComputedAnnotation(COMPUTED,e));var n=isPlainObject(r)?r:{};return n.get=e,n.name||(n.name=e.name||""),new ComputedValue(n)};Object.assign(computed,computedAnnotation);computed.struct=createDecoratorAnnotation(computedStructAnnotation);var _getDescriptor$config,_getDescriptor,currentActionId=0,nextActionId=1,isFunctionNameConfigurable=(_getDescriptor$config=(_getDescriptor=getDescriptor(function(){},"name"))==null?void 0:_getDescriptor.configurable)!=null?_getDescriptor$config:!1,tmpNameDescriptor={value:"action",configurable:!0,writable:!1,enumerable:!1};function createAction(t,e,r,n){r===void 0&&(r=!1);function o(){return executeAction(t,r,e,n||this,arguments)}return o.isMobxAction=!0,isFunctionNameConfigurable&&(tmpNameDescriptor.value=t,defineProperty(o,"name",tmpNameDescriptor)),o}function executeAction(t,e,r,n,o){var s=_startAction(t,e);try{return r.apply(n,o)}catch(a){throw s.error_=a,a}finally{_endAction(s)}}function _startAction(t,e,r,n){var o=!1,s=0,a=globalState.trackingDerivation,c=!e||!a;startBatch();var d=globalState.allowStateChanges;c&&(untrackedStart(),d=allowStateChangesStart(!0));var m=allowStateReadsStart(!0),gr={runAsAction_:c,prevDerivation_:a,prevAllowStateChanges_:d,prevAllowStateReads_:m,notifySpy_:o,startTime_:s,actionId_:nextActionId++,parentActionId_:currentActionId};return currentActionId=gr.actionId_,gr}function _endAction(t){currentActionId!==t.actionId_&&die(30),currentActionId=t.parentActionId_,t.error_!==void 0&&(globalState.suppressReactionErrors=!0),allowStateChangesEnd(t.prevAllowStateChanges_),allowStateReadsEnd(t.prevAllowStateReads_),endBatch(),t.runAsAction_&&untrackedEnd(t.prevDerivation_),globalState.suppressReactionErrors=!1}function allowStateChanges(t,e){var r=allowStateChangesStart(t);try{return e()}finally{allowStateChangesEnd(r)}}function allowStateChangesStart(t){var e=globalState.allowStateChanges;return globalState.allowStateChanges=t,e}function allowStateChangesEnd(t){globalState.allowStateChanges=t}var _Symbol$toPrimitive;_Symbol$toPrimitive=Symbol.toPrimitive;var ObservableValue=function(t){_inheritsLoose(e,t);function e(n,o,s,a,c){var d;return s===void 0&&(s="ObservableValue"),c===void 0&&(c=comparer.default),d=t.call(this,s)||this,d.enhancer=void 0,d.name_=void 0,d.equals=void 0,d.hasUnreportedChange_=!1,d.interceptors_=void 0,d.changeListeners_=void 0,d.value_=void 0,d.dehancer=void 0,d.enhancer=o,d.name_=s,d.equals=c,d.value_=o(n,void 0,s),d}var r=e.prototype;return r.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},r.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==globalState.UNCHANGED&&this.setNewValue_(o)},r.prepareNewValue_=function(o){if(hasInterceptors(this)){var s=interceptChange(this,{object:this,type:UPDATE,newValue:o});if(!s)return globalState.UNCHANGED;o=s.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?globalState.UNCHANGED:o},r.setNewValue_=function(o){var s=this.value_;this.value_=o,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:UPDATE,object:this,newValue:o,oldValue:s})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(o){return registerInterceptor(this,o)},r.observe_=function(o,s){return s&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:UPDATE,newValue:this.value_,oldValue:void 0}),registerListener(this,o)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return toPrimitive(this.get())},r[_Symbol$toPrimitive]=function(){return this.valueOf()},e}(Atom),isObservableValue=createInstanceofPredicate("ObservableValue",ObservableValue),_Symbol$toPrimitive$1;_Symbol$toPrimitive$1=Symbol.toPrimitive;var ComputedValue=function(){function t(r){this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new CaughtException(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=TraceMode.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||die(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=createAction("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?comparer.structural:comparer.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){propagateMaybeChanged(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.get=function(){if(this.isComputing_&&die(32,this.name_,this.derivation),globalState.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)shouldCompute(this)&&(this.warnAboutUntrackedRead_(),startBatch(),this.value_=this.computeValue_(!1),endBatch());else if(reportObserved(this),shouldCompute(this)){var n=globalState.trackingContext;this.keepAlive_&&!n&&(globalState.trackingContext=this),this.trackAndCompute()&&propagateChangeConfirmed(this),globalState.trackingContext=n}var o=this.value_;if(isCaughtException(o))throw o.cause;return o},e.set=function(n){if(this.setter_){this.isRunningSetter_&&die(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter_=!1}}else die(34,this.name_)},e.trackAndCompute=function(){var n=this.value_,o=this.dependenciesState_===IDerivationState_.NOT_TRACKING_,s=this.computeValue_(!0),a=o||isCaughtException(n)||isCaughtException(s)||!this.equals_(n,s);return a&&(this.value_=s),a},e.computeValue_=function(n){this.isComputing_=!0;var o=allowStateChangesStart(!1),s;if(n)s=trackDerivedFunction(this,this.derivation,this.scope_);else if(globalState.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(a){s=new CaughtException(a)}return allowStateChangesEnd(o),this.isComputing_=!1,s},e.suspend_=function(){this.keepAlive_||(clearObserving(this),this.value_=void 0)},e.observe_=function(n,o){var s=this,a=!0,c=void 0;return autorun(function(){var d=s.get();if(!a||o){var m=untrackedStart();n({observableKind:"computed",debugObjectName:s.name_,type:UPDATE,object:s,newValue:d,oldValue:c}),untrackedEnd(m)}a=!1,c=d})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return toPrimitive(this.get())},e[_Symbol$toPrimitive$1]=function(){return this.valueOf()},t}(),isComputedValue=createInstanceofPredicate("ComputedValue",ComputedValue),IDerivationState_;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(IDerivationState_||(IDerivationState_={}));var TraceMode;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(TraceMode||(TraceMode={}));var CaughtException=function t(e){this.cause=void 0,this.cause=e};function isCaughtException(t){return t instanceof CaughtException}function shouldCompute(t){switch(t.dependenciesState_){case IDerivationState_.UP_TO_DATE_:return!1;case IDerivationState_.NOT_TRACKING_:case IDerivationState_.STALE_:return!0;case IDerivationState_.POSSIBLY_STALE_:{for(var e=allowStateReadsStart(!0),r=untrackedStart(),n=t.observing_,o=n.length,s=0;s<o;s++){var a=n[s];if(isComputedValue(a)){if(globalState.disableErrorBoundaries)a.get();else try{a.get()}catch{return untrackedEnd(r),allowStateReadsEnd(e),!0}if(t.dependenciesState_===IDerivationState_.STALE_)return untrackedEnd(r),allowStateReadsEnd(e),!0}}return changeDependenciesStateTo0(t),untrackedEnd(r),allowStateReadsEnd(e),!1}}}function isComputingDerivation(){return globalState.trackingDerivation!==null}function checkIfStateModificationsAreAllowed(t){}function trackDerivedFunction(t,e,r){var n=allowStateReadsStart(!0);changeDependenciesStateTo0(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++globalState.runId;var o=globalState.trackingDerivation;globalState.trackingDerivation=t,globalState.inBatch++;var s;if(globalState.disableErrorBoundaries===!0)s=e.call(r);else try{s=e.call(r)}catch(a){s=new CaughtException(a)}return globalState.inBatch--,globalState.trackingDerivation=o,bindDependencies(t),allowStateReadsEnd(n),s}function bindDependencies(t){for(var e=t.observing_,r=t.observing_=t.newObserving_,n=IDerivationState_.UP_TO_DATE_,o=0,s=t.unboundDepsCount_,a=0;a<s;a++){var c=r[a];c.diffValue_===0&&(c.diffValue_=1,o!==a&&(r[o]=c),o++),c.dependenciesState_>n&&(n=c.dependenciesState_)}for(r.length=o,t.newObserving_=null,s=e.length;s--;){var d=e[s];d.diffValue_===0&&removeObserver(d,t),d.diffValue_=0}for(;o--;){var m=r[o];m.diffValue_===1&&(m.diffValue_=0,addObserver(m,t))}n!==IDerivationState_.UP_TO_DATE_&&(t.dependenciesState_=n,t.onBecomeStale_())}function clearObserving(t){var e=t.observing_;t.observing_=[];for(var r=e.length;r--;)removeObserver(e[r],t);t.dependenciesState_=IDerivationState_.NOT_TRACKING_}function untracked(t){var e=untrackedStart();try{return t()}finally{untrackedEnd(e)}}function untrackedStart(){var t=globalState.trackingDerivation;return globalState.trackingDerivation=null,t}function untrackedEnd(t){globalState.trackingDerivation=t}function allowStateReadsStart(t){var e=globalState.allowStateReads;return globalState.allowStateReads=t,e}function allowStateReadsEnd(t){globalState.allowStateReads=t}function changeDependenciesStateTo0(t){if(t.dependenciesState_!==IDerivationState_.UP_TO_DATE_){t.dependenciesState_=IDerivationState_.UP_TO_DATE_;for(var e=t.observing_,r=e.length;r--;)e[r].lowestObserverState_=IDerivationState_.UP_TO_DATE_}}var persistentKeys=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],MobXGlobals=function t(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.batchId=Number.MIN_SAFE_INTEGER,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},canMergeGlobalState=!0,isolateCalled=!1,globalState=function(){var t=getGlobal();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(canMergeGlobalState=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new MobXGlobals().version&&(canMergeGlobalState=!1),canMergeGlobalState?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new MobXGlobals):(setTimeout(function(){isolateCalled||die(35)},1),new MobXGlobals)}();function isolateGlobalState(){if((globalState.pendingReactions.length||globalState.inBatch||globalState.isRunningReactions)&&die(36),isolateCalled=!0,canMergeGlobalState){var t=getGlobal();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),globalState=new MobXGlobals}}function getGlobalState(){return globalState}function resetGlobalState(){var t=new MobXGlobals;for(var e in t)persistentKeys.indexOf(e)===-1&&(globalState[e]=t[e]);globalState.allowStateChanges=!globalState.enforceActions}function hasObservers(t){return t.observers_&&t.observers_.size>0}function getObservers(t){return t.observers_}function addObserver(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function removeObserver(t,e){t.observers_.delete(e),t.observers_.size===0&&queueForUnobservation(t)}function queueForUnobservation(t){t.isPendingUnobservation_===!1&&(t.isPendingUnobservation_=!0,globalState.pendingUnobservations.push(t))}function startBatch(){globalState.inBatch===0&&(globalState.batchId=globalState.batchId<Number.MAX_SAFE_INTEGER?globalState.batchId+1:Number.MIN_SAFE_INTEGER),globalState.inBatch++}function endBatch(){if(--globalState.inBatch===0){runReactions();for(var t=globalState.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation_=!1,r.observers_.size===0&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof ComputedValue&&r.suspend_())}globalState.pendingUnobservations=[]}}function reportObserved(t){var e=globalState.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&globalState.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),t.isBeingObserved_):(t.observers_.size===0&&globalState.inBatch>0&&queueForUnobservation(t),!1)}function propagateChanged(t){t.lowestObserverState_!==IDerivationState_.STALE_&&(t.lowestObserverState_=IDerivationState_.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=IDerivationState_.STALE_}))}function propagateChangeConfirmed(t){t.lowestObserverState_!==IDerivationState_.STALE_&&(t.lowestObserverState_=IDerivationState_.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.POSSIBLY_STALE_?e.dependenciesState_=IDerivationState_.STALE_:e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(t.lowestObserverState_=IDerivationState_.UP_TO_DATE_)}))}function propagateMaybeChanged(t){t.lowestObserverState_===IDerivationState_.UP_TO_DATE_&&(t.lowestObserverState_=IDerivationState_.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(e.dependenciesState_=IDerivationState_.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Reaction=function(){function t(r,n,o,s){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=TraceMode.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=o,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,globalState.pendingReactions.push(this),runReactions())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){startBatch(),this.isScheduled_=!1;var n=globalState.trackingContext;if(globalState.trackingContext=this,shouldCompute(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}globalState.trackingContext=n,endBatch()}},e.track=function(n){if(!this.isDisposed_){startBatch(),this.isRunning_=!0;var o=globalState.trackingContext;globalState.trackingContext=this;var s=trackDerivedFunction(this,n,void 0);globalState.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&clearObserving(this),isCaughtException(s)&&this.reportExceptionInDerivation_(s.cause),endBatch()}},e.reportExceptionInDerivation_=function(n){var o=this;if(this.errorHandler_){this.errorHandler_(n,this);return}if(globalState.disableErrorBoundaries)throw n;var s="[mobx] uncaught error in '"+this+"'";globalState.suppressReactionErrors||console.error(s,n),globalState.globalReactionErrorHandlers.forEach(function(a){return a(n,o)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(startBatch(),clearObserving(this),endBatch()))},e.getDisposer_=function(n){var o=this,s=function a(){o.dispose(),n==null||n.removeEventListener==null||n.removeEventListener("abort",a)};return n==null||n.addEventListener==null||n.addEventListener("abort",s),s[$mobx]=this,s},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(n){},t}();function onReactionError(t){return globalState.globalReactionErrorHandlers.push(t),function(){var e=globalState.globalReactionErrorHandlers.indexOf(t);e>=0&&globalState.globalReactionErrorHandlers.splice(e,1)}}var MAX_REACTION_ITERATIONS=100,reactionScheduler=function t(e){return e()};function runReactions(){globalState.inBatch>0||globalState.isRunningReactions||reactionScheduler(runReactionsHelper)}function runReactionsHelper(){globalState.isRunningReactions=!0;for(var t=globalState.pendingReactions,e=0;t.length>0;){++e===MAX_REACTION_ITERATIONS&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction_()}globalState.isRunningReactions=!1}var isReaction=createInstanceofPredicate("Reaction",Reaction);function setReactionScheduler(t){var e=reactionScheduler;reactionScheduler=function(n){return t(function(){return e(n)})}}function isSpyEnabled(){return!1}function spyReport(t){}function spyReportStart(t){}function spyReportEnd(t){}function spy(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ACTION="action",ACTION_BOUND="action.bound",AUTOACTION="autoAction",AUTOACTION_BOUND="autoAction.bound",DEFAULT_ACTION_NAME="<unnamed action>",actionAnnotation=createActionAnnotation(ACTION),actionBoundAnnotation=createActionAnnotation(ACTION_BOUND,{bound:!0}),autoActionAnnotation=createActionAnnotation(AUTOACTION,{autoAction:!0}),autoActionBoundAnnotation=createActionAnnotation(AUTOACTION_BOUND,{autoAction:!0,bound:!0});function createActionFactory(t){var e=function(n,o){if(isFunction(n))return createAction(n.name||DEFAULT_ACTION_NAME,n,t);if(isFunction(o))return createAction(n,o,t);if(is20223Decorator(o))return(t?autoActionAnnotation:actionAnnotation).decorate_20223_(n,o);if(isStringish(o))return storeAnnotation(n,o,t?autoActionAnnotation:actionAnnotation);if(isStringish(n))return createDecoratorAnnotation(createActionAnnotation(t?AUTOACTION:ACTION,{name:n,autoAction:t}))};return e}var action=createActionFactory(!1);Object.assign(action,actionAnnotation);var autoAction=createActionFactory(!0);Object.assign(autoAction,autoActionAnnotation);action.bound=createDecoratorAnnotation(actionBoundAnnotation);autoAction.bound=createDecoratorAnnotation(autoActionBoundAnnotation);function runInAction(t){return executeAction(t.name||DEFAULT_ACTION_NAME,!1,t,this,void 0)}function isAction(t){return isFunction(t)&&t.isMobxAction===!0}function autorun(t,e){var r,n,o,s,a;e===void 0&&(e=EMPTY_OBJECT);var c=(r=(n=e)==null?void 0:n.name)!=null?r:"Autorun",d=!e.scheduler&&!e.delay,m;if(d)m=new Reaction(c,function(){this.track(Ar)},e.onError,e.requiresObservable);else{var gr=createSchedulerFromOptions(e),vr=!1;m=new Reaction(c,function(){vr||(vr=!0,gr(function(){vr=!1,m.isDisposed_||m.track(Ar)}))},e.onError,e.requiresObservable)}function Ar(){t(m)}return(o=e)!=null&&(s=o.signal)!=null&&s.aborted||m.schedule_(),m.getDisposer_((a=e)==null?void 0:a.signal)}var run=function t(e){return e()};function createSchedulerFromOptions(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:run}function reaction(t,e,r){var n,o,s,a;r===void 0&&(r=EMPTY_OBJECT);var c=(n=r.name)!=null?n:"Reaction",d=action(c,r.onError?wrapErrorHandler(r.onError,e):e),m=!r.scheduler&&!r.delay,gr=createSchedulerFromOptions(r),vr=!0,Ar=!1,Tr,Rr,kr=r.compareStructural?comparer.structural:r.equals||comparer.default,xr=new Reaction(c,function(){vr||m?Dr():Ar||(Ar=!0,gr(Dr))},r.onError,r.requiresObservable);function Dr(){if(Ar=!1,!xr.isDisposed_){var Ur=!1;xr.track(function(){var Cr=allowStateChanges(!1,function(){return t(xr)});Ur=vr||!kr(Tr,Cr),Rr=Tr,Tr=Cr}),(vr&&r.fireImmediately||!vr&&Ur)&&d(Tr,Rr,xr),vr=!1}}return(o=r)!=null&&(s=o.signal)!=null&&s.aborted||xr.schedule_(),xr.getDisposer_((a=r)==null?void 0:a.signal)}function wrapErrorHandler(t,e){return function(){try{return e.apply(this,arguments)}catch(r){t.call(this,r)}}}var ON_BECOME_OBSERVED="onBO",ON_BECOME_UNOBSERVED="onBUO";function onBecomeObserved(t,e,r){return interceptHook(ON_BECOME_OBSERVED,t,e,r)}function onBecomeUnobserved(t,e,r){return interceptHook(ON_BECOME_UNOBSERVED,t,e,r)}function interceptHook(t,e,r,n){var o=typeof n=="function"?getAtom(e,r):getAtom(e),s=isFunction(n)?n:r,a=t+"L";return o[a]?o[a].add(s):o[a]=new Set([s]),function(){var c=o[a];c&&(c.delete(s),c.size===0&&delete o[a])}}var NEVER="never",ALWAYS="always",OBSERVED="observed";function configure(t){t.isolateGlobalState===!0&&isolateGlobalState();var e=t.useProxies,r=t.enforceActions;if(e!==void 0&&(globalState.useProxies=e===ALWAYS?!0:e===NEVER?!1:typeof Proxy<"u"),e==="ifavailable"&&(globalState.verifyProxies=!0),r!==void 0){var n=r===ALWAYS?ALWAYS:r===OBSERVED;globalState.enforceActions=n,globalState.allowStateChanges=!(n===!0||n===ALWAYS)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in t&&(globalState[o]=!!t[o])}),globalState.allowStateReads=!globalState.observableRequiresReaction,t.reactionScheduler&&setReactionScheduler(t.reactionScheduler)}function extendObservable(t,e,r,n){var o=getOwnPropertyDescriptors(e);return initObservable(function(){var s=asObservableObject(t,n)[$mobx];ownKeys(o).forEach(function(a){s.extend_(a,o[a],r&&a in r?r[a]:!0)})}),t}function getDependencyTree(t,e){return nodeToDependencyTree(getAtom(t,e))}function nodeToDependencyTree(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=unique(t.observing_).map(nodeToDependencyTree)),e}function getObserverTree(t,e){return nodeToObserverTree(getAtom(t,e))}function nodeToObserverTree(t){var e={name:t.name_};return hasObservers(t)&&(e.observers=Array.from(getObservers(t)).map(nodeToObserverTree)),e}function unique(t){return Array.from(new Set(t))}var generatorId=0;function FlowCancellationError(){this.message="FLOW_CANCELLED"}FlowCancellationError.prototype=Object.create(Error.prototype);function isFlowCancellationError(t){return t instanceof FlowCancellationError}var flowAnnotation=createFlowAnnotation("flow"),flowBoundAnnotation=createFlowAnnotation("flow.bound",{bound:!0}),flow=Object.assign(function t(e,r){if(is20223Decorator(r))return flowAnnotation.decorate_20223_(e,r);if(isStringish(r))return storeAnnotation(e,r,flowAnnotation);var n=e,o=n.name||"<unnamed flow>",s=function(){var c=this,d=arguments,m=++generatorId,gr=action(o+" - runid: "+m+" - init",n).apply(c,d),vr,Ar=void 0,Tr=new Promise(function(Rr,kr){var xr=0;vr=kr;function Dr(Nr){Ar=void 0;var Hr;try{Hr=action(o+" - runid: "+m+" - yield "+xr++,gr.next).call(gr,Nr)}catch(Mr){return kr(Mr)}Cr(Hr)}function Ur(Nr){Ar=void 0;var Hr;try{Hr=action(o+" - runid: "+m+" - yield "+xr++,gr.throw).call(gr,Nr)}catch(Mr){return kr(Mr)}Cr(Hr)}function Cr(Nr){if(isFunction(Nr==null?void 0:Nr.then)){Nr.then(Cr,kr);return}return Nr.done?Rr(Nr.value):(Ar=Promise.resolve(Nr.value),Ar.then(Dr,Ur))}Dr(void 0)});return Tr.cancel=action(o+" - runid: "+m+" - cancel",function(){try{Ar&&cancelPromise(Ar);var Rr=gr.return(void 0),kr=Promise.resolve(Rr.value);kr.then(noop$1,noop$1),cancelPromise(kr),vr(new FlowCancellationError)}catch(xr){vr(xr)}}),Tr};return s.isMobXFlow=!0,s},flowAnnotation);flow.bound=createDecoratorAnnotation(flowBoundAnnotation);function cancelPromise(t){isFunction(t.cancel)&&t.cancel()}function flowResult(t){return t}function isFlow(t){return(t==null?void 0:t.isMobXFlow)===!0}function interceptReads(t,e,r){var n;return isObservableMap(t)||isObservableArray(t)||isObservableValue(t)?n=getAdministration(t):isObservableObject(t)&&(n=getAdministration(t,e)),n.dehancer=typeof e=="function"?e:r,function(){n.dehancer=void 0}}function intercept(t,e,r){return isFunction(r)?interceptProperty(t,e,r):interceptInterceptable(t,e)}function interceptInterceptable(t,e){return getAdministration(t).intercept_(e)}function interceptProperty(t,e,r){return getAdministration(t,e).intercept_(r)}function _isComputed(t,e){if(e===void 0)return isComputedValue(t);if(isObservableObject(t)===!1||!t[$mobx].values_.has(e))return!1;var r=getAtom(t,e);return isComputedValue(r)}function isComputed(t){return _isComputed(t)}function isComputedProp(t,e){return _isComputed(t,e)}function _isObservable(t,e){return t?e!==void 0?isObservableObject(t)?t[$mobx].values_.has(e):!1:isObservableObject(t)||!!t[$mobx]||isAtom(t)||isReaction(t)||isComputedValue(t):!1}function isObservable(t){return _isObservable(t)}function isObservableProp(t,e){return _isObservable(t,e)}function keys(t){if(isObservableObject(t))return t[$mobx].keys_();if(isObservableMap(t)||isObservableSet(t))return Array.from(t.keys());if(isObservableArray(t))return t.map(function(e,r){return r});die(5)}function values(t){if(isObservableObject(t))return keys(t).map(function(e){return t[e]});if(isObservableMap(t))return keys(t).map(function(e){return t.get(e)});if(isObservableSet(t))return Array.from(t.values());if(isObservableArray(t))return t.slice();die(6)}function entries(t){if(isObservableObject(t))return keys(t).map(function(e){return[e,t[e]]});if(isObservableMap(t))return keys(t).map(function(e){return[e,t.get(e)]});if(isObservableSet(t))return Array.from(t.entries());if(isObservableArray(t))return t.map(function(e,r){return[r,e]});die(7)}function set(t,e,r){if(arguments.length===2&&!isObservableSet(t)){startBatch();var n=e;try{for(var o in n)set(t,o,n[o])}finally{endBatch()}return}isObservableObject(t)?t[$mobx].set_(e,r):isObservableMap(t)?t.set(e,r):isObservableSet(t)?t.add(e):isObservableArray(t)?(typeof e!="number"&&(e=parseInt(e,10)),e<0&&die("Invalid index: '"+e+"'"),startBatch(),e>=t.length&&(t.length=e+1),t[e]=r,endBatch()):die(8)}function remove(t,e){isObservableObject(t)?t[$mobx].delete_(e):isObservableMap(t)||isObservableSet(t)?t.delete(e):isObservableArray(t)?(typeof e!="number"&&(e=parseInt(e,10)),t.splice(e,1)):die(9)}function has(t,e){if(isObservableObject(t))return t[$mobx].has_(e);if(isObservableMap(t))return t.has(e);if(isObservableSet(t))return t.has(e);if(isObservableArray(t))return e>=0&&e<t.length;die(10)}function get(t,e){if(!!has(t,e)){if(isObservableObject(t))return t[$mobx].get_(e);if(isObservableMap(t))return t.get(e);if(isObservableArray(t))return t[e];die(11)}}function apiDefineProperty(t,e,r){if(isObservableObject(t))return t[$mobx].defineProperty_(e,r);die(39)}function apiOwnKeys(t){if(isObservableObject(t))return t[$mobx].ownKeys_();die(38)}function observe(t,e,r,n){return isFunction(r)?observeObservableProperty(t,e,r,n):observeObservable(t,e,r)}function observeObservable(t,e,r){return getAdministration(t).observe_(e,r)}function observeObservableProperty(t,e,r,n){return getAdministration(t,e).observe_(r,n)}function cache(t,e,r){return t.set(e,r),r}function toJSHelper(t,e){if(t==null||typeof t!="object"||t instanceof Date||!isObservable(t))return t;if(isObservableValue(t)||isComputedValue(t))return toJSHelper(t.get(),e);if(e.has(t))return e.get(t);if(isObservableArray(t)){var r=cache(e,t,new Array(t.length));return t.forEach(function(a,c){r[c]=toJSHelper(a,e)}),r}if(isObservableSet(t)){var n=cache(e,t,new Set);return t.forEach(function(a){n.add(toJSHelper(a,e))}),n}if(isObservableMap(t)){var o=cache(e,t,new Map);return t.forEach(function(a,c){o.set(c,toJSHelper(a,e))}),o}else{var s=cache(e,t,{});return apiOwnKeys(t).forEach(function(a){objectPrototype.propertyIsEnumerable.call(t,a)&&(s[a]=toJSHelper(t[a],e))}),s}}function toJS(t,e){return toJSHelper(t,new Map)}function trace(){}function transaction(t,e){e===void 0&&(e=void 0),startBatch();try{return t.apply(e)}finally{endBatch()}}function when(t,e,r){return arguments.length===1||e&&typeof e=="object"?whenPromise(t,e):_when(t,e,r||{})}function _when(t,e,r){var n;if(typeof r.timeout=="number"){var o=new Error("WHEN_TIMEOUT");n=setTimeout(function(){if(!a[$mobx].isDisposed_)if(a(),r.onError)r.onError(o);else throw o},r.timeout)}r.name="When";var s=createAction("When-effect",e),a=autorun(function(c){var d=allowStateChanges(!1,t);d&&(c.dispose(),n&&clearTimeout(n),s())},r);return a}function whenPromise(t,e){var r;if(e!=null&&(r=e.signal)!=null&&r.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var n,o,s=new Promise(function(a,c){var d,m=_when(t,a,_extends({},e,{onError:c}));n=function(){m(),c(new Error("WHEN_CANCELLED"))},o=function(){m(),c(new Error("WHEN_ABORTED"))},e==null||(d=e.signal)==null||d.addEventListener==null||d.addEventListener("abort",o)}).finally(function(){var a;return e==null||(a=e.signal)==null||a.removeEventListener==null?void 0:a.removeEventListener("abort",o)});return s.cancel=n,s}function getAdm(t){return t[$mobx]}var objectProxyTraps={has:function t(e,r){return getAdm(e).has_(r)},get:function t(e,r){return getAdm(e).get_(r)},set:function t(e,r,n){var o;return isStringish(r)?(o=getAdm(e).set_(r,n,!0))!=null?o:!0:!1},deleteProperty:function t(e,r){var n;return isStringish(r)?(n=getAdm(e).delete_(r,!0))!=null?n:!0:!1},defineProperty:function t(e,r,n){var o;return(o=getAdm(e).defineProperty_(r,n))!=null?o:!0},ownKeys:function t(e){return getAdm(e).ownKeys_()},preventExtensions:function t(e){die(13)}};function asDynamicObservableObject(t,e){var r,n;return assertProxies(),t=asObservableObject(t,e),(n=(r=t[$mobx]).proxy_)!=null?n:r.proxy_=new Proxy(t,objectProxyTraps)}function hasInterceptors(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function registerInterceptor(t,e){var r=t.interceptors_||(t.interceptors_=[]);return r.push(e),once(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function interceptChange(t,e){var r=untrackedStart();try{for(var n=[].concat(t.interceptors_||[]),o=0,s=n.length;o<s&&(e=n[o](e),e&&!e.type&&die(14),!!e);o++);return e}finally{untrackedEnd(r)}}function hasListeners(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function registerListener(t,e){var r=t.changeListeners_||(t.changeListeners_=[]);return r.push(e),once(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function notifyListeners(t,e){var r=untrackedStart(),n=t.changeListeners_;if(!!n){n=n.slice();for(var o=0,s=n.length;o<s;o++)n[o](e);untrackedEnd(r)}}function makeObservable(t,e,r){return initObservable(function(){var n,o=asObservableObject(t,r)[$mobx];(n=e)!=null||(e=collectStoredAnnotations(t)),ownKeys(e).forEach(function(s){return o.make_(s,e[s])})}),t}var keysSymbol=Symbol("mobx-keys");function makeAutoObservable(t,e,r){return isPlainObject(t)?extendObservable(t,t,e,r):(initObservable(function(){var n=asObservableObject(t,r)[$mobx];if(!t[keysSymbol]){var o=Object.getPrototypeOf(t),s=new Set([].concat(ownKeys(t),ownKeys(o)));s.delete("constructor"),s.delete($mobx),addHiddenProp$1(o,keysSymbol,s)}t[keysSymbol].forEach(function(a){return n.make_(a,e&&a in e?e[a]:!0)})}),t)}var SPLICE="splice",UPDATE="update",MAX_SPLICE_SIZE=1e4,arrayTraps={get:function t(e,r){var n=e[$mobx];return r===$mobx?n:r==="length"?n.getArrayLength_():typeof r=="string"&&!isNaN(r)?n.get_(parseInt(r)):hasProp(arrayExtensions,r)?arrayExtensions[r]:e[r]},set:function t(e,r,n){var o=e[$mobx];return r==="length"&&o.setArrayLength_(n),typeof r=="symbol"||isNaN(r)?e[r]=n:o.set_(parseInt(r),n),!0},preventExtensions:function t(){die(15)}},ObservableArrayAdministration=function(){function t(r,n,o,s){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=s,this.atom_=new Atom(r),this.enhancer_=function(a,c){return n(a,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},e.intercept_=function(n){return registerInterceptor(this,n)},e.observe_=function(n,o){return o===void 0&&(o=!1),o&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),registerListener(this,n)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&die("Out of range: "+n);var o=this.values_.length;if(n!==o)if(n>o){for(var s=new Array(n-o),a=0;a<n-o;a++)s[a]=void 0;this.spliceWithArray_(o,0,s)}else this.spliceWithArray_(n,o-n)},e.updateArrayLength_=function(n,o){n!==this.lastKnownLength_&&die(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&reserveArrayBuffer(n+o+1)},e.spliceWithArray_=function(n,o,s){var a=this;this.atom_;var c=this.values_.length;if(n===void 0?n=0:n>c?n=c:n<0&&(n=Math.max(0,c+n)),arguments.length===1?o=c-n:o==null?o=0:o=Math.max(0,Math.min(o,c-n)),s===void 0&&(s=EMPTY_ARRAY),hasInterceptors(this)){var d=interceptChange(this,{object:this.proxy_,type:SPLICE,index:n,removedCount:o,added:s});if(!d)return EMPTY_ARRAY;o=d.removedCount,s=d.added}if(s=s.length===0?s:s.map(function(vr){return a.enhancer_(vr,void 0)}),this.legacyMode_){var m=s.length-o;this.updateArrayLength_(c,m)}var gr=this.spliceItemsIntoValues_(n,o,s);return(o!==0||s.length!==0)&&this.notifyArraySplice_(n,s,gr),this.dehanceValues_(gr)},e.spliceItemsIntoValues_=function(n,o,s){if(s.length<MAX_SPLICE_SIZE){var a;return(a=this.values_).splice.apply(a,[n,o].concat(s))}else{var c=this.values_.slice(n,n+o),d=this.values_.slice(n+o);this.values_.length+=s.length-o;for(var m=0;m<s.length;m++)this.values_[n+m]=s[m];for(var gr=0;gr<d.length;gr++)this.values_[n+s.length+gr]=d[gr];return c}},e.notifyArrayChildUpdate_=function(n,o,s){var a=!this.owned_&&isSpyEnabled(),c=hasListeners(this),d=c||a?{observableKind:"array",object:this.proxy_,type:UPDATE,debugObjectName:this.atom_.name_,index:n,newValue:o,oldValue:s}:null;this.atom_.reportChanged(),c&&notifyListeners(this,d)},e.notifyArraySplice_=function(n,o,s){var a=!this.owned_&&isSpyEnabled(),c=hasListeners(this),d=c||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:SPLICE,index:n,removed:s,added:o,removedCount:s.length,addedCount:o.length}:null;this.atom_.reportChanged(),c&&notifyListeners(this,d)},e.get_=function(n){if(this.legacyMode_&&n>=this.values_.length){console.warn("[mobx] Out of bounds read: "+n);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n])},e.set_=function(n,o){var s=this.values_;if(this.legacyMode_&&n>s.length&&die(17,n,s.length),n<s.length){this.atom_;var a=s[n];if(hasInterceptors(this)){var c=interceptChange(this,{type:UPDATE,object:this.proxy_,index:n,newValue:o});if(!c)return;o=c.newValue}o=this.enhancer_(o,a);var d=o!==a;d&&(s[n]=o,this.notifyArrayChildUpdate_(n,o,a))}else{for(var m=new Array(n+1-s.length),gr=0;gr<m.length-1;gr++)m[gr]=void 0;m[m.length-1]=o,this.spliceWithArray_(s.length,0,m)}},t}();function createObservableArray(t,e,r,n){return r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),assertProxies(),initObservable(function(){var o=new ObservableArrayAdministration(r,e,n,!1);addHiddenFinalProp(o.values_,$mobx,o);var s=new Proxy(o.values_,arrayTraps);return o.proxy_=s,t&&t.length&&o.spliceWithArray_(0,0,t),s})}var arrayExtensions={clear:function t(){return this.splice(0)},replace:function t(e){var r=this[$mobx];return r.spliceWithArray_(0,r.values_.length,e)},toJSON:function t(){return this.slice()},splice:function t(e,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];var a=this[$mobx];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,r)}return a.spliceWithArray_(e,r,o)},spliceWithArray:function t(e,r,n){return this[$mobx].spliceWithArray_(e,r,n)},push:function t(){for(var e=this[$mobx],r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function t(){return this.splice(Math.max(this[$mobx].values_.length-1,0),1)[0]},shift:function t(){return this.splice(0,1)[0]},unshift:function t(){for(var e=this[$mobx],r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function t(){return globalState.trackingDerivation&&die(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function t(){globalState.trackingDerivation&&die(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function t(e){var r=this[$mobx],n=r.dehanceValues_(r.values_).indexOf(e);return n>-1?(this.splice(n,1),!0):!1}};addArrayExtension("concat",simpleFunc);addArrayExtension("flat",simpleFunc);addArrayExtension("includes",simpleFunc);addArrayExtension("indexOf",simpleFunc);addArrayExtension("join",simpleFunc);addArrayExtension("lastIndexOf",simpleFunc);addArrayExtension("slice",simpleFunc);addArrayExtension("toString",simpleFunc);addArrayExtension("toLocaleString",simpleFunc);addArrayExtension("every",mapLikeFunc);addArrayExtension("filter",mapLikeFunc);addArrayExtension("find",mapLikeFunc);addArrayExtension("findIndex",mapLikeFunc);addArrayExtension("flatMap",mapLikeFunc);addArrayExtension("forEach",mapLikeFunc);addArrayExtension("map",mapLikeFunc);addArrayExtension("some",mapLikeFunc);addArrayExtension("reduce",reduceLikeFunc);addArrayExtension("reduceRight",reduceLikeFunc);function addArrayExtension(t,e){typeof Array.prototype[t]=="function"&&(arrayExtensions[t]=e(t))}function simpleFunc(t){return function(){var e=this[$mobx];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_);return r[t].apply(r,arguments)}}function mapLikeFunc(t){return function(e,r){var n=this,o=this[$mobx];o.atom_.reportObserved();var s=o.dehanceValues_(o.values_);return s[t](function(a,c){return e.call(r,a,c,n)})}}function reduceLikeFunc(t){return function(){var e=this,r=this[$mobx];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),o=arguments[0];return arguments[0]=function(s,a,c){return o(s,a,c,e)},n[t].apply(n,arguments)}}var isObservableArrayAdministration=createInstanceofPredicate("ObservableArrayAdministration",ObservableArrayAdministration);function isObservableArray(t){return isObject(t)&&isObservableArrayAdministration(t[$mobx])}var _Symbol$iterator,_Symbol$toStringTag,ObservableMapMarker={},ADD="add",DELETE="delete";_Symbol$iterator=Symbol.iterator;_Symbol$toStringTag=Symbol.toStringTag;var ObservableMap=function(){function t(r,n,o){var s=this;n===void 0&&(n=deepEnhancer),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$mobx]=ObservableMapMarker,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=o,isFunction(Map)||die(18),initObservable(function(){s.keysAtom_=createAtom("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,r&&s.merge(r)})}var e=t.prototype;return e.has_=function(n){return this.data_.has(n)},e.has=function(n){var o=this;if(!globalState.trackingDerivation)return this.has_(n);var s=this.hasMap_.get(n);if(!s){var a=s=new ObservableValue(this.has_(n),referenceEnhancer,"ObservableMap.key?",!1);this.hasMap_.set(n,a),onBecomeUnobserved(a,function(){return o.hasMap_.delete(n)})}return s.get()},e.set=function(n,o){var s=this.has_(n);if(hasInterceptors(this)){var a=interceptChange(this,{type:s?UPDATE:ADD,object:this,newValue:o,name:n});if(!a)return this;o=a.newValue}return s?this.updateValue_(n,o):this.addValue_(n,o),this},e.delete=function(n){var o=this;if(this.keysAtom_,hasInterceptors(this)){var s=interceptChange(this,{type:DELETE,object:this,name:n});if(!s)return!1}if(this.has_(n)){var a=isSpyEnabled(),c=hasListeners(this),d=c||a?{observableKind:"map",debugObjectName:this.name_,type:DELETE,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return transaction(function(){var m;o.keysAtom_.reportChanged(),(m=o.hasMap_.get(n))==null||m.setNewValue_(!1);var gr=o.data_.get(n);gr.setNewValue_(void 0),o.data_.delete(n)}),c&&notifyListeners(this,d),!0}return!1},e.updateValue_=function(n,o){var s=this.data_.get(n);if(o=s.prepareNewValue_(o),o!==globalState.UNCHANGED){var a=isSpyEnabled(),c=hasListeners(this),d=c||a?{observableKind:"map",debugObjectName:this.name_,type:UPDATE,object:this,oldValue:s.value_,name:n,newValue:o}:null;s.setNewValue_(o),c&&notifyListeners(this,d)}},e.addValue_=function(n,o){var s=this;this.keysAtom_,transaction(function(){var m,gr=new ObservableValue(o,s.enhancer_,"ObservableMap.key",!1);s.data_.set(n,gr),o=gr.value_,(m=s.hasMap_.get(n))==null||m.setNewValue_(!0),s.keysAtom_.reportChanged()});var a=isSpyEnabled(),c=hasListeners(this),d=c||a?{observableKind:"map",debugObjectName:this.name_,type:ADD,object:this,name:n,newValue:o}:null;c&&notifyListeners(this,d)},e.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var n=this,o=this.keys();return makeIterable({next:function(){var a=o.next(),c=a.done,d=a.value;return{done:c,value:c?void 0:n.get(d)}}})},e.entries=function(){var n=this,o=this.keys();return makeIterable({next:function(){var a=o.next(),c=a.done,d=a.value;return{done:c,value:c?void 0:[d,n.get(d)]}}})},e[_Symbol$iterator]=function(){return this.entries()},e.forEach=function(n,o){for(var s=_createForOfIteratorHelperLoose(this),a;!(a=s()).done;){var c=a.value,d=c[0],m=c[1];n.call(o,m,d,this)}},e.merge=function(n){var o=this;return isObservableMap(n)&&(n=new Map(n)),transaction(function(){isPlainObject(n)?getPlainObjectKeys(n).forEach(function(s){return o.set(s,n[s])}):Array.isArray(n)?n.forEach(function(s){var a=s[0],c=s[1];return o.set(a,c)}):isES6Map(n)?(n.constructor!==Map&&die(19,n),n.forEach(function(s,a){return o.set(a,s)})):n!=null&&die(20,n)}),this},e.clear=function(){var n=this;transaction(function(){untracked(function(){for(var o=_createForOfIteratorHelperLoose(n.keys()),s;!(s=o()).done;){var a=s.value;n.delete(a)}})})},e.replace=function(n){var o=this;return transaction(function(){for(var s=convertToMap(n),a=new Map,c=!1,d=_createForOfIteratorHelperLoose(o.data_.keys()),m;!(m=d()).done;){var gr=m.value;if(!s.has(gr)){var vr=o.delete(gr);if(vr)c=!0;else{var Ar=o.data_.get(gr);a.set(gr,Ar)}}}for(var Tr=_createForOfIteratorHelperLoose(s.entries()),Rr;!(Rr=Tr()).done;){var kr=Rr.value,xr=kr[0],Dr=kr[1],Ur=o.data_.has(xr);if(o.set(xr,Dr),o.data_.has(xr)){var Cr=o.data_.get(xr);a.set(xr,Cr),Ur||(c=!0)}}if(!c)if(o.data_.size!==a.size)o.keysAtom_.reportChanged();else for(var Nr=o.data_.keys(),Hr=a.keys(),Mr=Nr.next(),Fr=Hr.next();!Mr.done;){if(Mr.value!==Fr.value){o.keysAtom_.reportChanged();break}Mr=Nr.next(),Fr=Hr.next()}o.data_=a}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(n,o){return registerListener(this,n)},e.intercept_=function(n){return registerInterceptor(this,n)},_createClass(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag,get:function(){return"Map"}}]),t}(),isObservableMap=createInstanceofPredicate("ObservableMap",ObservableMap);function convertToMap(t){if(isES6Map(t)||isObservableMap(t))return t;if(Array.isArray(t))return new Map(t);if(isPlainObject(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}else return die(21,t)}var _Symbol$iterator$1,_Symbol$toStringTag$1,ObservableSetMarker={};_Symbol$iterator$1=Symbol.iterator;_Symbol$toStringTag$1=Symbol.toStringTag;var ObservableSet=function(){function t(r,n,o){var s=this;n===void 0&&(n=deepEnhancer),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[$mobx]=ObservableSetMarker,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,isFunction(Set)||die(22),this.enhancer_=function(a,c){return n(a,c,o)},initObservable(function(){s.atom_=createAtom(s.name_),r&&s.replace(r)})}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.clear=function(){var n=this;transaction(function(){untracked(function(){for(var o=_createForOfIteratorHelperLoose(n.data_.values()),s;!(s=o()).done;){var a=s.value;n.delete(a)}})})},e.forEach=function(n,o){for(var s=_createForOfIteratorHelperLoose(this),a;!(a=s()).done;){var c=a.value;n.call(o,c,c,this)}},e.add=function(n){var o=this;if(this.atom_,hasInterceptors(this)){var s=interceptChange(this,{type:ADD,object:this,newValue:n});if(!s)return this}if(!this.has(n)){transaction(function(){o.data_.add(o.enhancer_(n,void 0)),o.atom_.reportChanged()});var a=!1,c=hasListeners(this),d=c||a?{observableKind:"set",debugObjectName:this.name_,type:ADD,object:this,newValue:n}:null;c&&notifyListeners(this,d)}return this},e.delete=function(n){var o=this;if(hasInterceptors(this)){var s=interceptChange(this,{type:DELETE,object:this,oldValue:n});if(!s)return!1}if(this.has(n)){var a=!1,c=hasListeners(this),d=c||a?{observableKind:"set",debugObjectName:this.name_,type:DELETE,object:this,oldValue:n}:null;return transaction(function(){o.atom_.reportChanged(),o.data_.delete(n)}),c&&notifyListeners(this,d),!0}return!1},e.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},e.entries=function(){var n=0,o=Array.from(this.keys()),s=Array.from(this.values());return makeIterable({next:function(){var c=n;return n+=1,c<s.length?{value:[o[c],s[c]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var n=this,o=0,s=Array.from(this.data_.values());return makeIterable({next:function(){return o<s.length?{value:n.dehanceValue_(s[o++]),done:!1}:{done:!0}}})},e.replace=function(n){var o=this;return isObservableSet(n)&&(n=new Set(n)),transaction(function(){Array.isArray(n)?(o.clear(),n.forEach(function(s){return o.add(s)})):isES6Set(n)?(o.clear(),n.forEach(function(s){return o.add(s)})):n!=null&&die("Cannot initialize set from "+n)}),this},e.observe_=function(n,o){return registerListener(this,n)},e.intercept_=function(n){return registerInterceptor(this,n)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[_Symbol$iterator$1]=function(){return this.values()},_createClass(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag$1,get:function(){return"Set"}}]),t}(),isObservableSet=createInstanceofPredicate("ObservableSet",ObservableSet),descriptorCache=Object.create(null),REMOVE="remove",ObservableObjectAdministration=function(){function t(r,n,o,s){n===void 0&&(n=new Map),s===void 0&&(s=autoAnnotation),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=o,this.defaultAnnotation_=s,this.keysAtom_=new Atom("ObservableObject.keys"),this.isPlainObject_=isPlainObject(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(n){return this.values_.get(n).get()},e.setObservablePropValue_=function(n,o){var s=this.values_.get(n);if(s instanceof ComputedValue)return s.set(o),!0;if(hasInterceptors(this)){var a=interceptChange(this,{type:UPDATE,object:this.proxy_||this.target_,name:n,newValue:o});if(!a)return null;o=a.newValue}if(o=s.prepareNewValue_(o),o!==globalState.UNCHANGED){var c=hasListeners(this),d=!1,m=c||d?{type:UPDATE,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:n,newValue:o}:null;s.setNewValue_(o),c&&notifyListeners(this,m)}return!0},e.get_=function(n){return globalState.trackingDerivation&&!hasProp(this.target_,n)&&this.has_(n),this.target_[n]},e.set_=function(n,o,s){return s===void 0&&(s=!1),hasProp(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,o):s?Reflect.set(this.target_,n,o):(this.target_[n]=o,!0):this.extend_(n,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(n){if(!globalState.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(n);return o||(o=new ObservableValue(n in this.target_,referenceEnhancer,"ObservableObject.key?",!1),this.pendingKeys_.set(n,o)),o.get()},e.make_=function(n,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(n in this.target_)){var s;if((s=this.target_[storedAnnotationsSymbol])!=null&&s[n])return;die(1,o.annotationType_,this.name_+"."+n.toString())}for(var a=this.target_;a&&a!==objectPrototype;){var c=getDescriptor(a,n);if(c){var d=o.make_(this,n,c,a);if(d===0)return;if(d===1)break}a=Object.getPrototypeOf(a)}recordAnnotationApplied(this,o,n)}},e.extend_=function(n,o,s,a){if(a===void 0&&(a=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(n,o,a);var c=s.extend_(this,n,o,a);return c&&recordAnnotationApplied(this,s,n),c},e.defineProperty_=function(n,o,s){s===void 0&&(s=!1),this.keysAtom_;try{startBatch();var a=this.delete_(n);if(!a)return a;if(hasInterceptors(this)){var c=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:ADD,newValue:o.value});if(!c)return null;var d=c.newValue;o.value!==d&&(o=_extends({},o,{value:d}))}if(s){if(!Reflect.defineProperty(this.target_,n,o))return!1}else defineProperty(this.target_,n,o);this.notifyPropertyAddition_(n,o.value)}finally{endBatch()}return!0},e.defineObservableProperty_=function(n,o,s,a){a===void 0&&(a=!1),this.keysAtom_;try{startBatch();var c=this.delete_(n);if(!c)return c;if(hasInterceptors(this)){var d=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:ADD,newValue:o});if(!d)return null;o=d.newValue}var m=getCachedObservablePropDescriptor(n),gr={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:m.get,set:m.set};if(a){if(!Reflect.defineProperty(this.target_,n,gr))return!1}else defineProperty(this.target_,n,gr);var vr=new ObservableValue(o,s,"ObservableObject.key",!1);this.values_.set(n,vr),this.notifyPropertyAddition_(n,vr.value_)}finally{endBatch()}return!0},e.defineComputedProperty_=function(n,o,s){s===void 0&&(s=!1),this.keysAtom_;try{startBatch();var a=this.delete_(n);if(!a)return a;if(hasInterceptors(this)){var c=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:ADD,newValue:void 0});if(!c)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var d=getCachedObservablePropDescriptor(n),m={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:d.get,set:d.set};if(s){if(!Reflect.defineProperty(this.target_,n,m))return!1}else defineProperty(this.target_,n,m);this.values_.set(n,new ComputedValue(o)),this.notifyPropertyAddition_(n,void 0)}finally{endBatch()}return!0},e.delete_=function(n,o){if(o===void 0&&(o=!1),this.keysAtom_,!hasProp(this.target_,n))return!0;if(hasInterceptors(this)){var s=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:REMOVE});if(!s)return null}try{var a,c;startBatch();var d=hasListeners(this),m=!1,gr=this.values_.get(n),vr=void 0;if(!gr&&(d||m)){var Ar;vr=(Ar=getDescriptor(this.target_,n))==null?void 0:Ar.value}if(o){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(gr&&(this.values_.delete(n),gr instanceof ObservableValue&&(vr=gr.value_),propagateChanged(gr)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(c=a.get(n))==null||c.set(n in this.target_),d||m){var Tr={type:REMOVE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:vr,name:n};d&&notifyListeners(this,Tr)}}finally{endBatch()}return!0},e.observe_=function(n,o){return registerListener(this,n)},e.intercept_=function(n){return registerInterceptor(this,n)},e.notifyPropertyAddition_=function(n,o){var s,a,c=hasListeners(this),d=!1;if(c||d){var m=c||d?{type:ADD,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:o}:null;c&&notifyListeners(this,m)}(s=this.pendingKeys_)==null||(a=s.get(n))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),ownKeys(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function asObservableObject(t,e){var r;if(hasProp(t,$mobx))return t;var n=(r=e==null?void 0:e.name)!=null?r:"ObservableObject",o=new ObservableObjectAdministration(t,new Map,String(n),getAnnotationFromOptions(e));return addHiddenProp$1(t,$mobx,o),t}var isObservableObjectAdministration=createInstanceofPredicate("ObservableObjectAdministration",ObservableObjectAdministration);function getCachedObservablePropDescriptor(t){return descriptorCache[t]||(descriptorCache[t]={get:function(){return this[$mobx].getObservablePropValue_(t)},set:function(r){return this[$mobx].setObservablePropValue_(t,r)}})}function isObservableObject(t){return isObject(t)?isObservableObjectAdministration(t[$mobx]):!1}function recordAnnotationApplied(t,e,r){var n;(n=t.target_[storedAnnotationsSymbol])==null||delete n[r]}var ENTRY_0=createArrayEntryDescriptor(0),safariPrototypeSetterInheritanceBug=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),OBSERVABLE_ARRAY_BUFFER_SIZE=0,StubArray=function t(){};function inherit(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}inherit(StubArray,Array.prototype);var LegacyObservableArray=function(t,e,r){_inheritsLoose(n,t);function n(s,a,c,d){var m;return c===void 0&&(c="ObservableArray"),d===void 0&&(d=!1),m=t.call(this)||this,initObservable(function(){var gr=new ObservableArrayAdministration(c,a,d,!0);gr.proxy_=_assertThisInitialized(m),addHiddenFinalProp(_assertThisInitialized(m),$mobx,gr),s&&s.length&&m.spliceWithArray(0,0,s),safariPrototypeSetterInheritanceBug&&Object.defineProperty(_assertThisInitialized(m),"0",ENTRY_0)}),m}var o=n.prototype;return o.concat=function(){this[$mobx].atom_.reportObserved();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return Array.prototype.concat.apply(this.slice(),c.map(function(m){return isObservableArray(m)?m.slice():m}))},o[r]=function(){var s=this,a=0;return makeIterable({next:function(){return a<s.length?{value:s[a++],done:!1}:{done:!0,value:void 0}}})},_createClass(n,[{key:"length",get:function(){return this[$mobx].getArrayLength_()},set:function(a){this[$mobx].setArrayLength_(a)}},{key:e,get:function(){return"Array"}}]),n}(StubArray,Symbol.toStringTag,Symbol.iterator);Object.entries(arrayExtensions).forEach(function(t){var e=t[0],r=t[1];e!=="concat"&&addHiddenProp$1(LegacyObservableArray.prototype,e,r)});function createArrayEntryDescriptor(t){return{enumerable:!1,configurable:!0,get:function(){return this[$mobx].get_(t)},set:function(r){this[$mobx].set_(t,r)}}}function createArrayBufferItem(t){defineProperty(LegacyObservableArray.prototype,""+t,createArrayEntryDescriptor(t))}function reserveArrayBuffer(t){if(t>OBSERVABLE_ARRAY_BUFFER_SIZE){for(var e=OBSERVABLE_ARRAY_BUFFER_SIZE;e<t+100;e++)createArrayBufferItem(e);OBSERVABLE_ARRAY_BUFFER_SIZE=t}}reserveArrayBuffer(1e3);function createLegacyArray(t,e,r){return new LegacyObservableArray(t,e,r)}function getAtom(t,e){if(typeof t=="object"&&t!==null){if(isObservableArray(t))return e!==void 0&&die(23),t[$mobx].atom_;if(isObservableSet(t))return t.atom_;if(isObservableMap(t)){if(e===void 0)return t.keysAtom_;var r=t.data_.get(e)||t.hasMap_.get(e);return r||die(25,e,getDebugName(t)),r}if(isObservableObject(t)){if(!e)return die(26);var n=t[$mobx].values_.get(e);return n||die(27,e,getDebugName(t)),n}if(isAtom(t)||isComputedValue(t)||isReaction(t))return t}else if(isFunction(t)&&isReaction(t[$mobx]))return t[$mobx];die(28)}function getAdministration(t,e){if(t||die(29),e!==void 0)return getAdministration(getAtom(t,e));if(isAtom(t)||isComputedValue(t)||isReaction(t)||isObservableMap(t)||isObservableSet(t))return t;if(t[$mobx])return t[$mobx];die(24,t)}function getDebugName(t,e){var r;if(e!==void 0)r=getAtom(t,e);else{if(isAction(t))return t.name;isObservableObject(t)||isObservableMap(t)||isObservableSet(t)?r=getAdministration(t):r=getAtom(t)}return r.name_}function initObservable(t){var e=untrackedStart(),r=allowStateChangesStart(!0);startBatch();try{return t()}finally{endBatch(),allowStateChangesEnd(r),untrackedEnd(e)}}var toString=objectPrototype.toString;function deepEqual(t,e,r){return r===void 0&&(r=-1),eq(t,e,r)}function eq(t,e,r,n,o){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var a=toString.call(t);if(a!==toString.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":r>=0&&r++;break}t=unwrap(t),e=unwrap(e);var c=a==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var d=t.constructor,m=e.constructor;if(d!==m&&!(isFunction(d)&&d instanceof d&&isFunction(m)&&m instanceof m)&&"constructor"in t&&"constructor"in e)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],o=o||[];for(var gr=n.length;gr--;)if(n[gr]===t)return o[gr]===e;if(n.push(t),o.push(e),c){if(gr=t.length,gr!==e.length)return!1;for(;gr--;)if(!eq(t[gr],e[gr],r-1,n,o))return!1}else{var vr=Object.keys(t),Ar;if(gr=vr.length,Object.keys(e).length!==gr)return!1;for(;gr--;)if(Ar=vr[gr],!(hasProp(e,Ar)&&eq(t[Ar],e[Ar],r-1,n,o)))return!1}return n.pop(),o.pop(),!0}function unwrap(t){return isObservableArray(t)?t.slice():isES6Map(t)||isObservableMap(t)||isES6Set(t)||isObservableSet(t)?Array.from(t.entries()):t}function makeIterable(t){return t[Symbol.iterator]=getSelf,t}function getSelf(){return this}["Symbol","Map","Set"].forEach(function(t){var e=getGlobal();typeof e[t]>"u"&&die("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy,extras:{getDebugName},$mobx});var mobx_esm=Object.freeze(Object.defineProperty({__proto__:null,$mobx,FlowCancellationError,ObservableMap,ObservableSet,Reaction,_allowStateChanges:allowStateChanges,_allowStateChangesInsideComputed:runInAction,_allowStateReadsEnd:allowStateReadsEnd,_allowStateReadsStart:allowStateReadsStart,_autoAction:autoAction,_endAction,_getAdministration:getAdministration,_getGlobalState:getGlobalState,_interceptReads:interceptReads,_isComputingDerivation:isComputingDerivation,_resetGlobalState:resetGlobalState,_startAction,action,autorun,comparer,computed,configure,createAtom,defineProperty:apiDefineProperty,entries,extendObservable,flow,flowResult,get,getAtom,getDebugName,getDependencyTree,getObserverTree,has,intercept,isAction,isBoxedObservable:isObservableValue,isComputed,isComputedProp,isFlow,isFlowCancellationError,isObservable,isObservableArray,isObservableMap,isObservableObject,isObservableProp,isObservableSet,keys,makeAutoObservable,makeObservable,observable,observe,onBecomeObserved,onBecomeUnobserved,onReactionError,override,ownKeys:apiOwnKeys,reaction,remove,runInAction,set,spy,toJS,trace,transaction,untracked,values,when},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(mobx_esm);(function(t){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.Order=t.OrderSide=void 0;const r=require$$0$1,n=e(big.exports),o=require$$1;var s;(function(c){c.Buy="buy",c.Sell="sell"})(s=t.OrderSide||(t.OrderSide={}));class a{constructor(d){this.id="",this.orderType=s.Buy,this.orderMint="",this.currencyMint="",this.currencyDecimals=0,this.price=new r.BN(0),this.orderQtyRemaining=0,this.orderOriginationQty=0,this.owner="",this.ownerAssetTokenAccount="",this.ownerCurrencyTokenAccount="",this.createdAt=0,this.slotContext=0,d&&(this.id=d.id,this.orderType=d.orderType,this.orderMint=d.orderMint,this.currencyMint=d.currencyMint,this.currencyDecimals=d.currencyDecimals,this.price=d.price,this.orderQtyRemaining=d.orderQtyRemaining,this.orderOriginationQty=d.orderOriginationQty,this.owner=d.owner,this.ownerAssetTokenAccount=d.ownerAssetTokenAccount,this.ownerCurrencyTokenAccount=d.ownerCurrencyTokenAccount,this.createdAt=d.createdAt,this.slotContext=d.slotContext),(0,o.makeObservable)(this,{orderQtyRemaining:o.observable})}get decimalDivisor(){return new n.default(10).pow(this.currencyDecimals)}get bigNumberPrice(){return new n.default(this.price.toString())}get uiPrice(){return this.bigNumberPrice.div(this.decimalDivisor).toNumber()}priceForQuantity(d=1){return this.bigNumberPrice.mul(d).div(this.decimalDivisor).toNumber()}}t.Order=a})(Order);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Order,t)})(models);var __awaiter$m=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(exchangeOrder,"__esModule",{value:!0});exchangeOrder.createExchangeInstruction=void 0;const anchor_1$f=require$$0$1,web3_js_1$5=require$$0$2,utils_1$h=utils,pda_getters_1$5=pda_getters$3,pda_getters_2=pda_getters$3,util_1$5=util,models_1$1=models;function createExchangeInstruction({connection:t,orderAccount:e,purchaseQty:r,orderTaker:n,orderTakerDepositTokenAccount:o,programId:s,expectedPrice:a,orderType:c,assetMint:d,currencyMint:m,orderInitializer:gr,saVault:vr,stakingProgramId:Ar,registeredStake:Tr,stakingAccount:Rr,extraAccounts:kr=[]}){return __awaiter$m(this,void 0,void 0,function*(){const xr=(0,utils_1$h.getMarketplaceProgram)({connection:t,programId:s}),Dr={signers:[],instructions:[]},Ur=c===models_1$1.OrderSide.Sell?new web3_js_1$5.PublicKey(d):new web3_js_1$5.PublicKey(m),Cr=c===models_1$1.OrderSide.Sell?new web3_js_1$5.PublicKey(m):new web3_js_1$5.PublicKey(d);let Nr=null,Hr=null,Mr=null,Fr=yield(0,util_1$5.getTokenAccount)(t,gr,Ur,n);"createInstruction"in Fr?(Dr.instructions.push(...Fr.createInstruction),Fr.tokenAccount instanceof anchor_1$f.web3.Keypair?(Nr=Fr.tokenAccount.publicKey,Dr.signers.push(Fr.tokenAccount)):Nr=Fr.tokenAccount):Nr=Fr.tokenAccount,Fr=yield(0,util_1$5.getTokenAccount)(t,gr,Cr,n),"createInstruction"in Fr?(Dr.instructions.push(...Fr.createInstruction),Fr.tokenAccount instanceof anchor_1$f.web3.Keypair?(Hr=Fr.tokenAccount.publicKey,Dr.signers.push(Fr.tokenAccount)):Hr=Fr.tokenAccount):Hr=Fr.tokenAccount;const[Vr]=yield(0,pda_getters_1$5.getOrderVault)(gr,Ur,s),[Xr]=yield(0,pda_getters_2.getOpenOrdersCounter)(gr,Ur,s);Fr=yield(0,util_1$5.getTokenAccount)(t,n,Ur),"createInstruction"in Fr?(Dr.instructions.push(...Fr.createInstruction),Fr.tokenAccount instanceof anchor_1$f.web3.Keypair?(Mr=Fr.tokenAccount.publicKey,Dr.signers.push(Fr.tokenAccount)):Mr=Fr.tokenAccount):Mr=Fr.tokenAccount;const Yr=c===models_1$1.OrderSide.Buy?n:gr,[tn]=yield(0,pda_getters_1$5.getFeeExemptAccount)(Yr,s),an=yield xr.methods.processExchange(new anchor_1$f.BN(r),a,Yr).accounts({orderTaker:n,orderTakerDepositTokenAccount:o,orderTakerReceiveTokenAccount:Mr,currencyMint:m,assetMint:d,orderInitializer:gr,initializerDepositTokenAccount:Nr,initializerReceiveTokenAccount:Hr,orderVaultAccount:Vr,orderAccount:e,openOrdersCounter:Xr,saVault:vr,atlasStaking:Ar,registeredStake:Tr,stakingAccount:Rr,feeReduction:tn}).remainingAccounts(kr).instruction();return Dr.instructions.push(an),Dr})}exchangeOrder.createExchangeInstruction=createExchangeInstruction;var initializeMarketplace={},__awaiter$l=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(initializeMarketplace,"__esModule",{value:!0});initializeMarketplace.createInitializeMarketInstruction=void 0;const utils_1$g=utils;function createInitializeMarketInstruction({connection:t,updateAuthorityAccount:e,programId:r}){return __awaiter$l(this,void 0,void 0,function*(){const o=[yield(0,utils_1$g.getMarketplaceProgram)({connection:t,programId:r}).methods.initializeMarketplace().accounts({updateAuthorityAccount:e}).instruction()];return{accounts:[],instructions:o}})}initializeMarketplace.createInitializeMarketInstruction=createInitializeMarketInstruction;var registerCurrency={},__awaiter$k=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(registerCurrency,"__esModule",{value:!0});registerCurrency.createRegisterCurrencyInstruction=void 0;const anchor_1$e=require$$0$1,utils_1$f=utils;function createRegisterCurrencyInstruction({connection:t,updateAuthorityAccount:e,royalty:r,saCurrencyVault:n,currencyMint:o,programId:s}){return __awaiter$k(this,void 0,void 0,function*(){const c=[yield(0,utils_1$f.getMarketplaceProgram)({connection:t,programId:s}).methods.registerCurrency(new anchor_1$e.BN(r)).accounts({updateAuthorityAccount:e,saCurrencyVault:n,currencyMint:o}).instruction()];return{accounts:[],instructions:c}})}registerCurrency.createRegisterCurrencyInstruction=createRegisterCurrencyInstruction;var royaltyTiers={},__awaiter$j=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(royaltyTiers,"__esModule",{value:!0});royaltyTiers.updateRoyaltyTier=royaltyTiers.deleteRoyaltyTier=royaltyTiers.addRoyaltyTier=void 0;const anchor_1$d=require$$0$1,utils_1$e=utils;function addRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:r,stakeAmount:n,discount:o,programId:s}){return __awaiter$j(this,void 0,void 0,function*(){const a=(0,utils_1$e.getMarketplaceProgram)({connection:t,programId:s}),c={signers:[],instructions:[]},d=yield a.methods.addRoyaltyTier(new anchor_1$d.BN(n),new anchor_1$d.BN(o)).accounts({updateAuthorityAccount:e,registeredCurrency:r}).instruction();return c.instructions.push(d),c})}royaltyTiers.addRoyaltyTier=addRoyaltyTier;function deleteRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:r,stakeAmount:n,programId:o}){return __awaiter$j(this,void 0,void 0,function*(){const s=(0,utils_1$e.getMarketplaceProgram)({connection:t,programId:o}),a={signers:[],instructions:[]},c=yield s.methods.deleteRoyaltyTier(new anchor_1$d.BN(n)).accounts({updateAuthorityAccount:e,registeredCurrency:r}).instruction();return a.instructions.push(c),a})}royaltyTiers.deleteRoyaltyTier=deleteRoyaltyTier;function updateRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:r,stakeAmount:n,discount:o,programId:s}){return __awaiter$j(this,void 0,void 0,function*(){const a=(0,utils_1$e.getMarketplaceProgram)({connection:t,programId:s}),c={signers:[],instructions:[]},d=yield a.methods.updateRoyaltyTier(new anchor_1$d.BN(n),new anchor_1$d.BN(o)).accounts({updateAuthorityAccount:e,registeredCurrency:r}).instruction();return c.instructions.push(d),c})}royaltyTiers.updateRoyaltyTier=updateRoyaltyTier;var updateCurrency={},__awaiter$i=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(updateCurrency,"__esModule",{value:!0});updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=void 0;const anchor_1$c=require$$0$1,utils_1$d=utils;function createUpdateRegisteredCurrencyRoyaltyInstruction({connection:t,updateAuthorityAccount:e,royalty:r,currencyMint:n,programId:o}){return __awaiter$i(this,void 0,void 0,function*(){return[yield(0,utils_1$d.getMarketplaceProgram)({connection:t,programId:o}).methods.updateCurrencyRoyalty(new anchor_1$c.BN(r)).accounts({updateAuthorityAccount:e,currencyMint:n}).instruction()]})}updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=createUpdateRegisteredCurrencyRoyaltyInstruction;function createUpdateRegisteredCurrencyVaultInstruction({connection:t,updateAuthorityAccount:e,saCurrencyVault:r,currencyMint:n,programId:o}){return __awaiter$i(this,void 0,void 0,function*(){return[yield(0,utils_1$d.getMarketplaceProgram)({connection:t,programId:o}).methods.updateCurrencyVault().accounts({updateAuthorityAccount:e,saCurrencyVault:r,currencyMint:n}).instruction()]})}updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=createUpdateRegisteredCurrencyVaultInstruction;var feeExempt={},__awaiter$h=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(feeExempt,"__esModule",{value:!0});feeExempt.createRemoveFeeExemptionInstruction=feeExempt.createAddFeeExemptionInstruction=void 0;const anchor_1$b=require$$0$1,utils_1$c=utils,pda_getters_1$4=pda_getters$3;function createAddFeeExemptionInstruction({connection:t,updateAuthorityAccount:e,funder:r,feeExemptTarget:n,programId:o}){return __awaiter$h(this,void 0,void 0,function*(){const s=(0,utils_1$c.getMarketplaceProgram)({connection:t,programId:o}),a={signers:[],instructions:[]},c=1e6,[d]=yield(0,pda_getters_1$4.getFeeExemptAccount)(n,o),[m]=yield(0,pda_getters_1$4.getMarketVarsAccount)(o),gr=[yield s.methods.addFeeExemption(new anchor_1$b.BN(c)).accounts({updateAuthorityMaster:e,funder:r,feeExemptTarget:n,feeExemptAccount:d,marketVarsAccount:m}).instruction()];return a.instructions.push(...gr),a})}feeExempt.createAddFeeExemptionInstruction=createAddFeeExemptionInstruction;function createRemoveFeeExemptionInstruction({connection:t,updateAuthorityAccount:e,funder:r,feeExemptTarget:n,programId:o}){return __awaiter$h(this,void 0,void 0,function*(){const s=(0,utils_1$c.getMarketplaceProgram)({connection:t,programId:o}),a={signers:[],instructions:[]},[c]=yield(0,pda_getters_1$4.getFeeExemptAccount)(n,o),[d]=yield(0,pda_getters_1$4.getMarketVarsAccount)(o),m=[yield s.methods.removeFeeExemption().accounts({updateAuthorityMaster:e,funder:r,feeExemptAccount:c,feeExemptTarget:n,marketVarsAccount:d}).instruction()];return a.instructions.push(...m),a})}feeExempt.createRemoveFeeExemptionInstruction=createRemoveFeeExemptionInstruction;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(BaseParams,t),r(cancelOrder,t),r(createOrder,t),r(deregisterCurrency,t),r(exchangeOrder,t),r(initializeMarketplace,t),r(registerCurrency,t),r(royaltyTiers,t),r(updateCurrency,t),r(feeExempt,t)})(instruction_builders);var types$2={},marketplace_accounts={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GmLogs=void 0,function(e){e.CancelOrderMemo="CancelOrderMemo",e.ExchangeMemo="ExchangeMemo",e.InitializeMemo="InitializeMemo",e.RegisterCurrencyMemo="RegisterCurrencyMemo"}(t.GmLogs||(t.GmLogs={}))})(marketplace_accounts);var services$1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GmEventType=void 0,function(e){e[e.orderAdded=0]="orderAdded",e[e.orderRemoved=1]="orderRemoved",e[e.orderModified=2]="orderModified"}(t.GmEventType||(t.GmEventType={}))})(services$1);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(gmIdl,t),r(marketplace_accounts,t),r(services$1,t)})(types$2);var services={},GmOrderbookService$1={},NOOP=function(){},IDENTITY=function(t){return t};function fail(t){throw new Error("[mobx-utils] "+t)}function invariant(t,e){e===void 0&&(e="Illegal state"),t||fail(e)}function addHiddenProp(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}var deepFields=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(deepFields(Object.getPrototypeOf(t))||[])},distinctDeepFields=function(t){var e=deepFields(t),r=e.filter(function(n,o){return e.indexOf(n)===o});return r},getAllMethodsAndProperties=function(t){return distinctDeepFields(t).filter(function(e){return e!=="constructor"&&!~e.indexOf("__")})},PENDING="pending",FULFILLED="fulfilled",REJECTED="rejected";function caseImpl(t){switch(this.state){case PENDING:return t.pending&&t.pending(this.value);case REJECTED:return t.rejected&&t.rejected(this.value);case FULFILLED:return t.fulfilled?t.fulfilled(this.value):this.value}}function fromPromise(t,e){if(invariant(arguments.length<=2,"fromPromise expects up to two arguments"),invariant(typeof t=="function"||typeof t=="object"&&t&&typeof t.then=="function","Please pass a promise or function to fromPromise"),t.isPromiseBasedObservable===!0)return t;typeof t=="function"&&(t=new Promise(t));var r=t;t.then(action("observableFromPromise-resolve",function(o){r.value=o,r.state=FULFILLED}),action("observableFromPromise-reject",function(o){r.value=o,r.state=REJECTED})),r.isPromiseBasedObservable=!0,r.case=caseImpl;var n=e&&(e.state===FULFILLED||e.state===PENDING)?e.value:void 0;return extendObservable(r,{value:n,state:PENDING},{},{deep:!1}),r}(function(t){t.reject=action("fromPromise.reject",function(r){var n=t(Promise.reject(r));return n.state=REJECTED,n.value=r,n});function e(r){r===void 0&&(r=void 0);var n=t(Promise.resolve(r));return n.state=FULFILLED,n.value=r,n}t.resolve=action("fromPromise.resolve",e)})(fromPromise||(fromPromise={}));function isPromiseBasedObservable(t){return t&&t.isPromiseBasedObservable===!0}var __spreadArrays=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,o++)n[o]=s[a];return n};function moveItem(t,e,r){if(checkIndex(t,e),checkIndex(t,r),e!==r){var n=t.slice(),o;return e<r?o=__spreadArrays(n.slice(0,e),n.slice(e+1,r+1),[n[e]],n.slice(r+1)):o=__spreadArrays(n.slice(0,r),[n[e]],n.slice(r,e),n.slice(e+1)),t.replace(o),t}}function checkIndex(t,e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var r=t.length;if(e>=r)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+r)}function lazyObservable(t,e){e===void 0&&(e=void 0);var r=!1,n=observable.box(e,{deep:!1}),o=observable.box(!1),s=function(){return r||(r=!0,allowStateChanges(!0,function(){o.set(!0)}),t(function(c){allowStateChanges(!0,function(){n.set(c),o.set(!1)})})),n.get()},a=action("lazyObservable-reset",function(){return r=!1,n.set(e),n.get()});return{current:s,refresh:function(){return r?(r=!1,s()):n.get()},reset:function(){return a()},get pending(){return o.get()}}}function fromResource(t,e,r){e===void 0&&(e=NOOP),r===void 0&&(r=void 0);var n=!1,o=!1,s=r,a=function(){n&&(n=!1,e())},c=createAtom("ResourceBasedObservable",function(){invariant(!n&&!o),n=!0,t(function(d){allowStateChanges(!0,function(){s=d,c.reportChanged()})})},a);return{current:function(){invariant(!o,"subscribingObservable has already been disposed");var d=c.reportObserved();return!d&&!n&&console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),s},dispose:function(){o=!0,a()},isAlive:function(){return n}}}var __decorate=function(t,e,r,n){var o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(o<3?a(s):o>3?a(e,r,s):a(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};function observableSymbol(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}function toStream(t,e){var r;e===void 0&&(e=!1);var n=computed(t);return r={subscribe:function(o){return typeof o=="function"?{unsubscribe:observe(n,function(s){var a=s.newValue;return o(a)},e)}:o&&typeof o=="object"&&o.next?{unsubscribe:observe(n,function(s){var a=s.newValue;return o.next(a)},e)}:{unsubscribe:function(){}}}},r[observableSymbol()]=function(){return this},r}var StreamListener=function(){function t(e,r){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),makeObservable(this),runInAction(function(){n.current=r,n.subscription=e.subscribe(n)})}return Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(t.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(t.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(t.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),__decorate([observable.ref],t.prototype,"current",void 0),__decorate([action.bound],t.prototype,"next",null),__decorate([action.bound],t.prototype,"complete",null),__decorate([action.bound],t.prototype,"error",null),t}();function fromStream(t,e){return e===void 0&&(e=void 0),new StreamListener(t,e)}var __assign=function(){return __assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign.apply(this,arguments)},__decorate$1=function(t,e,r,n){var o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(o<3?a(s):o>3?a(e,r,s):a(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},RESERVED_NAMES=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],ViewModel=function(){function t(e){var r=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(o){return r.localValues.has(o)}}),makeObservable(this),invariant(isObservableObject(e),"createViewModel expects an observable object");var n=getAllMethodsAndProperties(this);getAllMethodsAndProperties(e).forEach(function(o){var s;if(!n.includes(o)&&!(o===$mobx||o==="__mobxDidRunLazyInitializers")){if(invariant(RESERVED_NAMES.indexOf(o)===-1,"The propertyname "+o+" is reserved and cannot be used with viewModels"),isComputedProp(e,o)){var a=getAdministration(e,o),c=a.derivation.bind(r),d=(s=a.setter_)===null||s===void 0?void 0:s.bind(r);r.localComputedValues.set(o,computed(c,{set:d}))}var m=Object.getOwnPropertyDescriptor(e,o),gr=m?{enumerable:m.enumerable}:{};Object.defineProperty(r,o,__assign(__assign({},gr),{configurable:!0,get:function(){return isComputedProp(e,o)?r.localComputedValues.get(o).get():r.isPropertyDirty(o)?r.localValues.get(o):r.model[o]},set:action(function(vr){isComputedProp(e,o)?r.localComputedValues.get(o).set(vr):vr!==r.model[o]?r.localValues.set(o,vr):r.localValues.delete(o)})}))}})}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;keys(this.localValues).forEach(function(r){var n=e.localValues.get(r),o=e.model[r];isObservableArray(o)?o.replace(n):isObservableMap(o)?(o.clear(),o.merge(n)):isComputed(n)||(e.model[r]=n)}),this.localValues.clear()}}),Object.defineProperty(t.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(t.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),__decorate$1([computed],t.prototype,"isDirty",null),__decorate$1([computed],t.prototype,"changedValues",null),__decorate$1([action.bound],t.prototype,"submit",null),__decorate$1([action.bound],t.prototype,"reset",null),__decorate$1([action.bound],t.prototype,"resetProperty",null),t}();function createViewModel(t){return new ViewModel(t)}function keepAlive(t,e){var r=getAtom(t,e);if(!r)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return observe(r,function(){})}function queueProcessor(t,e,r){if(r===void 0&&(r=0),!isObservableArray(t))throw new Error("Expected observable array as first argument");isAction(e)||(e=action("queueProcessor",e));var n=function(){var o=t.slice(0);runInAction(function(){return t.splice(0)}),o.forEach(e)};return r>0?autorun(n,{delay:r}):autorun(n)}function chunkProcessor(t,e,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),!isObservableArray(t))throw new Error("Expected observable array as first argument");isAction(e)||(e=action("chunkProcessor",e));var o=function(){for(var s=function(){var a=n===0?t.length:Math.min(t.length,n),c=t.slice(0,a);runInAction(function(){return t.splice(0,a)}),e(c)};t.length>0;)s()};return r>0?autorun(o,{delay:r}):autorun(o)}var tickers={};function resetNowInternalState(){for(var t=0,e=Object.getOwnPropertyNames(tickers);t<e.length;t++){var r=e[t];tickers[r].dispose(),delete tickers[r]}}function now(t){return t===void 0&&(t=1e3),isComputingDerivation()?(tickers[t]||(typeof t=="number"?tickers[t]=createIntervalTicker(t):tickers[t]=createAnimationFrameTicker()),tickers[t].current()):Date.now()}function createIntervalTicker(t){var e;return fromResource(function(r){r(Date.now()),e=setInterval(function(){return r(Date.now())},t)},function(){clearInterval(e)},Date.now())}function createAnimationFrameTicker(){var t=fromResource(function(e){e(Date.now());function r(){window.requestAnimationFrame(function(){e(Date.now()),t.isAlive()&&r()})}r()},function(){},Date.now());return t}function expr(t){return isComputingDerivation()||console.warn("'expr' should only be used inside other reactive functions."),computed(t).get()}var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$1.apply(this,arguments)},memoizationId=0;function createTransformer(t,e){invariant(typeof t=="function"&&t.length<2,"createTransformer expects a function that accepts one argument");var r={},n=void 0,o=!1,s=void 0;typeof e=="object"?(n=e.onCleanup,o=e.keepAlive!==void 0?e.keepAlive:!1,s=e.debugNameGenerator):typeof e=="function"&&(n=e);function a(d,m){var gr,vr={};typeof e=="object"?(n=e.onCleanup,s=e.debugNameGenerator,vr=e):typeof e=="function"?n=e:(n=void 0,s=void 0);var Ar=s?s(m):"Transformer-"+t.name+"-"+d,Tr=computed(function(){return gr=t(m)},__assign$1(__assign$1({},vr),{name:Ar}));if(!o)var Rr=onBecomeUnobserved(Tr,function(){delete r[d],Rr(),n&&n(gr,m)});return Tr}var c=!1;return function(d){var m=getMemoizationId(d),gr=r[m];if(gr)return gr.get();if(!o&&!isComputingDerivation()){c||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),c=!0);var vr=t(d);return n&&n(vr,d),vr}return gr=r[m]=a(m,d),gr.get()}}function getMemoizationId(t){var e=typeof t;if(e==="string")return"string:"+t;if(e==="number")return"number:"+t;if(t===null||e!=="object"&&e!=="function")throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(t));var r=t.$transformId;return r===void 0&&(r="memoizationId:"+ ++memoizationId,addHiddenProp(t,"$transformId",r)),r}function buildPath(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function isRecursivelyObservable(t){return isObservableObject(t)||isObservableArray(t)||isObservableMap(t)}function deepObserve(t,e){var r=new WeakMap;function n(c){var d=r.get(c.object);o(c,d),e(c,buildPath(d),t)}function o(c,d){switch(c.type){case"add":s(c.newValue,d,c.name);break;case"update":a(c.oldValue),s(c.newValue,d,c.name||""+c.index);break;case"remove":case"delete":a(c.oldValue);break;case"splice":c.removed.map(a),c.added.forEach(function(vr,Ar){return s(vr,d,""+(c.index+Ar))});for(var m=c.index+c.addedCount;m<c.object.length;m++)if(isRecursivelyObservable(c.object[m])){var gr=r.get(c.object[m]);gr&&(gr.path=""+m)}break}}function s(c,d,m){if(isRecursivelyObservable(c)){var gr=r.get(c);if(gr){if(gr.parent!==d||gr.path!==m)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+buildPath(d)+"/"+m+"',")+(" but it already exists at '"+buildPath(gr.parent)+"/"+gr.path+"'"))}else{var vr={parent:d,path:m,dispose:observe(c,n)};r.set(c,vr),entries(c).forEach(function(Ar){var Tr=Ar[0],Rr=Ar[1];return s(Rr,vr,Tr)})}}}function a(c){if(isRecursivelyObservable(c)){var d=r.get(c);if(!d)return;r.delete(c),d.dispose(),values(c).forEach(a)}}return s(t,void 0,""),function(){a(t)}}var __extends=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ObservableGroupMap=function(t){__extends(e,t);function e(r,n,o){var s=o===void 0?{}:o,a=s.name,c=a===void 0?"ogm"+(Math.random()*1e3|0):a,d=s.keyToName,m=d===void 0?function(Ar){return""+Ar}:d,gr=t.call(this)||this;Object.defineProperty(gr,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(gr,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(gr,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(gr,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(gr,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),gr._keyToName=m,gr._groupBy=n,gr._ogmInfoKey=Symbol("ogmInfo"+c),gr._base=r;for(var vr=0;vr<r.length;vr++)gr._addItem(r[vr]);return gr._disposeBaseObserver=observe(gr._base,function(Ar){if(Ar.type==="splice")transaction(function(){for(var Tr=0,Rr=Ar.removed;Tr<Rr.length;Tr++){var kr=Rr[Tr];gr._removeItem(kr)}for(var xr=0,Dr=Ar.added;xr<Dr.length;xr++){var Ur=Dr[xr];gr._addItem(Ur)}});else if(Ar.type==="update")transaction(function(){gr._removeItem(Ar.oldValue),gr._addItem(Ar.newValue)});else throw new Error("illegal state")}),gr}return Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(r){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,n){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var r=0;r<this._base.length;r++){var n=this._base[r],o=n[this._ogmInfoKey];o.reaction(),delete n[this._ogmInfoKey]}}}),Object.defineProperty(e.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=t.prototype.get.call(this,r);return n===void 0&&(n=observable([],{name:"GroupArray["+this._keyToName(r)+"]",deep:!1}),t.prototype.set.call(this,r,n)),n}}),Object.defineProperty(e.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(r,n){var o=t.prototype.get.call(this,r);o.length===1?t.prototype.delete.call(this,r):(n===o.length-1||(o[n]=o[o.length-1],o[n][this._ogmInfoKey].groupArrIndex=n),o.length--)}}),Object.defineProperty(e.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=this,o=this._groupBy(r),s=this._getGroupArr(o),a={groupByValue:o,groupArrIndex:s.length,reaction:reaction(function(){return n._groupBy(r)},function(c,d){var m=r[n._ogmInfoKey];n._removeFromGroupArr(m.groupByValue,m.groupArrIndex);var gr=n._getGroupArr(c),vr=gr.length;gr.push(r),m.groupByValue=c,m.groupArrIndex=vr})};Object.defineProperty(r,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:a}),s.push(r)}}),Object.defineProperty(e.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=r[this._ogmInfoKey];this._removeFromGroupArr(n.groupByValue,n.groupArrIndex),n.reaction(),delete r[this._ogmInfoKey]}}),e}(ObservableMap),DeepMapEntry=function(){function t(e,r){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var n=this.closest=this.root=e,o=0;o<this.args.length-1&&(n=n.get(r[o]),n);o++)this.closest=n;this.closestIdx=o}return Object.defineProperty(t.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertNotDisposed();for(var r=this.args.length,n=this.closest,o=this.closestIdx;o<r-1;o++){var s=new Map;n.set(this.args[o],s),n=s}this.closestIdx=r-1,this.closest=n,n.set(this.args[r-1],e)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var r=this.root,n=[r],o=0;o<e-1;o++)r=r.get(this.args[o]),n.push(r);for(var o=n.length-1;o>0;o--)n[o].size===0&&n[o-1].delete(this.args[o-1]);this.isDisposed=!0}}),Object.defineProperty(t.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),t}(),DeepMap=function(){function t(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(t.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.argsLength===-1)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new DeepMapEntry(this.store,e)}}),t}(),__assign$2=function(){return __assign$2=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$2.apply(this,arguments)},__spreadArrays$1=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,o++)n[o]=s[a];return n};function computedFn(t,e){if(e===void 0&&(e=!1),isAction(t))throw new Error("computedFn shouldn't be used on actions");var r=!1,n=0,o=typeof e=="boolean"?{keepAlive:e}:e,s=new DeepMap;return function(){for(var a=this,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var m=s.entry(c);if(m.exists())return m.get().get();if(!o.keepAlive&&!isComputingDerivation())return!r&&getGlobalState().computedRequiresReaction&&(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),r=!0),t.apply(this,c);var gr,vr=computed(function(){return gr=t.apply(a,c)},__assign$2(__assign$2({},o),{name:"computedFn("+(o.name||t.name)+"#"+ ++n+")"}));return m.set(vr),o.keepAlive||onBecomeUnobserved(vr,function(){s.entry(c).delete(),o.onCleanup&&o.onCleanup.apply(o,__spreadArrays$1([gr],c)),gr=void 0}),vr.get()}}var mobxUtils_module=Object.freeze(Object.defineProperty({__proto__:null,FULFILLED,IDENTITY,NOOP,ObservableGroupMap,PENDING,REJECTED,ViewModel,addHiddenProp,chunkProcessor,computedFn,createTransformer,createViewModel,deepObserve,expr,fail,get fromPromise(){return fromPromise},fromResource,fromStream,getAllMethodsAndProperties,invariant,isPromiseBasedObservable,keepAlive,lazyObservable,moveItem,now,queueProcessor,resetNowInternalState,toStream},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(mobxUtils_module),lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var r,n="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",m=500,gr="__lodash_placeholder__",vr=1,Ar=2,Tr=4,Rr=1,kr=2,xr=1,Dr=2,Ur=4,Cr=8,Nr=16,Hr=32,Mr=64,Fr=128,Vr=256,Xr=512,Yr=30,tn="...",an=800,Lr=16,Er=1,Or=2,jr=3,Gr=1/0,qr=9007199254740991,Jr=17976931348623157e292,en=0/0,Kr=4294967295,Ir=Kr-1,zr=Kr>>>1,un=[["ary",Fr],["bind",xr],["bindKey",Dr],["curry",Cr],["curryRight",Nr],["flip",Xr],["partial",Hr],["partialRight",Mr],["rearg",Vr]],vn="[object Arguments]",_n="[object Array]",dn="[object AsyncFunction]",gn="[object Boolean]",yn="[object Date]",Tn="[object DOMException]",Dn="[object Error]",sn="[object Function]",cn="[object GeneratorFunction]",fn="[object Map]",Sn="[object Number]",On="[object Null]",An="[object Object]",Ln="[object Promise]",pn="[object Proxy]",kn="[object RegExp]",En="[object Set]",Un="[object String]",Fn="[object Symbol]",Kn="[object Undefined]",jn="[object WeakMap]",zn="[object WeakSet]",wr="[object ArrayBuffer]",y="[object DataView]",_r="[object Float32Array]",$r="[object Float64Array]",Br="[object Int8Array]",Wr="[object Int16Array]",Qr="[object Int32Array]",In="[object Uint8Array]",Bn="[object Uint8ClampedArray]",Cn="[object Uint16Array]",Hn="[object Uint32Array]",Mn=/\b__p \+= '';/g,vi=/\b(__p \+=) '' \+/g,qs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gi=/&(?:amp|lt|gt|quot|#39);/g,yi=/[&<>"']/g,Gs=RegExp(gi.source),wi=RegExp(yi.source),Si=/<%-([\s\S]+?)%>/g,Ys=/<%([\s\S]+?)%>/g,mi=/<%=([\s\S]+?)%>/g,Ai=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zs=/^\w*$/,Ei=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,di=/[\\^$.*+?()[\]{}|]/g,Js=RegExp(di.source),hi=/^\s+/,$i=/\s/,Xs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ti=/\{\n\/\* \[wrapped with (.+)\] \*/,Ii=/,? & /,Qs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Oi=/[()=,{}\[\]\/\s]/,Ri=/\\(\\)?/g,ea=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_i=/\w*$/,ki=/^[-+]0x[0-9a-f]+$/i,_s=/^0b[01]+$/i,bs=/^\[object .+?Constructor\]$/,vs=/^0o[0-7]+$/i,ws=/^(?:0|[1-9]\d*)$/,Ss=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ro=/($^)/,As=/['\n\r\u2028\u2029\\]/g,ko="\\ud800-\\udfff",Es="\\u0300-\\u036f",$s="\\ufe20-\\ufe2f",Ts="\\u20d0-\\u20ff",Xo=Es+$s+Ts,Qo="\\u2700-\\u27bf",es="a-z\\xdf-\\xf6\\xf8-\\xff",Is="\\xac\\xb1\\xd7\\xf7",Os="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rs="\\u2000-\\u206f",ks=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ts="A-Z\\xc0-\\xd6\\xd8-\\xde",Xc="\\ufe0e\\ufe0f",Qc=Is+Os+Rs+ks,ja="['\u2019]",wf="["+ko+"]",eu="["+Qc+"]",ta="["+Xo+"]",tu="\\d+",Sf="["+Qo+"]",ru="["+es+"]",nu="[^"+ko+Qc+tu+Qo+es+ts+"]",Ha="\\ud83c[\\udffb-\\udfff]",Af="(?:"+ta+"|"+Ha+")",iu="[^"+ko+"]",Va="(?:\\ud83c[\\udde6-\\uddff]){2}",za="[\\ud800-\\udbff][\\udc00-\\udfff]",rs="["+ts+"]",ou="\\u200d",su="(?:"+ru+"|"+nu+")",Ef="(?:"+rs+"|"+nu+")",au="(?:"+ja+"(?:d|ll|m|re|s|t|ve))?",cu="(?:"+ja+"(?:D|LL|M|RE|S|T|VE))?",uu=Af+"?",lu="["+Xc+"]?",$f="(?:"+ou+"(?:"+[iu,Va,za].join("|")+")"+lu+uu+")*",Tf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",If="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fu=lu+uu+$f,Of="(?:"+[Sf,Va,za].join("|")+")"+fu,Rf="(?:"+[iu+ta+"?",ta,Va,za,wf].join("|")+")",kf=RegExp(ja,"g"),xf=RegExp(ta,"g"),Wa=RegExp(Ha+"(?="+Ha+")|"+Rf+fu,"g"),Pf=RegExp([rs+"?"+ru+"+"+au+"(?="+[eu,rs,"$"].join("|")+")",Ef+"+"+cu+"(?="+[eu,rs+su,"$"].join("|")+")",rs+"?"+su+"+"+au,rs+"+"+cu,If,Tf,tu,Of].join("|"),"g"),Cf=RegExp("["+ou+ko+Xo+Xc+"]"),Bf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Lf=-1,fi={};fi[_r]=fi[$r]=fi[Br]=fi[Wr]=fi[Qr]=fi[In]=fi[Bn]=fi[Cn]=fi[Hn]=!0,fi[vn]=fi[_n]=fi[wr]=fi[gn]=fi[y]=fi[yn]=fi[Dn]=fi[sn]=fi[fn]=fi[Sn]=fi[An]=fi[kn]=fi[En]=fi[Un]=fi[jn]=!1;var li={};li[vn]=li[_n]=li[wr]=li[y]=li[gn]=li[yn]=li[_r]=li[$r]=li[Br]=li[Wr]=li[Qr]=li[fn]=li[Sn]=li[An]=li[kn]=li[En]=li[Un]=li[Fn]=li[In]=li[Bn]=li[Cn]=li[Hn]=!0,li[Dn]=li[sn]=li[jn]=!1;var Nf={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Df={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ff={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Uf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kf=parseFloat,jf=parseInt,du=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Hf=typeof self=="object"&&self&&self.Object===Object&&self,Ni=du||Hf||Function("return this")(),qa=e&&!e.nodeType&&e,jo=qa&&!0&&t&&!t.nodeType&&t,hu=jo&&jo.exports===qa,Ga=hu&&du.process,eo=function(){try{var mn=jo&&jo.require&&jo.require("util").types;return mn||Ga&&Ga.binding&&Ga.binding("util")}catch{}}(),pu=eo&&eo.isArrayBuffer,gu=eo&&eo.isDate,yu=eo&&eo.isMap,mu=eo&&eo.isRegExp,_u=eo&&eo.isSet,bu=eo&&eo.isTypedArray;function Gi(mn,Rn,$n){switch($n.length){case 0:return mn.call(Rn);case 1:return mn.call(Rn,$n[0]);case 2:return mn.call(Rn,$n[0],$n[1]);case 3:return mn.call(Rn,$n[0],$n[1],$n[2])}return mn.apply(Rn,$n)}function Vf(mn,Rn,$n,Wn){for(var Jn=-1,oi=mn==null?0:mn.length;++Jn<oi;){var Bi=mn[Jn];Rn(Wn,Bi,$n(Bi),mn)}return Wn}function to(mn,Rn){for(var $n=-1,Wn=mn==null?0:mn.length;++$n<Wn&&Rn(mn[$n],$n,mn)!==!1;);return mn}function zf(mn,Rn){for(var $n=mn==null?0:mn.length;$n--&&Rn(mn[$n],$n,mn)!==!1;);return mn}function vu(mn,Rn){for(var $n=-1,Wn=mn==null?0:mn.length;++$n<Wn;)if(!Rn(mn[$n],$n,mn))return!1;return!0}function xo(mn,Rn){for(var $n=-1,Wn=mn==null?0:mn.length,Jn=0,oi=[];++$n<Wn;){var Bi=mn[$n];Rn(Bi,$n,mn)&&(oi[Jn++]=Bi)}return oi}function ra(mn,Rn){var $n=mn==null?0:mn.length;return!!$n&&ns(mn,Rn,0)>-1}function Ya(mn,Rn,$n){for(var Wn=-1,Jn=mn==null?0:mn.length;++Wn<Jn;)if($n(Rn,mn[Wn]))return!0;return!1}function pi(mn,Rn){for(var $n=-1,Wn=mn==null?0:mn.length,Jn=Array(Wn);++$n<Wn;)Jn[$n]=Rn(mn[$n],$n,mn);return Jn}function Po(mn,Rn){for(var $n=-1,Wn=Rn.length,Jn=mn.length;++$n<Wn;)mn[Jn+$n]=Rn[$n];return mn}function Za(mn,Rn,$n,Wn){var Jn=-1,oi=mn==null?0:mn.length;for(Wn&&oi&&($n=mn[++Jn]);++Jn<oi;)$n=Rn($n,mn[Jn],Jn,mn);return $n}function Wf(mn,Rn,$n,Wn){var Jn=mn==null?0:mn.length;for(Wn&&Jn&&($n=mn[--Jn]);Jn--;)$n=Rn($n,mn[Jn],Jn,mn);return $n}function Ja(mn,Rn){for(var $n=-1,Wn=mn==null?0:mn.length;++$n<Wn;)if(Rn(mn[$n],$n,mn))return!0;return!1}var qf=Xa("length");function Gf(mn){return mn.split("")}function Yf(mn){return mn.match(Qs)||[]}function wu(mn,Rn,$n){var Wn;return $n(mn,function(Jn,oi,Bi){if(Rn(Jn,oi,Bi))return Wn=oi,!1}),Wn}function na(mn,Rn,$n,Wn){for(var Jn=mn.length,oi=$n+(Wn?1:-1);Wn?oi--:++oi<Jn;)if(Rn(mn[oi],oi,mn))return oi;return-1}function ns(mn,Rn,$n){return Rn===Rn?ad(mn,Rn,$n):na(mn,Su,$n)}function Zf(mn,Rn,$n,Wn){for(var Jn=$n-1,oi=mn.length;++Jn<oi;)if(Wn(mn[Jn],Rn))return Jn;return-1}function Su(mn){return mn!==mn}function Au(mn,Rn){var $n=mn==null?0:mn.length;return $n?ec(mn,Rn)/$n:en}function Xa(mn){return function(Rn){return Rn==null?r:Rn[mn]}}function Qa(mn){return function(Rn){return mn==null?r:mn[Rn]}}function Eu(mn,Rn,$n,Wn,Jn){return Jn(mn,function(oi,Bi,ci){$n=Wn?(Wn=!1,oi):Rn($n,oi,Bi,ci)}),$n}function Jf(mn,Rn){var $n=mn.length;for(mn.sort(Rn);$n--;)mn[$n]=mn[$n].value;return mn}function ec(mn,Rn){for(var $n,Wn=-1,Jn=mn.length;++Wn<Jn;){var oi=Rn(mn[Wn]);oi!==r&&($n=$n===r?oi:$n+oi)}return $n}function tc(mn,Rn){for(var $n=-1,Wn=Array(mn);++$n<mn;)Wn[$n]=Rn($n);return Wn}function Xf(mn,Rn){return pi(Rn,function($n){return[$n,mn[$n]]})}function $u(mn){return mn&&mn.slice(0,Ru(mn)+1).replace(hi,"")}function Yi(mn){return function(Rn){return mn(Rn)}}function rc(mn,Rn){return pi(Rn,function($n){return mn[$n]})}function xs(mn,Rn){return mn.has(Rn)}function Tu(mn,Rn){for(var $n=-1,Wn=mn.length;++$n<Wn&&ns(Rn,mn[$n],0)>-1;);return $n}function Iu(mn,Rn){for(var $n=mn.length;$n--&&ns(Rn,mn[$n],0)>-1;);return $n}function Qf(mn,Rn){for(var $n=mn.length,Wn=0;$n--;)mn[$n]===Rn&&++Wn;return Wn}var ed=Qa(Nf),td=Qa(Df);function rd(mn){return"\\"+Uf[mn]}function nd(mn,Rn){return mn==null?r:mn[Rn]}function os(mn){return Cf.test(mn)}function id(mn){return Bf.test(mn)}function od(mn){for(var Rn,$n=[];!(Rn=mn.next()).done;)$n.push(Rn.value);return $n}function nc(mn){var Rn=-1,$n=Array(mn.size);return mn.forEach(function(Wn,Jn){$n[++Rn]=[Jn,Wn]}),$n}function Ou(mn,Rn){return function($n){return mn(Rn($n))}}function Co(mn,Rn){for(var $n=-1,Wn=mn.length,Jn=0,oi=[];++$n<Wn;){var Bi=mn[$n];(Bi===Rn||Bi===gr)&&(mn[$n]=gr,oi[Jn++]=$n)}return oi}function ia(mn){var Rn=-1,$n=Array(mn.size);return mn.forEach(function(Wn){$n[++Rn]=Wn}),$n}function sd(mn){var Rn=-1,$n=Array(mn.size);return mn.forEach(function(Wn){$n[++Rn]=[Wn,Wn]}),$n}function ad(mn,Rn,$n){for(var Wn=$n-1,Jn=mn.length;++Wn<Jn;)if(mn[Wn]===Rn)return Wn;return-1}function cd(mn,Rn,$n){for(var Wn=$n+1;Wn--;)if(mn[Wn]===Rn)return Wn;return Wn}function ss(mn){return os(mn)?ld(mn):qf(mn)}function co(mn){return os(mn)?fd(mn):Gf(mn)}function Ru(mn){for(var Rn=mn.length;Rn--&&$i.test(mn.charAt(Rn)););return Rn}var ud=Qa(Ff);function ld(mn){for(var Rn=Wa.lastIndex=0;Wa.test(mn);)++Rn;return Rn}function fd(mn){return mn.match(Wa)||[]}function dd(mn){return mn.match(Pf)||[]}var hd=function mn(Rn){Rn=Rn==null?Ni:as.defaults(Ni.Object(),Rn,as.pick(Ni,Mf));var $n=Rn.Array,Wn=Rn.Date,Jn=Rn.Error,oi=Rn.Function,Bi=Rn.Math,ci=Rn.Object,ic=Rn.RegExp,pd=Rn.String,ro=Rn.TypeError,oa=$n.prototype,gd=oi.prototype,cs=ci.prototype,sa=Rn["__core-js_shared__"],aa=gd.toString,ai=cs.hasOwnProperty,yd=0,ku=function(){var u=/[^.]+$/.exec(sa&&sa.keys&&sa.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),ca=cs.toString,md=aa.call(ci),_d=Ni._,bd=ic("^"+aa.call(ai).replace(di,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ua=hu?Rn.Buffer:r,Bo=Rn.Symbol,la=Rn.Uint8Array,xu=ua?ua.allocUnsafe:r,fa=Ou(ci.getPrototypeOf,ci),Pu=ci.create,Cu=cs.propertyIsEnumerable,da=oa.splice,Bu=Bo?Bo.isConcatSpreadable:r,Ps=Bo?Bo.iterator:r,Ho=Bo?Bo.toStringTag:r,ha=function(){try{var u=Go(ci,"defineProperty");return u({},"",{}),u}catch{}}(),vd=Rn.clearTimeout!==Ni.clearTimeout&&Rn.clearTimeout,wd=Wn&&Wn.now!==Ni.Date.now&&Wn.now,Sd=Rn.setTimeout!==Ni.setTimeout&&Rn.setTimeout,pa=Bi.ceil,ga=Bi.floor,oc=ci.getOwnPropertySymbols,Ad=ua?ua.isBuffer:r,Mu=Rn.isFinite,Ed=oa.join,$d=Ou(ci.keys,ci),Mi=Bi.max,Fi=Bi.min,Td=Wn.now,Id=Rn.parseInt,Lu=Bi.random,Od=oa.reverse,sc=Go(Rn,"DataView"),Cs=Go(Rn,"Map"),ac=Go(Rn,"Promise"),us=Go(Rn,"Set"),Bs=Go(Rn,"WeakMap"),Ms=Go(ci,"create"),ya=Bs&&new Bs,ls={},Rd=Yo(sc),kd=Yo(Cs),xd=Yo(ac),Pd=Yo(us),Cd=Yo(Bs),ma=Bo?Bo.prototype:r,Ls=ma?ma.valueOf:r,Nu=ma?ma.toString:r;function rn(u){if(xi(u)&&!Xn(u)&&!(u instanceof ni)){if(u instanceof no)return u;if(ai.call(u,"__wrapped__"))return Dl(u)}return new no(u)}var fs=function(){function u(){}return function(br){if(!bi(br))return{};if(Pu)return Pu(br);u.prototype=br;var Sr=new u;return u.prototype=r,Sr}}();function ba(){}function no(u,br){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!br,this.__index__=0,this.__values__=r}rn.templateSettings={escape:Si,evaluate:Ys,interpolate:mi,variable:"",imports:{_:rn}},rn.prototype=ba.prototype,rn.prototype.constructor=rn,no.prototype=fs(ba.prototype),no.prototype.constructor=no;function ni(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Kr,this.__views__=[]}function Bd(){var u=new ni(this.__wrapped__);return u.__actions__=Vi(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Vi(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Vi(this.__views__),u}function Md(){if(this.__filtered__){var u=new ni(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Ld(){var u=this.__wrapped__.value(),br=this.__dir__,Sr=Xn(u),Pr=br<0,Zr=Sr?u.length:0,nn=Gh(0,Zr,this.__views__),ln=nn.start,hn=nn.end,wn=hn-ln,xn=Pr?hn:ln-1,Pn=this.__iteratees__,Nn=Pn.length,Vn=0,qn=Fi(wn,this.__takeCount__);if(!Sr||!Pr&&Zr==wn&&qn==wn)return al(u,this.__actions__);var Yn=[];e:for(;wn--&&Vn<qn;){xn+=br;for(var ei=-1,Zn=u[xn];++ei<Nn;){var ri=Pn[ei],ii=ri.iteratee,Xi=ri.type,Hi=ii(Zn);if(Xi==Or)Zn=Hi;else if(!Hi){if(Xi==Er)continue e;break e}}Yn[Vn++]=Zn}return Yn}ni.prototype=fs(ba.prototype),ni.prototype.constructor=ni;function Vo(u){var br=-1,Sr=u==null?0:u.length;for(this.clear();++br<Sr;){var Pr=u[br];this.set(Pr[0],Pr[1])}}function Nd(){this.__data__=Ms?Ms(null):{},this.size=0}function Dd(u){var br=this.has(u)&&delete this.__data__[u];return this.size-=br?1:0,br}function Fd(u){var br=this.__data__;if(Ms){var Sr=br[u];return Sr===d?r:Sr}return ai.call(br,u)?br[u]:r}function Ud(u){var br=this.__data__;return Ms?br[u]!==r:ai.call(br,u)}function Kd(u,br){var Sr=this.__data__;return this.size+=this.has(u)?0:1,Sr[u]=Ms&&br===r?d:br,this}Vo.prototype.clear=Nd,Vo.prototype.delete=Dd,Vo.prototype.get=Fd,Vo.prototype.has=Ud,Vo.prototype.set=Kd;function vo(u){var br=-1,Sr=u==null?0:u.length;for(this.clear();++br<Sr;){var Pr=u[br];this.set(Pr[0],Pr[1])}}function jd(){this.__data__=[],this.size=0}function Hd(u){var br=this.__data__,Sr=va(br,u);if(Sr<0)return!1;var Pr=br.length-1;return Sr==Pr?br.pop():da.call(br,Sr,1),--this.size,!0}function Vd(u){var br=this.__data__,Sr=va(br,u);return Sr<0?r:br[Sr][1]}function zd(u){return va(this.__data__,u)>-1}function Wd(u,br){var Sr=this.__data__,Pr=va(Sr,u);return Pr<0?(++this.size,Sr.push([u,br])):Sr[Pr][1]=br,this}vo.prototype.clear=jd,vo.prototype.delete=Hd,vo.prototype.get=Vd,vo.prototype.has=zd,vo.prototype.set=Wd;function wo(u){var br=-1,Sr=u==null?0:u.length;for(this.clear();++br<Sr;){var Pr=u[br];this.set(Pr[0],Pr[1])}}function qd(){this.size=0,this.__data__={hash:new Vo,map:new(Cs||vo),string:new Vo}}function Gd(u){var br=Pa(this,u).delete(u);return this.size-=br?1:0,br}function Yd(u){return Pa(this,u).get(u)}function Zd(u){return Pa(this,u).has(u)}function Jd(u,br){var Sr=Pa(this,u),Pr=Sr.size;return Sr.set(u,br),this.size+=Sr.size==Pr?0:1,this}wo.prototype.clear=qd,wo.prototype.delete=Gd,wo.prototype.get=Yd,wo.prototype.has=Zd,wo.prototype.set=Jd;function zo(u){var br=-1,Sr=u==null?0:u.length;for(this.__data__=new wo;++br<Sr;)this.add(u[br])}function Xd(u){return this.__data__.set(u,d),this}function Qd(u){return this.__data__.has(u)}zo.prototype.add=zo.prototype.push=Xd,zo.prototype.has=Qd;function uo(u){var br=this.__data__=new vo(u);this.size=br.size}function eh(){this.__data__=new vo,this.size=0}function th(u){var br=this.__data__,Sr=br.delete(u);return this.size=br.size,Sr}function rh(u){return this.__data__.get(u)}function nh(u){return this.__data__.has(u)}function ih(u,br){var Sr=this.__data__;if(Sr instanceof vo){var Pr=Sr.__data__;if(!Cs||Pr.length<o-1)return Pr.push([u,br]),this.size=++Sr.size,this;Sr=this.__data__=new wo(Pr)}return Sr.set(u,br),this.size=Sr.size,this}uo.prototype.clear=eh,uo.prototype.delete=th,uo.prototype.get=rh,uo.prototype.has=nh,uo.prototype.set=ih;function Du(u,br){var Sr=Xn(u),Pr=!Sr&&Zo(u),Zr=!Sr&&!Pr&&Fo(u),nn=!Sr&&!Pr&&!Zr&&gs(u),ln=Sr||Pr||Zr||nn,hn=ln?tc(u.length,pd):[],wn=hn.length;for(var xn in u)(br||ai.call(u,xn))&&!(ln&&(xn=="length"||Zr&&(xn=="offset"||xn=="parent")||nn&&(xn=="buffer"||xn=="byteLength"||xn=="byteOffset")||$o(xn,wn)))&&hn.push(xn);return hn}function Fu(u){var br=u.length;return br?u[_c(0,br-1)]:r}function oh(u,br){return Ca(Vi(u),Wo(br,0,u.length))}function sh(u){return Ca(Vi(u))}function cc(u,br,Sr){(Sr!==r&&!lo(u[br],Sr)||Sr===r&&!(br in u))&&So(u,br,Sr)}function Ns(u,br,Sr){var Pr=u[br];(!(ai.call(u,br)&&lo(Pr,Sr))||Sr===r&&!(br in u))&&So(u,br,Sr)}function va(u,br){for(var Sr=u.length;Sr--;)if(lo(u[Sr][0],br))return Sr;return-1}function ah(u,br,Sr,Pr){return Mo(u,function(Zr,nn,ln){br(Pr,Zr,Sr(Zr),ln)}),Pr}function Uu(u,br){return u&&yo(br,Li(br),u)}function ch(u,br){return u&&yo(br,Wi(br),u)}function So(u,br,Sr){br=="__proto__"&&ha?ha(u,br,{configurable:!0,enumerable:!0,value:Sr,writable:!0}):u[br]=Sr}function uc(u,br){for(var Sr=-1,Pr=br.length,Zr=$n(Pr),nn=u==null;++Sr<Pr;)Zr[Sr]=nn?r:Hc(u,br[Sr]);return Zr}function Wo(u,br,Sr){return u===u&&(Sr!==r&&(u=u<=Sr?u:Sr),br!==r&&(u=u>=br?u:br)),u}function io(u,br,Sr,Pr,Zr,nn){var ln,hn=br&vr,wn=br&Ar,xn=br&Tr;if(Sr&&(ln=Zr?Sr(u,Pr,Zr,nn):Sr(u)),ln!==r)return ln;if(!bi(u))return u;var Pn=Xn(u);if(Pn){if(ln=Zh(u),!hn)return Vi(u,ln)}else{var Nn=Ui(u),Vn=Nn==sn||Nn==cn;if(Fo(u))return ll(u,hn);if(Nn==An||Nn==vn||Vn&&!Zr){if(ln=wn||Vn?{}:Rl(u),!hn)return wn?Fh(u,ch(ln,u)):Dh(u,Uu(ln,u))}else{if(!li[Nn])return Zr?u:{};ln=Jh(u,Nn,hn)}}nn||(nn=new uo);var qn=nn.get(u);if(qn)return qn;nn.set(u,ln),of(u)?u.forEach(function(Zn){ln.add(io(Zn,br,Sr,Zn,u,nn))}):rf(u)&&u.forEach(function(Zn,ri){ln.set(ri,io(Zn,br,Sr,ri,u,nn))});var Yn=xn?wn?Rc:Oc:wn?Wi:Li,ei=Pn?r:Yn(u);return to(ei||u,function(Zn,ri){ei&&(ri=Zn,Zn=u[ri]),Ns(ln,ri,io(Zn,br,Sr,ri,u,nn))}),ln}function uh(u){var br=Li(u);return function(Sr){return Ku(Sr,u,br)}}function Ku(u,br,Sr){var Pr=Sr.length;if(u==null)return!Pr;for(u=ci(u);Pr--;){var Zr=Sr[Pr],nn=br[Zr],ln=u[Zr];if(ln===r&&!(Zr in u)||!nn(ln))return!1}return!0}function ju(u,br,Sr){if(typeof u!="function")throw new ro(a);return Vs(function(){u.apply(r,Sr)},br)}function Ds(u,br,Sr,Pr){var Zr=-1,nn=ra,ln=!0,hn=u.length,wn=[],xn=br.length;if(!hn)return wn;Sr&&(br=pi(br,Yi(Sr))),Pr?(nn=Ya,ln=!1):br.length>=o&&(nn=xs,ln=!1,br=new zo(br));e:for(;++Zr<hn;){var Pn=u[Zr],Nn=Sr==null?Pn:Sr(Pn);if(Pn=Pr||Pn!==0?Pn:0,ln&&Nn===Nn){for(var Vn=xn;Vn--;)if(br[Vn]===Nn)continue e;wn.push(Pn)}else nn(br,Nn,Pr)||wn.push(Pn)}return wn}var Mo=gl(go),Hu=gl(fc,!0);function lh(u,br){var Sr=!0;return Mo(u,function(Pr,Zr,nn){return Sr=!!br(Pr,Zr,nn),Sr}),Sr}function wa(u,br,Sr){for(var Pr=-1,Zr=u.length;++Pr<Zr;){var nn=u[Pr],ln=br(nn);if(ln!=null&&(hn===r?ln===ln&&!Ji(ln):Sr(ln,hn)))var hn=ln,wn=nn}return wn}function fh(u,br,Sr,Pr){var Zr=u.length;for(Sr=Qn(Sr),Sr<0&&(Sr=-Sr>Zr?0:Zr+Sr),Pr=Pr===r||Pr>Zr?Zr:Qn(Pr),Pr<0&&(Pr+=Zr),Pr=Sr>Pr?0:af(Pr);Sr<Pr;)u[Sr++]=br;return u}function Vu(u,br){var Sr=[];return Mo(u,function(Pr,Zr,nn){br(Pr,Zr,nn)&&Sr.push(Pr)}),Sr}function Di(u,br,Sr,Pr,Zr){var nn=-1,ln=u.length;for(Sr||(Sr=Qh),Zr||(Zr=[]);++nn<ln;){var hn=u[nn];br>0&&Sr(hn)?br>1?Di(hn,br-1,Sr,Pr,Zr):Po(Zr,hn):Pr||(Zr[Zr.length]=hn)}return Zr}var lc=yl(),zu=yl(!0);function go(u,br){return u&&lc(u,br,Li)}function fc(u,br){return u&&zu(u,br,Li)}function Sa(u,br){return xo(br,function(Sr){return To(u[Sr])})}function qo(u,br){br=No(br,u);for(var Sr=0,Pr=br.length;u!=null&&Sr<Pr;)u=u[mo(br[Sr++])];return Sr&&Sr==Pr?u:r}function Wu(u,br,Sr){var Pr=br(u);return Xn(u)?Pr:Po(Pr,Sr(u))}function Ki(u){return u==null?u===r?Kn:On:Ho&&Ho in ci(u)?qh(u):sp(u)}function dc(u,br){return u>br}function dh(u,br){return u!=null&&ai.call(u,br)}function hh(u,br){return u!=null&&br in ci(u)}function ph(u,br,Sr){return u>=Fi(br,Sr)&&u<Mi(br,Sr)}function hc(u,br,Sr){for(var Pr=Sr?Ya:ra,Zr=u[0].length,nn=u.length,ln=nn,hn=$n(nn),wn=1/0,xn=[];ln--;){var Pn=u[ln];ln&&br&&(Pn=pi(Pn,Yi(br))),wn=Fi(Pn.length,wn),hn[ln]=!Sr&&(br||Zr>=120&&Pn.length>=120)?new zo(ln&&Pn):r}Pn=u[0];var Nn=-1,Vn=hn[0];e:for(;++Nn<Zr&&xn.length<wn;){var qn=Pn[Nn],Yn=br?br(qn):qn;if(qn=Sr||qn!==0?qn:0,!(Vn?xs(Vn,Yn):Pr(xn,Yn,Sr))){for(ln=nn;--ln;){var ei=hn[ln];if(!(ei?xs(ei,Yn):Pr(u[ln],Yn,Sr)))continue e}Vn&&Vn.push(Yn),xn.push(qn)}}return xn}function gh(u,br,Sr,Pr){return go(u,function(Zr,nn,ln){br(Pr,Sr(Zr),nn,ln)}),Pr}function Fs(u,br,Sr){br=No(br,u),u=Cl(u,br);var Pr=u==null?u:u[mo(so(br))];return Pr==null?r:Gi(Pr,u,Sr)}function qu(u){return xi(u)&&Ki(u)==vn}function yh(u){return xi(u)&&Ki(u)==wr}function mh(u){return xi(u)&&Ki(u)==yn}function Us(u,br,Sr,Pr,Zr){return u===br?!0:u==null||br==null||!xi(u)&&!xi(br)?u!==u&&br!==br:_h(u,br,Sr,Pr,Us,Zr)}function _h(u,br,Sr,Pr,Zr,nn){var ln=Xn(u),hn=Xn(br),wn=ln?_n:Ui(u),xn=hn?_n:Ui(br);wn=wn==vn?An:wn,xn=xn==vn?An:xn;var Pn=wn==An,Nn=xn==An,Vn=wn==xn;if(Vn&&Fo(u)){if(!Fo(br))return!1;ln=!0,Pn=!1}if(Vn&&!Pn)return nn||(nn=new uo),ln||gs(u)?Tl(u,br,Sr,Pr,Zr,nn):zh(u,br,wn,Sr,Pr,Zr,nn);if(!(Sr&Rr)){var qn=Pn&&ai.call(u,"__wrapped__"),Yn=Nn&&ai.call(br,"__wrapped__");if(qn||Yn){var ei=qn?u.value():u,Zn=Yn?br.value():br;return nn||(nn=new uo),Zr(ei,Zn,Sr,Pr,nn)}}return Vn?(nn||(nn=new uo),Wh(u,br,Sr,Pr,Zr,nn)):!1}function bh(u){return xi(u)&&Ui(u)==fn}function pc(u,br,Sr,Pr){var Zr=Sr.length,nn=Zr,ln=!Pr;if(u==null)return!nn;for(u=ci(u);Zr--;){var hn=Sr[Zr];if(ln&&hn[2]?hn[1]!==u[hn[0]]:!(hn[0]in u))return!1}for(;++Zr<nn;){hn=Sr[Zr];var wn=hn[0],xn=u[wn],Pn=hn[1];if(ln&&hn[2]){if(xn===r&&!(wn in u))return!1}else{var Nn=new uo;if(Pr)var Vn=Pr(xn,Pn,wn,u,br,Nn);if(!(Vn===r?Us(Pn,xn,Rr|kr,Pr,Nn):Vn))return!1}}return!0}function Gu(u){if(!bi(u)||tp(u))return!1;var br=To(u)?bd:bs;return br.test(Yo(u))}function vh(u){return xi(u)&&Ki(u)==kn}function wh(u){return xi(u)&&Ui(u)==En}function Sh(u){return xi(u)&&Fa(u.length)&&!!fi[Ki(u)]}function Yu(u){return typeof u=="function"?u:u==null?qi:typeof u=="object"?Xn(u)?Xu(u[0],u[1]):Ju(u):_f(u)}function gc(u){if(!Hs(u))return $d(u);var br=[];for(var Sr in ci(u))ai.call(u,Sr)&&Sr!="constructor"&&br.push(Sr);return br}function Ah(u){if(!bi(u))return op(u);var br=Hs(u),Sr=[];for(var Pr in u)Pr=="constructor"&&(br||!ai.call(u,Pr))||Sr.push(Pr);return Sr}function yc(u,br){return u<br}function Zu(u,br){var Sr=-1,Pr=zi(u)?$n(u.length):[];return Mo(u,function(Zr,nn,ln){Pr[++Sr]=br(Zr,nn,ln)}),Pr}function Ju(u){var br=xc(u);return br.length==1&&br[0][2]?xl(br[0][0],br[0][1]):function(Sr){return Sr===u||pc(Sr,u,br)}}function Xu(u,br){return Cc(u)&&kl(br)?xl(mo(u),br):function(Sr){var Pr=Hc(Sr,u);return Pr===r&&Pr===br?Vc(Sr,u):Us(br,Pr,Rr|kr)}}function Aa(u,br,Sr,Pr,Zr){u!==br&&lc(br,function(nn,ln){if(Zr||(Zr=new uo),bi(nn))Eh(u,br,ln,Sr,Aa,Pr,Zr);else{var hn=Pr?Pr(Mc(u,ln),nn,ln+"",u,br,Zr):r;hn===r&&(hn=nn),cc(u,ln,hn)}},Wi)}function Eh(u,br,Sr,Pr,Zr,nn,ln){var hn=Mc(u,Sr),wn=Mc(br,Sr),xn=ln.get(wn);if(xn){cc(u,Sr,xn);return}var Pn=nn?nn(hn,wn,Sr+"",u,br,ln):r,Nn=Pn===r;if(Nn){var Vn=Xn(wn),qn=!Vn&&Fo(wn),Yn=!Vn&&!qn&&gs(wn);Pn=wn,Vn||qn||Yn?Xn(hn)?Pn=hn:Pi(hn)?Pn=Vi(hn):qn?(Nn=!1,Pn=ll(wn,!0)):Yn?(Nn=!1,Pn=fl(wn,!0)):Pn=[]:zs(wn)||Zo(wn)?(Pn=hn,Zo(hn)?Pn=cf(hn):(!bi(hn)||To(hn))&&(Pn=Rl(wn))):Nn=!1}Nn&&(ln.set(wn,Pn),Zr(Pn,wn,Pr,nn,ln),ln.delete(wn)),cc(u,Sr,Pn)}function Qu(u,br){var Sr=u.length;if(!!Sr)return br+=br<0?Sr:0,$o(br,Sr)?u[br]:r}function el(u,br,Sr){br.length?br=pi(br,function(nn){return Xn(nn)?function(ln){return qo(ln,nn.length===1?nn[0]:nn)}:nn}):br=[qi];var Pr=-1;br=pi(br,Yi(Gn()));var Zr=Zu(u,function(nn,ln,hn){var wn=pi(br,function(xn){return xn(nn)});return{criteria:wn,index:++Pr,value:nn}});return Jf(Zr,function(nn,ln){return Nh(nn,ln,Sr)})}function $h(u,br){return tl(u,br,function(Sr,Pr){return Vc(u,Pr)})}function tl(u,br,Sr){for(var Pr=-1,Zr=br.length,nn={};++Pr<Zr;){var ln=br[Pr],hn=qo(u,ln);Sr(hn,ln)&&Ks(nn,No(ln,u),hn)}return nn}function Th(u){return function(br){return qo(br,u)}}function mc(u,br,Sr,Pr){var Zr=Pr?Zf:ns,nn=-1,ln=br.length,hn=u;for(u===br&&(br=Vi(br)),Sr&&(hn=pi(u,Yi(Sr)));++nn<ln;)for(var wn=0,xn=br[nn],Pn=Sr?Sr(xn):xn;(wn=Zr(hn,Pn,wn,Pr))>-1;)hn!==u&&da.call(hn,wn,1),da.call(u,wn,1);return u}function rl(u,br){for(var Sr=u?br.length:0,Pr=Sr-1;Sr--;){var Zr=br[Sr];if(Sr==Pr||Zr!==nn){var nn=Zr;$o(Zr)?da.call(u,Zr,1):wc(u,Zr)}}return u}function _c(u,br){return u+ga(Lu()*(br-u+1))}function Ih(u,br,Sr,Pr){for(var Zr=-1,nn=Mi(pa((br-u)/(Sr||1)),0),ln=$n(nn);nn--;)ln[Pr?nn:++Zr]=u,u+=Sr;return ln}function bc(u,br){var Sr="";if(!u||br<1||br>qr)return Sr;do br%2&&(Sr+=u),br=ga(br/2),br&&(u+=u);while(br);return Sr}function ti(u,br){return Lc(Pl(u,br,qi),u+"")}function Oh(u){return Fu(ys(u))}function Rh(u,br){var Sr=ys(u);return Ca(Sr,Wo(br,0,Sr.length))}function Ks(u,br,Sr,Pr){if(!bi(u))return u;br=No(br,u);for(var Zr=-1,nn=br.length,ln=nn-1,hn=u;hn!=null&&++Zr<nn;){var wn=mo(br[Zr]),xn=Sr;if(wn==="__proto__"||wn==="constructor"||wn==="prototype")return u;if(Zr!=ln){var Pn=hn[wn];xn=Pr?Pr(Pn,wn,hn):r,xn===r&&(xn=bi(Pn)?Pn:$o(br[Zr+1])?[]:{})}Ns(hn,wn,xn),hn=hn[wn]}return u}var nl=ya?function(u,br){return ya.set(u,br),u}:qi,kh=ha?function(u,br){return ha(u,"toString",{configurable:!0,enumerable:!1,value:Wc(br),writable:!0})}:qi;function xh(u){return Ca(ys(u))}function oo(u,br,Sr){var Pr=-1,Zr=u.length;br<0&&(br=-br>Zr?0:Zr+br),Sr=Sr>Zr?Zr:Sr,Sr<0&&(Sr+=Zr),Zr=br>Sr?0:Sr-br>>>0,br>>>=0;for(var nn=$n(Zr);++Pr<Zr;)nn[Pr]=u[Pr+br];return nn}function Ph(u,br){var Sr;return Mo(u,function(Pr,Zr,nn){return Sr=br(Pr,Zr,nn),!Sr}),!!Sr}function Ea(u,br,Sr){var Pr=0,Zr=u==null?Pr:u.length;if(typeof br=="number"&&br===br&&Zr<=zr){for(;Pr<Zr;){var nn=Pr+Zr>>>1,ln=u[nn];ln!==null&&!Ji(ln)&&(Sr?ln<=br:ln<br)?Pr=nn+1:Zr=nn}return Zr}return vc(u,br,qi,Sr)}function vc(u,br,Sr,Pr){var Zr=0,nn=u==null?0:u.length;if(nn===0)return 0;br=Sr(br);for(var ln=br!==br,hn=br===null,wn=Ji(br),xn=br===r;Zr<nn;){var Pn=ga((Zr+nn)/2),Nn=Sr(u[Pn]),Vn=Nn!==r,qn=Nn===null,Yn=Nn===Nn,ei=Ji(Nn);if(ln)var Zn=Pr||Yn;else xn?Zn=Yn&&(Pr||Vn):hn?Zn=Yn&&Vn&&(Pr||!qn):wn?Zn=Yn&&Vn&&!qn&&(Pr||!ei):qn||ei?Zn=!1:Zn=Pr?Nn<=br:Nn<br;Zn?Zr=Pn+1:nn=Pn}return Fi(nn,Ir)}function il(u,br){for(var Sr=-1,Pr=u.length,Zr=0,nn=[];++Sr<Pr;){var ln=u[Sr],hn=br?br(ln):ln;if(!Sr||!lo(hn,wn)){var wn=hn;nn[Zr++]=ln===0?0:ln}}return nn}function ol(u){return typeof u=="number"?u:Ji(u)?en:+u}function Zi(u){if(typeof u=="string")return u;if(Xn(u))return pi(u,Zi)+"";if(Ji(u))return Nu?Nu.call(u):"";var br=u+"";return br=="0"&&1/u==-Gr?"-0":br}function Lo(u,br,Sr){var Pr=-1,Zr=ra,nn=u.length,ln=!0,hn=[],wn=hn;if(Sr)ln=!1,Zr=Ya;else if(nn>=o){var xn=br?null:Hh(u);if(xn)return ia(xn);ln=!1,Zr=xs,wn=new zo}else wn=br?[]:hn;e:for(;++Pr<nn;){var Pn=u[Pr],Nn=br?br(Pn):Pn;if(Pn=Sr||Pn!==0?Pn:0,ln&&Nn===Nn){for(var Vn=wn.length;Vn--;)if(wn[Vn]===Nn)continue e;br&&wn.push(Nn),hn.push(Pn)}else Zr(wn,Nn,Sr)||(wn!==hn&&wn.push(Nn),hn.push(Pn))}return hn}function wc(u,br){return br=No(br,u),u=Cl(u,br),u==null||delete u[mo(so(br))]}function sl(u,br,Sr,Pr){return Ks(u,br,Sr(qo(u,br)),Pr)}function $a(u,br,Sr,Pr){for(var Zr=u.length,nn=Pr?Zr:-1;(Pr?nn--:++nn<Zr)&&br(u[nn],nn,u););return Sr?oo(u,Pr?0:nn,Pr?nn+1:Zr):oo(u,Pr?nn+1:0,Pr?Zr:nn)}function al(u,br){var Sr=u;return Sr instanceof ni&&(Sr=Sr.value()),Za(br,function(Pr,Zr){return Zr.func.apply(Zr.thisArg,Po([Pr],Zr.args))},Sr)}function Sc(u,br,Sr){var Pr=u.length;if(Pr<2)return Pr?Lo(u[0]):[];for(var Zr=-1,nn=$n(Pr);++Zr<Pr;)for(var ln=u[Zr],hn=-1;++hn<Pr;)hn!=Zr&&(nn[Zr]=Ds(nn[Zr]||ln,u[hn],br,Sr));return Lo(Di(nn,1),br,Sr)}function cl(u,br,Sr){for(var Pr=-1,Zr=u.length,nn=br.length,ln={};++Pr<Zr;){var hn=Pr<nn?br[Pr]:r;Sr(ln,u[Pr],hn)}return ln}function Ac(u){return Pi(u)?u:[]}function Ec(u){return typeof u=="function"?u:qi}function No(u,br){return Xn(u)?u:Cc(u,br)?[u]:Nl(si(u))}var Ch=ti;function Do(u,br,Sr){var Pr=u.length;return Sr=Sr===r?Pr:Sr,!br&&Sr>=Pr?u:oo(u,br,Sr)}var ul=vd||function(u){return Ni.clearTimeout(u)};function ll(u,br){if(br)return u.slice();var Sr=u.length,Pr=xu?xu(Sr):new u.constructor(Sr);return u.copy(Pr),Pr}function $c(u){var br=new u.constructor(u.byteLength);return new la(br).set(new la(u)),br}function Bh(u,br){var Sr=br?$c(u.buffer):u.buffer;return new u.constructor(Sr,u.byteOffset,u.byteLength)}function Mh(u){var br=new u.constructor(u.source,_i.exec(u));return br.lastIndex=u.lastIndex,br}function Lh(u){return Ls?ci(Ls.call(u)):{}}function fl(u,br){var Sr=br?$c(u.buffer):u.buffer;return new u.constructor(Sr,u.byteOffset,u.length)}function dl(u,br){if(u!==br){var Sr=u!==r,Pr=u===null,Zr=u===u,nn=Ji(u),ln=br!==r,hn=br===null,wn=br===br,xn=Ji(br);if(!hn&&!xn&&!nn&&u>br||nn&&ln&&wn&&!hn&&!xn||Pr&&ln&&wn||!Sr&&wn||!Zr)return 1;if(!Pr&&!nn&&!xn&&u<br||xn&&Sr&&Zr&&!Pr&&!nn||hn&&Sr&&Zr||!ln&&Zr||!wn)return-1}return 0}function Nh(u,br,Sr){for(var Pr=-1,Zr=u.criteria,nn=br.criteria,ln=Zr.length,hn=Sr.length;++Pr<ln;){var wn=dl(Zr[Pr],nn[Pr]);if(wn){if(Pr>=hn)return wn;var xn=Sr[Pr];return wn*(xn=="desc"?-1:1)}}return u.index-br.index}function hl(u,br,Sr,Pr){for(var Zr=-1,nn=u.length,ln=Sr.length,hn=-1,wn=br.length,xn=Mi(nn-ln,0),Pn=$n(wn+xn),Nn=!Pr;++hn<wn;)Pn[hn]=br[hn];for(;++Zr<ln;)(Nn||Zr<nn)&&(Pn[Sr[Zr]]=u[Zr]);for(;xn--;)Pn[hn++]=u[Zr++];return Pn}function pl(u,br,Sr,Pr){for(var Zr=-1,nn=u.length,ln=-1,hn=Sr.length,wn=-1,xn=br.length,Pn=Mi(nn-hn,0),Nn=$n(Pn+xn),Vn=!Pr;++Zr<Pn;)Nn[Zr]=u[Zr];for(var qn=Zr;++wn<xn;)Nn[qn+wn]=br[wn];for(;++ln<hn;)(Vn||Zr<nn)&&(Nn[qn+Sr[ln]]=u[Zr++]);return Nn}function Vi(u,br){var Sr=-1,Pr=u.length;for(br||(br=$n(Pr));++Sr<Pr;)br[Sr]=u[Sr];return br}function yo(u,br,Sr,Pr){var Zr=!Sr;Sr||(Sr={});for(var nn=-1,ln=br.length;++nn<ln;){var hn=br[nn],wn=Pr?Pr(Sr[hn],u[hn],hn,Sr,u):r;wn===r&&(wn=u[hn]),Zr?So(Sr,hn,wn):Ns(Sr,hn,wn)}return Sr}function Dh(u,br){return yo(u,Pc(u),br)}function Fh(u,br){return yo(u,Il(u),br)}function Ta(u,br){return function(Sr,Pr){var Zr=Xn(Sr)?Vf:ah,nn=br?br():{};return Zr(Sr,u,Gn(Pr,2),nn)}}function ds(u){return ti(function(br,Sr){var Pr=-1,Zr=Sr.length,nn=Zr>1?Sr[Zr-1]:r,ln=Zr>2?Sr[2]:r;for(nn=u.length>3&&typeof nn=="function"?(Zr--,nn):r,ln&&ji(Sr[0],Sr[1],ln)&&(nn=Zr<3?r:nn,Zr=1),br=ci(br);++Pr<Zr;){var hn=Sr[Pr];hn&&u(br,hn,Pr,nn)}return br})}function gl(u,br){return function(Sr,Pr){if(Sr==null)return Sr;if(!zi(Sr))return u(Sr,Pr);for(var Zr=Sr.length,nn=br?Zr:-1,ln=ci(Sr);(br?nn--:++nn<Zr)&&Pr(ln[nn],nn,ln)!==!1;);return Sr}}function yl(u){return function(br,Sr,Pr){for(var Zr=-1,nn=ci(br),ln=Pr(br),hn=ln.length;hn--;){var wn=ln[u?hn:++Zr];if(Sr(nn[wn],wn,nn)===!1)break}return br}}function Uh(u,br,Sr){var Pr=br&xr,Zr=js(u);function nn(){var ln=this&&this!==Ni&&this instanceof nn?Zr:u;return ln.apply(Pr?Sr:this,arguments)}return nn}function ml(u){return function(br){br=si(br);var Sr=os(br)?co(br):r,Pr=Sr?Sr[0]:br.charAt(0),Zr=Sr?Do(Sr,1).join(""):br.slice(1);return Pr[u]()+Zr}}function hs(u){return function(br){return Za(yf(gf(br).replace(kf,"")),u,"")}}function js(u){return function(){var br=arguments;switch(br.length){case 0:return new u;case 1:return new u(br[0]);case 2:return new u(br[0],br[1]);case 3:return new u(br[0],br[1],br[2]);case 4:return new u(br[0],br[1],br[2],br[3]);case 5:return new u(br[0],br[1],br[2],br[3],br[4]);case 6:return new u(br[0],br[1],br[2],br[3],br[4],br[5]);case 7:return new u(br[0],br[1],br[2],br[3],br[4],br[5],br[6])}var Sr=fs(u.prototype),Pr=u.apply(Sr,br);return bi(Pr)?Pr:Sr}}function Kh(u,br,Sr){var Pr=js(u);function Zr(){for(var nn=arguments.length,ln=$n(nn),hn=nn,wn=ps(Zr);hn--;)ln[hn]=arguments[hn];var xn=nn<3&&ln[0]!==wn&&ln[nn-1]!==wn?[]:Co(ln,wn);if(nn-=xn.length,nn<Sr)return Sl(u,br,Ia,Zr.placeholder,r,ln,xn,r,r,Sr-nn);var Pn=this&&this!==Ni&&this instanceof Zr?Pr:u;return Gi(Pn,this,ln)}return Zr}function _l(u){return function(br,Sr,Pr){var Zr=ci(br);if(!zi(br)){var nn=Gn(Sr,3);br=Li(br),Sr=function(hn){return nn(Zr[hn],hn,Zr)}}var ln=u(br,Sr,Pr);return ln>-1?Zr[nn?br[ln]:ln]:r}}function bl(u){return Eo(function(br){var Sr=br.length,Pr=Sr,Zr=no.prototype.thru;for(u&&br.reverse();Pr--;){var nn=br[Pr];if(typeof nn!="function")throw new ro(a);if(Zr&&!ln&&xa(nn)=="wrapper")var ln=new no([],!0)}for(Pr=ln?Pr:Sr;++Pr<Sr;){nn=br[Pr];var hn=xa(nn),wn=hn=="wrapper"?kc(nn):r;wn&&Bc(wn[0])&&wn[1]==(Fr|Cr|Hr|Vr)&&!wn[4].length&&wn[9]==1?ln=ln[xa(wn[0])].apply(ln,wn[3]):ln=nn.length==1&&Bc(nn)?ln[hn]():ln.thru(nn)}return function(){var xn=arguments,Pn=xn[0];if(ln&&xn.length==1&&Xn(Pn))return ln.plant(Pn).value();for(var Nn=0,Vn=Sr?br[Nn].apply(this,xn):Pn;++Nn<Sr;)Vn=br[Nn].call(this,Vn);return Vn}})}function Ia(u,br,Sr,Pr,Zr,nn,ln,hn,wn,xn){var Pn=br&Fr,Nn=br&xr,Vn=br&Dr,qn=br&(Cr|Nr),Yn=br&Xr,ei=Vn?r:js(u);function Zn(){for(var ri=arguments.length,ii=$n(ri),Xi=ri;Xi--;)ii[Xi]=arguments[Xi];if(qn)var Hi=ps(Zn),Qi=Qf(ii,Hi);if(Pr&&(ii=hl(ii,Pr,Zr,qn)),nn&&(ii=pl(ii,nn,ln,qn)),ri-=Qi,qn&&ri<xn){var Ci=Co(ii,Hi);return Sl(u,br,Ia,Zn.placeholder,Sr,ii,Ci,hn,wn,xn-ri)}var fo=Nn?Sr:this,Oo=Vn?fo[u]:u;return ri=ii.length,hn?ii=ap(ii,hn):Yn&&ri>1&&ii.reverse(),Pn&&wn<ri&&(ii.length=wn),this&&this!==Ni&&this instanceof Zn&&(Oo=ei||js(Oo)),Oo.apply(fo,ii)}return Zn}function vl(u,br){return function(Sr,Pr){return gh(Sr,u,br(Pr),{})}}function Oa(u,br){return function(Sr,Pr){var Zr;if(Sr===r&&Pr===r)return br;if(Sr!==r&&(Zr=Sr),Pr!==r){if(Zr===r)return Pr;typeof Sr=="string"||typeof Pr=="string"?(Sr=Zi(Sr),Pr=Zi(Pr)):(Sr=ol(Sr),Pr=ol(Pr)),Zr=u(Sr,Pr)}return Zr}}function Tc(u){return Eo(function(br){return br=pi(br,Yi(Gn())),ti(function(Sr){var Pr=this;return u(br,function(Zr){return Gi(Zr,Pr,Sr)})})})}function Ra(u,br){br=br===r?" ":Zi(br);var Sr=br.length;if(Sr<2)return Sr?bc(br,u):br;var Pr=bc(br,pa(u/ss(br)));return os(br)?Do(co(Pr),0,u).join(""):Pr.slice(0,u)}function jh(u,br,Sr,Pr){var Zr=br&xr,nn=js(u);function ln(){for(var hn=-1,wn=arguments.length,xn=-1,Pn=Pr.length,Nn=$n(Pn+wn),Vn=this&&this!==Ni&&this instanceof ln?nn:u;++xn<Pn;)Nn[xn]=Pr[xn];for(;wn--;)Nn[xn++]=arguments[++hn];return Gi(Vn,Zr?Sr:this,Nn)}return ln}function wl(u){return function(br,Sr,Pr){return Pr&&typeof Pr!="number"&&ji(br,Sr,Pr)&&(Sr=Pr=r),br=Io(br),Sr===r?(Sr=br,br=0):Sr=Io(Sr),Pr=Pr===r?br<Sr?1:-1:Io(Pr),Ih(br,Sr,Pr,u)}}function ka(u){return function(br,Sr){return typeof br=="string"&&typeof Sr=="string"||(br=ao(br),Sr=ao(Sr)),u(br,Sr)}}function Sl(u,br,Sr,Pr,Zr,nn,ln,hn,wn,xn){var Pn=br&Cr,Nn=Pn?ln:r,Vn=Pn?r:ln,qn=Pn?nn:r,Yn=Pn?r:nn;br|=Pn?Hr:Mr,br&=~(Pn?Mr:Hr),br&Ur||(br&=~(xr|Dr));var ei=[u,br,Zr,qn,Nn,Yn,Vn,hn,wn,xn],Zn=Sr.apply(r,ei);return Bc(u)&&Bl(Zn,ei),Zn.placeholder=Pr,Ml(Zn,u,br)}function Ic(u){var br=Bi[u];return function(Sr,Pr){if(Sr=ao(Sr),Pr=Pr==null?0:Fi(Qn(Pr),292),Pr&&Mu(Sr)){var Zr=(si(Sr)+"e").split("e"),nn=br(Zr[0]+"e"+(+Zr[1]+Pr));return Zr=(si(nn)+"e").split("e"),+(Zr[0]+"e"+(+Zr[1]-Pr))}return br(Sr)}}var Hh=us&&1/ia(new us([,-0]))[1]==Gr?function(u){return new us(u)}:Yc;function Al(u){return function(br){var Sr=Ui(br);return Sr==fn?nc(br):Sr==En?sd(br):Xf(br,u(br))}}function Ao(u,br,Sr,Pr,Zr,nn,ln,hn){var wn=br&Dr;if(!wn&&typeof u!="function")throw new ro(a);var xn=Pr?Pr.length:0;if(xn||(br&=~(Hr|Mr),Pr=Zr=r),ln=ln===r?ln:Mi(Qn(ln),0),hn=hn===r?hn:Qn(hn),xn-=Zr?Zr.length:0,br&Mr){var Pn=Pr,Nn=Zr;Pr=Zr=r}var Vn=wn?r:kc(u),qn=[u,br,Sr,Pr,Zr,Pn,Nn,nn,ln,hn];if(Vn&&ip(qn,Vn),u=qn[0],br=qn[1],Sr=qn[2],Pr=qn[3],Zr=qn[4],hn=qn[9]=qn[9]===r?wn?0:u.length:Mi(qn[9]-xn,0),!hn&&br&(Cr|Nr)&&(br&=~(Cr|Nr)),!br||br==xr)var Yn=Uh(u,br,Sr);else br==Cr||br==Nr?Yn=Kh(u,br,hn):(br==Hr||br==(xr|Hr))&&!Zr.length?Yn=jh(u,br,Sr,Pr):Yn=Ia.apply(r,qn);var ei=Vn?nl:Bl;return Ml(ei(Yn,qn),u,br)}function El(u,br,Sr,Pr){return u===r||lo(u,cs[Sr])&&!ai.call(Pr,Sr)?br:u}function $l(u,br,Sr,Pr,Zr,nn){return bi(u)&&bi(br)&&(nn.set(br,u),Aa(u,br,r,$l,nn),nn.delete(br)),u}function Vh(u){return zs(u)?r:u}function Tl(u,br,Sr,Pr,Zr,nn){var ln=Sr&Rr,hn=u.length,wn=br.length;if(hn!=wn&&!(ln&&wn>hn))return!1;var xn=nn.get(u),Pn=nn.get(br);if(xn&&Pn)return xn==br&&Pn==u;var Nn=-1,Vn=!0,qn=Sr&kr?new zo:r;for(nn.set(u,br),nn.set(br,u);++Nn<hn;){var Yn=u[Nn],ei=br[Nn];if(Pr)var Zn=ln?Pr(ei,Yn,Nn,br,u,nn):Pr(Yn,ei,Nn,u,br,nn);if(Zn!==r){if(Zn)continue;Vn=!1;break}if(qn){if(!Ja(br,function(ri,ii){if(!xs(qn,ii)&&(Yn===ri||Zr(Yn,ri,Sr,Pr,nn)))return qn.push(ii)})){Vn=!1;break}}else if(!(Yn===ei||Zr(Yn,ei,Sr,Pr,nn))){Vn=!1;break}}return nn.delete(u),nn.delete(br),Vn}function zh(u,br,Sr,Pr,Zr,nn,ln){switch(Sr){case y:if(u.byteLength!=br.byteLength||u.byteOffset!=br.byteOffset)return!1;u=u.buffer,br=br.buffer;case wr:return!(u.byteLength!=br.byteLength||!nn(new la(u),new la(br)));case gn:case yn:case Sn:return lo(+u,+br);case Dn:return u.name==br.name&&u.message==br.message;case kn:case Un:return u==br+"";case fn:var hn=nc;case En:var wn=Pr&Rr;if(hn||(hn=ia),u.size!=br.size&&!wn)return!1;var xn=ln.get(u);if(xn)return xn==br;Pr|=kr,ln.set(u,br);var Pn=Tl(hn(u),hn(br),Pr,Zr,nn,ln);return ln.delete(u),Pn;case Fn:if(Ls)return Ls.call(u)==Ls.call(br)}return!1}function Wh(u,br,Sr,Pr,Zr,nn){var ln=Sr&Rr,hn=Oc(u),wn=hn.length,xn=Oc(br),Pn=xn.length;if(wn!=Pn&&!ln)return!1;for(var Nn=wn;Nn--;){var Vn=hn[Nn];if(!(ln?Vn in br:ai.call(br,Vn)))return!1}var qn=nn.get(u),Yn=nn.get(br);if(qn&&Yn)return qn==br&&Yn==u;var ei=!0;nn.set(u,br),nn.set(br,u);for(var Zn=ln;++Nn<wn;){Vn=hn[Nn];var ri=u[Vn],ii=br[Vn];if(Pr)var Xi=ln?Pr(ii,ri,Vn,br,u,nn):Pr(ri,ii,Vn,u,br,nn);if(!(Xi===r?ri===ii||Zr(ri,ii,Sr,Pr,nn):Xi)){ei=!1;break}Zn||(Zn=Vn=="constructor")}if(ei&&!Zn){var Hi=u.constructor,Qi=br.constructor;Hi!=Qi&&"constructor"in u&&"constructor"in br&&!(typeof Hi=="function"&&Hi instanceof Hi&&typeof Qi=="function"&&Qi instanceof Qi)&&(ei=!1)}return nn.delete(u),nn.delete(br),ei}function Eo(u){return Lc(Pl(u,r,Kl),u+"")}function Oc(u){return Wu(u,Li,Pc)}function Rc(u){return Wu(u,Wi,Il)}var kc=ya?function(u){return ya.get(u)}:Yc;function xa(u){for(var br=u.name+"",Sr=ls[br],Pr=ai.call(ls,br)?Sr.length:0;Pr--;){var Zr=Sr[Pr],nn=Zr.func;if(nn==null||nn==u)return Zr.name}return br}function ps(u){var br=ai.call(rn,"placeholder")?rn:u;return br.placeholder}function Gn(){var u=rn.iteratee||qc;return u=u===qc?Yu:u,arguments.length?u(arguments[0],arguments[1]):u}function Pa(u,br){var Sr=u.__data__;return ep(br)?Sr[typeof br=="string"?"string":"hash"]:Sr.map}function xc(u){for(var br=Li(u),Sr=br.length;Sr--;){var Pr=br[Sr],Zr=u[Pr];br[Sr]=[Pr,Zr,kl(Zr)]}return br}function Go(u,br){var Sr=nd(u,br);return Gu(Sr)?Sr:r}function qh(u){var br=ai.call(u,Ho),Sr=u[Ho];try{u[Ho]=r;var Pr=!0}catch{}var Zr=ca.call(u);return Pr&&(br?u[Ho]=Sr:delete u[Ho]),Zr}var Pc=oc?function(u){return u==null?[]:(u=ci(u),xo(oc(u),function(br){return Cu.call(u,br)}))}:Zc,Il=oc?function(u){for(var br=[];u;)Po(br,Pc(u)),u=fa(u);return br}:Zc,Ui=Ki;(sc&&Ui(new sc(new ArrayBuffer(1)))!=y||Cs&&Ui(new Cs)!=fn||ac&&Ui(ac.resolve())!=Ln||us&&Ui(new us)!=En||Bs&&Ui(new Bs)!=jn)&&(Ui=function(u){var br=Ki(u),Sr=br==An?u.constructor:r,Pr=Sr?Yo(Sr):"";if(Pr)switch(Pr){case Rd:return y;case kd:return fn;case xd:return Ln;case Pd:return En;case Cd:return jn}return br});function Gh(u,br,Sr){for(var Pr=-1,Zr=Sr.length;++Pr<Zr;){var nn=Sr[Pr],ln=nn.size;switch(nn.type){case"drop":u+=ln;break;case"dropRight":br-=ln;break;case"take":br=Fi(br,u+ln);break;case"takeRight":u=Mi(u,br-ln);break}}return{start:u,end:br}}function Yh(u){var br=u.match(Ti);return br?br[1].split(Ii):[]}function Ol(u,br,Sr){br=No(br,u);for(var Pr=-1,Zr=br.length,nn=!1;++Pr<Zr;){var ln=mo(br[Pr]);if(!(nn=u!=null&&Sr(u,ln)))break;u=u[ln]}return nn||++Pr!=Zr?nn:(Zr=u==null?0:u.length,!!Zr&&Fa(Zr)&&$o(ln,Zr)&&(Xn(u)||Zo(u)))}function Zh(u){var br=u.length,Sr=new u.constructor(br);return br&&typeof u[0]=="string"&&ai.call(u,"index")&&(Sr.index=u.index,Sr.input=u.input),Sr}function Rl(u){return typeof u.constructor=="function"&&!Hs(u)?fs(fa(u)):{}}function Jh(u,br,Sr){var Pr=u.constructor;switch(br){case wr:return $c(u);case gn:case yn:return new Pr(+u);case y:return Bh(u,Sr);case _r:case $r:case Br:case Wr:case Qr:case In:case Bn:case Cn:case Hn:return fl(u,Sr);case fn:return new Pr;case Sn:case Un:return new Pr(u);case kn:return Mh(u);case En:return new Pr;case Fn:return Lh(u)}}function Xh(u,br){var Sr=br.length;if(!Sr)return u;var Pr=Sr-1;return br[Pr]=(Sr>1?"& ":"")+br[Pr],br=br.join(Sr>2?", ":" "),u.replace(Xs,`{
/* [wrapped with `+br+`] */
`)}function Qh(u){return Xn(u)||Zo(u)||!!(Bu&&u&&u[Bu])}function $o(u,br){var Sr=typeof u;return br=br??qr,!!br&&(Sr=="number"||Sr!="symbol"&&ws.test(u))&&u>-1&&u%1==0&&u<br}function ji(u,br,Sr){if(!bi(Sr))return!1;var Pr=typeof br;return(Pr=="number"?zi(Sr)&&$o(br,Sr.length):Pr=="string"&&br in Sr)?lo(Sr[br],u):!1}function Cc(u,br){if(Xn(u))return!1;var Sr=typeof u;return Sr=="number"||Sr=="symbol"||Sr=="boolean"||u==null||Ji(u)?!0:Zs.test(u)||!Ai.test(u)||br!=null&&u in ci(br)}function ep(u){var br=typeof u;return br=="string"||br=="number"||br=="symbol"||br=="boolean"?u!=="__proto__":u===null}function Bc(u){var br=xa(u),Sr=rn[br];if(typeof Sr!="function"||!(br in ni.prototype))return!1;if(u===Sr)return!0;var Pr=kc(Sr);return!!Pr&&u===Pr[0]}function tp(u){return!!ku&&ku in u}var rp=sa?To:Jc;function Hs(u){var br=u&&u.constructor,Sr=typeof br=="function"&&br.prototype||cs;return u===Sr}function kl(u){return u===u&&!bi(u)}function xl(u,br){return function(Sr){return Sr==null?!1:Sr[u]===br&&(br!==r||u in ci(Sr))}}function np(u){var br=Na(u,function(Pr){return Sr.size===m&&Sr.clear(),Pr}),Sr=br.cache;return br}function ip(u,br){var Sr=u[1],Pr=br[1],Zr=Sr|Pr,nn=Zr<(xr|Dr|Fr),ln=Pr==Fr&&Sr==Cr||Pr==Fr&&Sr==Vr&&u[7].length<=br[8]||Pr==(Fr|Vr)&&br[7].length<=br[8]&&Sr==Cr;if(!(nn||ln))return u;Pr&xr&&(u[2]=br[2],Zr|=Sr&xr?0:Ur);var hn=br[3];if(hn){var wn=u[3];u[3]=wn?hl(wn,hn,br[4]):hn,u[4]=wn?Co(u[3],gr):br[4]}return hn=br[5],hn&&(wn=u[5],u[5]=wn?pl(wn,hn,br[6]):hn,u[6]=wn?Co(u[5],gr):br[6]),hn=br[7],hn&&(u[7]=hn),Pr&Fr&&(u[8]=u[8]==null?br[8]:Fi(u[8],br[8])),u[9]==null&&(u[9]=br[9]),u[0]=br[0],u[1]=Zr,u}function op(u){var br=[];if(u!=null)for(var Sr in ci(u))br.push(Sr);return br}function sp(u){return ca.call(u)}function Pl(u,br,Sr){return br=Mi(br===r?u.length-1:br,0),function(){for(var Pr=arguments,Zr=-1,nn=Mi(Pr.length-br,0),ln=$n(nn);++Zr<nn;)ln[Zr]=Pr[br+Zr];Zr=-1;for(var hn=$n(br+1);++Zr<br;)hn[Zr]=Pr[Zr];return hn[br]=Sr(ln),Gi(u,this,hn)}}function Cl(u,br){return br.length<2?u:qo(u,oo(br,0,-1))}function ap(u,br){for(var Sr=u.length,Pr=Fi(br.length,Sr),Zr=Vi(u);Pr--;){var nn=br[Pr];u[Pr]=$o(nn,Sr)?Zr[nn]:r}return u}function Mc(u,br){if(!(br==="constructor"&&typeof u[br]=="function")&&br!="__proto__")return u[br]}var Bl=Ll(nl),Vs=Sd||function(u,br){return Ni.setTimeout(u,br)},Lc=Ll(kh);function Ml(u,br,Sr){var Pr=br+"";return Lc(u,Xh(Pr,cp(Yh(Pr),Sr)))}function Ll(u){var br=0,Sr=0;return function(){var Pr=Td(),Zr=Lr-(Pr-Sr);if(Sr=Pr,Zr>0){if(++br>=an)return arguments[0]}else br=0;return u.apply(r,arguments)}}function Ca(u,br){var Sr=-1,Pr=u.length,Zr=Pr-1;for(br=br===r?Pr:br;++Sr<br;){var nn=_c(Sr,Zr),ln=u[nn];u[nn]=u[Sr],u[Sr]=ln}return u.length=br,u}var Nl=np(function(u){var br=[];return u.charCodeAt(0)===46&&br.push(""),u.replace(Ei,function(Sr,Pr,Zr,nn){br.push(Zr?nn.replace(Ri,"$1"):Pr||Sr)}),br});function mo(u){if(typeof u=="string"||Ji(u))return u;var br=u+"";return br=="0"&&1/u==-Gr?"-0":br}function Yo(u){if(u!=null){try{return aa.call(u)}catch{}try{return u+""}catch{}}return""}function cp(u,br){return to(un,function(Sr){var Pr="_."+Sr[0];br&Sr[1]&&!ra(u,Pr)&&u.push(Pr)}),u.sort()}function Dl(u){if(u instanceof ni)return u.clone();var br=new no(u.__wrapped__,u.__chain__);return br.__actions__=Vi(u.__actions__),br.__index__=u.__index__,br.__values__=u.__values__,br}function up(u,br,Sr){(Sr?ji(u,br,Sr):br===r)?br=1:br=Mi(Qn(br),0);var Pr=u==null?0:u.length;if(!Pr||br<1)return[];for(var Zr=0,nn=0,ln=$n(pa(Pr/br));Zr<Pr;)ln[nn++]=oo(u,Zr,Zr+=br);return ln}function lp(u){for(var br=-1,Sr=u==null?0:u.length,Pr=0,Zr=[];++br<Sr;){var nn=u[br];nn&&(Zr[Pr++]=nn)}return Zr}function fp(){var u=arguments.length;if(!u)return[];for(var br=$n(u-1),Sr=arguments[0],Pr=u;Pr--;)br[Pr-1]=arguments[Pr];return Po(Xn(Sr)?Vi(Sr):[Sr],Di(br,1))}var dp=ti(function(u,br){return Pi(u)?Ds(u,Di(br,1,Pi,!0)):[]}),hp=ti(function(u,br){var Sr=so(br);return Pi(Sr)&&(Sr=r),Pi(u)?Ds(u,Di(br,1,Pi,!0),Gn(Sr,2)):[]}),pp=ti(function(u,br){var Sr=so(br);return Pi(Sr)&&(Sr=r),Pi(u)?Ds(u,Di(br,1,Pi,!0),r,Sr):[]});function gp(u,br,Sr){var Pr=u==null?0:u.length;return Pr?(br=Sr||br===r?1:Qn(br),oo(u,br<0?0:br,Pr)):[]}function yp(u,br,Sr){var Pr=u==null?0:u.length;return Pr?(br=Sr||br===r?1:Qn(br),br=Pr-br,oo(u,0,br<0?0:br)):[]}function mp(u,br){return u&&u.length?$a(u,Gn(br,3),!0,!0):[]}function _p(u,br){return u&&u.length?$a(u,Gn(br,3),!0):[]}function bp(u,br,Sr,Pr){var Zr=u==null?0:u.length;return Zr?(Sr&&typeof Sr!="number"&&ji(u,br,Sr)&&(Sr=0,Pr=Zr),fh(u,br,Sr,Pr)):[]}function Fl(u,br,Sr){var Pr=u==null?0:u.length;if(!Pr)return-1;var Zr=Sr==null?0:Qn(Sr);return Zr<0&&(Zr=Mi(Pr+Zr,0)),na(u,Gn(br,3),Zr)}function Ul(u,br,Sr){var Pr=u==null?0:u.length;if(!Pr)return-1;var Zr=Pr-1;return Sr!==r&&(Zr=Qn(Sr),Zr=Sr<0?Mi(Pr+Zr,0):Fi(Zr,Pr-1)),na(u,Gn(br,3),Zr,!0)}function Kl(u){var br=u==null?0:u.length;return br?Di(u,1):[]}function vp(u){var br=u==null?0:u.length;return br?Di(u,Gr):[]}function wp(u,br){var Sr=u==null?0:u.length;return Sr?(br=br===r?1:Qn(br),Di(u,br)):[]}function Sp(u){for(var br=-1,Sr=u==null?0:u.length,Pr={};++br<Sr;){var Zr=u[br];Pr[Zr[0]]=Zr[1]}return Pr}function jl(u){return u&&u.length?u[0]:r}function Ap(u,br,Sr){var Pr=u==null?0:u.length;if(!Pr)return-1;var Zr=Sr==null?0:Qn(Sr);return Zr<0&&(Zr=Mi(Pr+Zr,0)),ns(u,br,Zr)}function Ep(u){var br=u==null?0:u.length;return br?oo(u,0,-1):[]}var $p=ti(function(u){var br=pi(u,Ac);return br.length&&br[0]===u[0]?hc(br):[]}),Tp=ti(function(u){var br=so(u),Sr=pi(u,Ac);return br===so(Sr)?br=r:Sr.pop(),Sr.length&&Sr[0]===u[0]?hc(Sr,Gn(br,2)):[]}),Ip=ti(function(u){var br=so(u),Sr=pi(u,Ac);return br=typeof br=="function"?br:r,br&&Sr.pop(),Sr.length&&Sr[0]===u[0]?hc(Sr,r,br):[]});function Op(u,br){return u==null?"":Ed.call(u,br)}function so(u){var br=u==null?0:u.length;return br?u[br-1]:r}function Rp(u,br,Sr){var Pr=u==null?0:u.length;if(!Pr)return-1;var Zr=Pr;return Sr!==r&&(Zr=Qn(Sr),Zr=Zr<0?Mi(Pr+Zr,0):Fi(Zr,Pr-1)),br===br?cd(u,br,Zr):na(u,Su,Zr,!0)}function kp(u,br){return u&&u.length?Qu(u,Qn(br)):r}var xp=ti(Hl);function Hl(u,br){return u&&u.length&&br&&br.length?mc(u,br):u}function Pp(u,br,Sr){return u&&u.length&&br&&br.length?mc(u,br,Gn(Sr,2)):u}function Cp(u,br,Sr){return u&&u.length&&br&&br.length?mc(u,br,r,Sr):u}var Bp=Eo(function(u,br){var Sr=u==null?0:u.length,Pr=uc(u,br);return rl(u,pi(br,function(Zr){return $o(Zr,Sr)?+Zr:Zr}).sort(dl)),Pr});function Mp(u,br){var Sr=[];if(!(u&&u.length))return Sr;var Pr=-1,Zr=[],nn=u.length;for(br=Gn(br,3);++Pr<nn;){var ln=u[Pr];br(ln,Pr,u)&&(Sr.push(ln),Zr.push(Pr))}return rl(u,Zr),Sr}function Nc(u){return u==null?u:Od.call(u)}function Lp(u,br,Sr){var Pr=u==null?0:u.length;return Pr?(Sr&&typeof Sr!="number"&&ji(u,br,Sr)?(br=0,Sr=Pr):(br=br==null?0:Qn(br),Sr=Sr===r?Pr:Qn(Sr)),oo(u,br,Sr)):[]}function Np(u,br){return Ea(u,br)}function Dp(u,br,Sr){return vc(u,br,Gn(Sr,2))}function Up(u,br){var Sr=u==null?0:u.length;if(Sr){var Pr=Ea(u,br);if(Pr<Sr&&lo(u[Pr],br))return Pr}return-1}function Kp(u,br){return Ea(u,br,!0)}function jp(u,br,Sr){return vc(u,br,Gn(Sr,2),!0)}function Hp(u,br){var Sr=u==null?0:u.length;if(Sr){var Pr=Ea(u,br,!0)-1;if(lo(u[Pr],br))return Pr}return-1}function Vp(u){return u&&u.length?il(u):[]}function zp(u,br){return u&&u.length?il(u,Gn(br,2)):[]}function Wp(u){var br=u==null?0:u.length;return br?oo(u,1,br):[]}function qp(u,br,Sr){return u&&u.length?(br=Sr||br===r?1:Qn(br),oo(u,0,br<0?0:br)):[]}function Gp(u,br,Sr){var Pr=u==null?0:u.length;return Pr?(br=Sr||br===r?1:Qn(br),br=Pr-br,oo(u,br<0?0:br,Pr)):[]}function Yp(u,br){return u&&u.length?$a(u,Gn(br,3),!1,!0):[]}function Zp(u,br){return u&&u.length?$a(u,Gn(br,3)):[]}var Jp=ti(function(u){return Lo(Di(u,1,Pi,!0))}),Xp=ti(function(u){var br=so(u);return Pi(br)&&(br=r),Lo(Di(u,1,Pi,!0),Gn(br,2))}),Qp=ti(function(u){var br=so(u);return br=typeof br=="function"?br:r,Lo(Di(u,1,Pi,!0),r,br)});function eg(u){return u&&u.length?Lo(u):[]}function tg(u,br){return u&&u.length?Lo(u,Gn(br,2)):[]}function rg(u,br){return br=typeof br=="function"?br:r,u&&u.length?Lo(u,r,br):[]}function Dc(u){if(!(u&&u.length))return[];var br=0;return u=xo(u,function(Sr){if(Pi(Sr))return br=Mi(Sr.length,br),!0}),tc(br,function(Sr){return pi(u,Xa(Sr))})}function Vl(u,br){if(!(u&&u.length))return[];var Sr=Dc(u);return br==null?Sr:pi(Sr,function(Pr){return Gi(br,r,Pr)})}var ng=ti(function(u,br){return Pi(u)?Ds(u,br):[]}),ig=ti(function(u){return Sc(xo(u,Pi))}),og=ti(function(u){var br=so(u);return Pi(br)&&(br=r),Sc(xo(u,Pi),Gn(br,2))}),sg=ti(function(u){var br=so(u);return br=typeof br=="function"?br:r,Sc(xo(u,Pi),r,br)}),ag=ti(Dc);function cg(u,br){return cl(u||[],br||[],Ns)}function ug(u,br){return cl(u||[],br||[],Ks)}var lg=ti(function(u){var br=u.length,Sr=br>1?u[br-1]:r;return Sr=typeof Sr=="function"?(u.pop(),Sr):r,Vl(u,Sr)});function zl(u){var br=rn(u);return br.__chain__=!0,br}function fg(u,br){return br(u),u}function Ba(u,br){return br(u)}var dg=Eo(function(u){var br=u.length,Sr=br?u[0]:0,Pr=this.__wrapped__,Zr=function(nn){return uc(nn,u)};return br>1||this.__actions__.length||!(Pr instanceof ni)||!$o(Sr)?this.thru(Zr):(Pr=Pr.slice(Sr,+Sr+(br?1:0)),Pr.__actions__.push({func:Ba,args:[Zr],thisArg:r}),new no(Pr,this.__chain__).thru(function(nn){return br&&!nn.length&&nn.push(r),nn}))});function hg(){return zl(this)}function pg(){return new no(this.value(),this.__chain__)}function gg(){this.__values__===r&&(this.__values__=sf(this.value()));var u=this.__index__>=this.__values__.length,br=u?r:this.__values__[this.__index__++];return{done:u,value:br}}function yg(){return this}function mg(u){for(var br,Sr=this;Sr instanceof ba;){var Pr=Dl(Sr);Pr.__index__=0,Pr.__values__=r,br?Zr.__wrapped__=Pr:br=Pr;var Zr=Pr;Sr=Sr.__wrapped__}return Zr.__wrapped__=u,br}function _g(){var u=this.__wrapped__;if(u instanceof ni){var br=u;return this.__actions__.length&&(br=new ni(this)),br=br.reverse(),br.__actions__.push({func:Ba,args:[Nc],thisArg:r}),new no(br,this.__chain__)}return this.thru(Nc)}function bg(){return al(this.__wrapped__,this.__actions__)}var vg=Ta(function(u,br,Sr){ai.call(u,Sr)?++u[Sr]:So(u,Sr,1)});function wg(u,br,Sr){var Pr=Xn(u)?vu:lh;return Sr&&ji(u,br,Sr)&&(br=r),Pr(u,Gn(br,3))}function Sg(u,br){var Sr=Xn(u)?xo:Vu;return Sr(u,Gn(br,3))}var Ag=_l(Fl),Eg=_l(Ul);function $g(u,br){return Di(Ma(u,br),1)}function Tg(u,br){return Di(Ma(u,br),Gr)}function Ig(u,br,Sr){return Sr=Sr===r?1:Qn(Sr),Di(Ma(u,br),Sr)}function Wl(u,br){var Sr=Xn(u)?to:Mo;return Sr(u,Gn(br,3))}function ql(u,br){var Sr=Xn(u)?zf:Hu;return Sr(u,Gn(br,3))}var Og=Ta(function(u,br,Sr){ai.call(u,Sr)?u[Sr].push(br):So(u,Sr,[br])});function Rg(u,br,Sr,Pr){u=zi(u)?u:ys(u),Sr=Sr&&!Pr?Qn(Sr):0;var Zr=u.length;return Sr<0&&(Sr=Mi(Zr+Sr,0)),Ua(u)?Sr<=Zr&&u.indexOf(br,Sr)>-1:!!Zr&&ns(u,br,Sr)>-1}var kg=ti(function(u,br,Sr){var Pr=-1,Zr=typeof br=="function",nn=zi(u)?$n(u.length):[];return Mo(u,function(ln){nn[++Pr]=Zr?Gi(br,ln,Sr):Fs(ln,br,Sr)}),nn}),xg=Ta(function(u,br,Sr){So(u,Sr,br)});function Ma(u,br){var Sr=Xn(u)?pi:Zu;return Sr(u,Gn(br,3))}function Pg(u,br,Sr,Pr){return u==null?[]:(Xn(br)||(br=br==null?[]:[br]),Sr=Pr?r:Sr,Xn(Sr)||(Sr=Sr==null?[]:[Sr]),el(u,br,Sr))}var Cg=Ta(function(u,br,Sr){u[Sr?0:1].push(br)},function(){return[[],[]]});function Bg(u,br,Sr){var Pr=Xn(u)?Za:Eu,Zr=arguments.length<3;return Pr(u,Gn(br,4),Sr,Zr,Mo)}function Mg(u,br,Sr){var Pr=Xn(u)?Wf:Eu,Zr=arguments.length<3;return Pr(u,Gn(br,4),Sr,Zr,Hu)}function Lg(u,br){var Sr=Xn(u)?xo:Vu;return Sr(u,Da(Gn(br,3)))}function Ng(u){var br=Xn(u)?Fu:Oh;return br(u)}function Dg(u,br,Sr){(Sr?ji(u,br,Sr):br===r)?br=1:br=Qn(br);var Pr=Xn(u)?oh:Rh;return Pr(u,br)}function Fg(u){var br=Xn(u)?sh:xh;return br(u)}function Ug(u){if(u==null)return 0;if(zi(u))return Ua(u)?ss(u):u.length;var br=Ui(u);return br==fn||br==En?u.size:gc(u).length}function Kg(u,br,Sr){var Pr=Xn(u)?Ja:Ph;return Sr&&ji(u,br,Sr)&&(br=r),Pr(u,Gn(br,3))}var jg=ti(function(u,br){if(u==null)return[];var Sr=br.length;return Sr>1&&ji(u,br[0],br[1])?br=[]:Sr>2&&ji(br[0],br[1],br[2])&&(br=[br[0]]),el(u,Di(br,1),[])}),La=wd||function(){return Ni.Date.now()};function Hg(u,br){if(typeof br!="function")throw new ro(a);return u=Qn(u),function(){if(--u<1)return br.apply(this,arguments)}}function Gl(u,br,Sr){return br=Sr?r:br,br=u&&br==null?u.length:br,Ao(u,Fr,r,r,r,r,br)}function Yl(u,br){var Sr;if(typeof br!="function")throw new ro(a);return u=Qn(u),function(){return--u>0&&(Sr=br.apply(this,arguments)),u<=1&&(br=r),Sr}}var Fc=ti(function(u,br,Sr){var Pr=xr;if(Sr.length){var Zr=Co(Sr,ps(Fc));Pr|=Hr}return Ao(u,Pr,br,Sr,Zr)}),Zl=ti(function(u,br,Sr){var Pr=xr|Dr;if(Sr.length){var Zr=Co(Sr,ps(Zl));Pr|=Hr}return Ao(br,Pr,u,Sr,Zr)});function Jl(u,br,Sr){br=Sr?r:br;var Pr=Ao(u,Cr,r,r,r,r,r,br);return Pr.placeholder=Jl.placeholder,Pr}function Xl(u,br,Sr){br=Sr?r:br;var Pr=Ao(u,Nr,r,r,r,r,r,br);return Pr.placeholder=Xl.placeholder,Pr}function Ql(u,br,Sr){var Pr,Zr,nn,ln,hn,wn,xn=0,Pn=!1,Nn=!1,Vn=!0;if(typeof u!="function")throw new ro(a);br=ao(br)||0,bi(Sr)&&(Pn=!!Sr.leading,Nn="maxWait"in Sr,nn=Nn?Mi(ao(Sr.maxWait)||0,br):nn,Vn="trailing"in Sr?!!Sr.trailing:Vn);function qn(Ci){var fo=Pr,Oo=Zr;return Pr=Zr=r,xn=Ci,ln=u.apply(Oo,fo),ln}function Yn(Ci){return xn=Ci,hn=Vs(ri,br),Pn?qn(Ci):ln}function ei(Ci){var fo=Ci-wn,Oo=Ci-xn,bf=br-fo;return Nn?Fi(bf,nn-Oo):bf}function Zn(Ci){var fo=Ci-wn,Oo=Ci-xn;return wn===r||fo>=br||fo<0||Nn&&Oo>=nn}function ri(){var Ci=La();if(Zn(Ci))return ii(Ci);hn=Vs(ri,ei(Ci))}function ii(Ci){return hn=r,Vn&&Pr?qn(Ci):(Pr=Zr=r,ln)}function Xi(){hn!==r&&ul(hn),xn=0,Pr=wn=Zr=hn=r}function Hi(){return hn===r?ln:ii(La())}function Qi(){var Ci=La(),fo=Zn(Ci);if(Pr=arguments,Zr=this,wn=Ci,fo){if(hn===r)return Yn(wn);if(Nn)return ul(hn),hn=Vs(ri,br),qn(wn)}return hn===r&&(hn=Vs(ri,br)),ln}return Qi.cancel=Xi,Qi.flush=Hi,Qi}var Vg=ti(function(u,br){return ju(u,1,br)}),zg=ti(function(u,br,Sr){return ju(u,ao(br)||0,Sr)});function Wg(u){return Ao(u,Xr)}function Na(u,br){if(typeof u!="function"||br!=null&&typeof br!="function")throw new ro(a);var Sr=function(){var Pr=arguments,Zr=br?br.apply(this,Pr):Pr[0],nn=Sr.cache;if(nn.has(Zr))return nn.get(Zr);var ln=u.apply(this,Pr);return Sr.cache=nn.set(Zr,ln)||nn,ln};return Sr.cache=new(Na.Cache||wo),Sr}Na.Cache=wo;function Da(u){if(typeof u!="function")throw new ro(a);return function(){var br=arguments;switch(br.length){case 0:return!u.call(this);case 1:return!u.call(this,br[0]);case 2:return!u.call(this,br[0],br[1]);case 3:return!u.call(this,br[0],br[1],br[2])}return!u.apply(this,br)}}function qg(u){return Yl(2,u)}var Gg=Ch(function(u,br){br=br.length==1&&Xn(br[0])?pi(br[0],Yi(Gn())):pi(Di(br,1),Yi(Gn()));var Sr=br.length;return ti(function(Pr){for(var Zr=-1,nn=Fi(Pr.length,Sr);++Zr<nn;)Pr[Zr]=br[Zr].call(this,Pr[Zr]);return Gi(u,this,Pr)})}),Uc=ti(function(u,br){var Sr=Co(br,ps(Uc));return Ao(u,Hr,r,br,Sr)}),ef=ti(function(u,br){var Sr=Co(br,ps(ef));return Ao(u,Mr,r,br,Sr)}),Yg=Eo(function(u,br){return Ao(u,Vr,r,r,r,br)});function Zg(u,br){if(typeof u!="function")throw new ro(a);return br=br===r?br:Qn(br),ti(u,br)}function Jg(u,br){if(typeof u!="function")throw new ro(a);return br=br==null?0:Mi(Qn(br),0),ti(function(Sr){var Pr=Sr[br],Zr=Do(Sr,0,br);return Pr&&Po(Zr,Pr),Gi(u,this,Zr)})}function Xg(u,br,Sr){var Pr=!0,Zr=!0;if(typeof u!="function")throw new ro(a);return bi(Sr)&&(Pr="leading"in Sr?!!Sr.leading:Pr,Zr="trailing"in Sr?!!Sr.trailing:Zr),Ql(u,br,{leading:Pr,maxWait:br,trailing:Zr})}function Qg(u){return Gl(u,1)}function ey(u,br){return Uc(Ec(br),u)}function ty(){if(!arguments.length)return[];var u=arguments[0];return Xn(u)?u:[u]}function ry(u){return io(u,Tr)}function ny(u,br){return br=typeof br=="function"?br:r,io(u,Tr,br)}function iy(u){return io(u,vr|Tr)}function oy(u,br){return br=typeof br=="function"?br:r,io(u,vr|Tr,br)}function sy(u,br){return br==null||Ku(u,br,Li(br))}function lo(u,br){return u===br||u!==u&&br!==br}var ay=ka(dc),cy=ka(function(u,br){return u>=br}),Zo=qu(function(){return arguments}())?qu:function(u){return xi(u)&&ai.call(u,"callee")&&!Cu.call(u,"callee")},Xn=$n.isArray,uy=pu?Yi(pu):yh;function zi(u){return u!=null&&Fa(u.length)&&!To(u)}function Pi(u){return xi(u)&&zi(u)}function ly(u){return u===!0||u===!1||xi(u)&&Ki(u)==gn}var Fo=Ad||Jc,fy=gu?Yi(gu):mh;function dy(u){return xi(u)&&u.nodeType===1&&!zs(u)}function hy(u){if(u==null)return!0;if(zi(u)&&(Xn(u)||typeof u=="string"||typeof u.splice=="function"||Fo(u)||gs(u)||Zo(u)))return!u.length;var br=Ui(u);if(br==fn||br==En)return!u.size;if(Hs(u))return!gc(u).length;for(var Sr in u)if(ai.call(u,Sr))return!1;return!0}function py(u,br){return Us(u,br)}function gy(u,br,Sr){Sr=typeof Sr=="function"?Sr:r;var Pr=Sr?Sr(u,br):r;return Pr===r?Us(u,br,r,Sr):!!Pr}function Kc(u){if(!xi(u))return!1;var br=Ki(u);return br==Dn||br==Tn||typeof u.message=="string"&&typeof u.name=="string"&&!zs(u)}function yy(u){return typeof u=="number"&&Mu(u)}function To(u){if(!bi(u))return!1;var br=Ki(u);return br==sn||br==cn||br==dn||br==pn}function tf(u){return typeof u=="number"&&u==Qn(u)}function Fa(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=qr}function bi(u){var br=typeof u;return u!=null&&(br=="object"||br=="function")}function xi(u){return u!=null&&typeof u=="object"}var rf=yu?Yi(yu):bh;function my(u,br){return u===br||pc(u,br,xc(br))}function _y(u,br,Sr){return Sr=typeof Sr=="function"?Sr:r,pc(u,br,xc(br),Sr)}function by(u){return nf(u)&&u!=+u}function vy(u){if(rp(u))throw new Jn(s);return Gu(u)}function wy(u){return u===null}function Sy(u){return u==null}function nf(u){return typeof u=="number"||xi(u)&&Ki(u)==Sn}function zs(u){if(!xi(u)||Ki(u)!=An)return!1;var br=fa(u);if(br===null)return!0;var Sr=ai.call(br,"constructor")&&br.constructor;return typeof Sr=="function"&&Sr instanceof Sr&&aa.call(Sr)==md}var jc=mu?Yi(mu):vh;function Ay(u){return tf(u)&&u>=-qr&&u<=qr}var of=_u?Yi(_u):wh;function Ua(u){return typeof u=="string"||!Xn(u)&&xi(u)&&Ki(u)==Un}function Ji(u){return typeof u=="symbol"||xi(u)&&Ki(u)==Fn}var gs=bu?Yi(bu):Sh;function Ey(u){return u===r}function $y(u){return xi(u)&&Ui(u)==jn}function Ty(u){return xi(u)&&Ki(u)==zn}var Iy=ka(yc),Oy=ka(function(u,br){return u<=br});function sf(u){if(!u)return[];if(zi(u))return Ua(u)?co(u):Vi(u);if(Ps&&u[Ps])return od(u[Ps]());var br=Ui(u),Sr=br==fn?nc:br==En?ia:ys;return Sr(u)}function Io(u){if(!u)return u===0?u:0;if(u=ao(u),u===Gr||u===-Gr){var br=u<0?-1:1;return br*Jr}return u===u?u:0}function Qn(u){var br=Io(u),Sr=br%1;return br===br?Sr?br-Sr:br:0}function af(u){return u?Wo(Qn(u),0,Kr):0}function ao(u){if(typeof u=="number")return u;if(Ji(u))return en;if(bi(u)){var br=typeof u.valueOf=="function"?u.valueOf():u;u=bi(br)?br+"":br}if(typeof u!="string")return u===0?u:+u;u=$u(u);var Sr=_s.test(u);return Sr||vs.test(u)?jf(u.slice(2),Sr?2:8):ki.test(u)?en:+u}function cf(u){return yo(u,Wi(u))}function Ry(u){return u?Wo(Qn(u),-qr,qr):u===0?u:0}function si(u){return u==null?"":Zi(u)}var ky=ds(function(u,br){if(Hs(br)||zi(br)){yo(br,Li(br),u);return}for(var Sr in br)ai.call(br,Sr)&&Ns(u,Sr,br[Sr])}),uf=ds(function(u,br){yo(br,Wi(br),u)}),Ka=ds(function(u,br,Sr,Pr){yo(br,Wi(br),u,Pr)}),xy=ds(function(u,br,Sr,Pr){yo(br,Li(br),u,Pr)}),Py=Eo(uc);function Cy(u,br){var Sr=fs(u);return br==null?Sr:Uu(Sr,br)}var By=ti(function(u,br){u=ci(u);var Sr=-1,Pr=br.length,Zr=Pr>2?br[2]:r;for(Zr&&ji(br[0],br[1],Zr)&&(Pr=1);++Sr<Pr;)for(var nn=br[Sr],ln=Wi(nn),hn=-1,wn=ln.length;++hn<wn;){var xn=ln[hn],Pn=u[xn];(Pn===r||lo(Pn,cs[xn])&&!ai.call(u,xn))&&(u[xn]=nn[xn])}return u}),My=ti(function(u){return u.push(r,$l),Gi(lf,r,u)});function Ly(u,br){return wu(u,Gn(br,3),go)}function Ny(u,br){return wu(u,Gn(br,3),fc)}function Dy(u,br){return u==null?u:lc(u,Gn(br,3),Wi)}function Fy(u,br){return u==null?u:zu(u,Gn(br,3),Wi)}function Uy(u,br){return u&&go(u,Gn(br,3))}function Ky(u,br){return u&&fc(u,Gn(br,3))}function jy(u){return u==null?[]:Sa(u,Li(u))}function Hy(u){return u==null?[]:Sa(u,Wi(u))}function Hc(u,br,Sr){var Pr=u==null?r:qo(u,br);return Pr===r?Sr:Pr}function Vy(u,br){return u!=null&&Ol(u,br,dh)}function Vc(u,br){return u!=null&&Ol(u,br,hh)}var zy=vl(function(u,br,Sr){br!=null&&typeof br.toString!="function"&&(br=ca.call(br)),u[br]=Sr},Wc(qi)),Wy=vl(function(u,br,Sr){br!=null&&typeof br.toString!="function"&&(br=ca.call(br)),ai.call(u,br)?u[br].push(Sr):u[br]=[Sr]},Gn),qy=ti(Fs);function Li(u){return zi(u)?Du(u):gc(u)}function Wi(u){return zi(u)?Du(u,!0):Ah(u)}function Gy(u,br){var Sr={};return br=Gn(br,3),go(u,function(Pr,Zr,nn){So(Sr,br(Pr,Zr,nn),Pr)}),Sr}function Yy(u,br){var Sr={};return br=Gn(br,3),go(u,function(Pr,Zr,nn){So(Sr,Zr,br(Pr,Zr,nn))}),Sr}var Zy=ds(function(u,br,Sr){Aa(u,br,Sr)}),lf=ds(function(u,br,Sr,Pr){Aa(u,br,Sr,Pr)}),Jy=Eo(function(u,br){var Sr={};if(u==null)return Sr;var Pr=!1;br=pi(br,function(nn){return nn=No(nn,u),Pr||(Pr=nn.length>1),nn}),yo(u,Rc(u),Sr),Pr&&(Sr=io(Sr,vr|Ar|Tr,Vh));for(var Zr=br.length;Zr--;)wc(Sr,br[Zr]);return Sr});function Xy(u,br){return ff(u,Da(Gn(br)))}var Qy=Eo(function(u,br){return u==null?{}:$h(u,br)});function ff(u,br){if(u==null)return{};var Sr=pi(Rc(u),function(Pr){return[Pr]});return br=Gn(br),tl(u,Sr,function(Pr,Zr){return br(Pr,Zr[0])})}function em(u,br,Sr){br=No(br,u);var Pr=-1,Zr=br.length;for(Zr||(Zr=1,u=r);++Pr<Zr;){var nn=u==null?r:u[mo(br[Pr])];nn===r&&(Pr=Zr,nn=Sr),u=To(nn)?nn.call(u):nn}return u}function tm(u,br,Sr){return u==null?u:Ks(u,br,Sr)}function rm(u,br,Sr,Pr){return Pr=typeof Pr=="function"?Pr:r,u==null?u:Ks(u,br,Sr,Pr)}var df=Al(Li),hf=Al(Wi);function nm(u,br,Sr){var Pr=Xn(u),Zr=Pr||Fo(u)||gs(u);if(br=Gn(br,4),Sr==null){var nn=u&&u.constructor;Zr?Sr=Pr?new nn:[]:bi(u)?Sr=To(nn)?fs(fa(u)):{}:Sr={}}return(Zr?to:go)(u,function(ln,hn,wn){return br(Sr,ln,hn,wn)}),Sr}function im(u,br){return u==null?!0:wc(u,br)}function om(u,br,Sr){return u==null?u:sl(u,br,Ec(Sr))}function sm(u,br,Sr,Pr){return Pr=typeof Pr=="function"?Pr:r,u==null?u:sl(u,br,Ec(Sr),Pr)}function ys(u){return u==null?[]:rc(u,Li(u))}function am(u){return u==null?[]:rc(u,Wi(u))}function cm(u,br,Sr){return Sr===r&&(Sr=br,br=r),Sr!==r&&(Sr=ao(Sr),Sr=Sr===Sr?Sr:0),br!==r&&(br=ao(br),br=br===br?br:0),Wo(ao(u),br,Sr)}function um(u,br,Sr){return br=Io(br),Sr===r?(Sr=br,br=0):Sr=Io(Sr),u=ao(u),ph(u,br,Sr)}function lm(u,br,Sr){if(Sr&&typeof Sr!="boolean"&&ji(u,br,Sr)&&(br=Sr=r),Sr===r&&(typeof br=="boolean"?(Sr=br,br=r):typeof u=="boolean"&&(Sr=u,u=r)),u===r&&br===r?(u=0,br=1):(u=Io(u),br===r?(br=u,u=0):br=Io(br)),u>br){var Pr=u;u=br,br=Pr}if(Sr||u%1||br%1){var Zr=Lu();return Fi(u+Zr*(br-u+Kf("1e-"+((Zr+"").length-1))),br)}return _c(u,br)}var fm=hs(function(u,br,Sr){return br=br.toLowerCase(),u+(Sr?pf(br):br)});function pf(u){return zc(si(u).toLowerCase())}function gf(u){return u=si(u),u&&u.replace(Ss,ed).replace(xf,"")}function dm(u,br,Sr){u=si(u),br=Zi(br);var Pr=u.length;Sr=Sr===r?Pr:Wo(Qn(Sr),0,Pr);var Zr=Sr;return Sr-=br.length,Sr>=0&&u.slice(Sr,Zr)==br}function hm(u){return u=si(u),u&&wi.test(u)?u.replace(yi,td):u}function pm(u){return u=si(u),u&&Js.test(u)?u.replace(di,"\\$&"):u}var gm=hs(function(u,br,Sr){return u+(Sr?"-":"")+br.toLowerCase()}),ym=hs(function(u,br,Sr){return u+(Sr?" ":"")+br.toLowerCase()}),mm=ml("toLowerCase");function _m(u,br,Sr){u=si(u),br=Qn(br);var Pr=br?ss(u):0;if(!br||Pr>=br)return u;var Zr=(br-Pr)/2;return Ra(ga(Zr),Sr)+u+Ra(pa(Zr),Sr)}function bm(u,br,Sr){u=si(u),br=Qn(br);var Pr=br?ss(u):0;return br&&Pr<br?u+Ra(br-Pr,Sr):u}function vm(u,br,Sr){u=si(u),br=Qn(br);var Pr=br?ss(u):0;return br&&Pr<br?Ra(br-Pr,Sr)+u:u}function wm(u,br,Sr){return Sr||br==null?br=0:br&&(br=+br),Id(si(u).replace(hi,""),br||0)}function Sm(u,br,Sr){return(Sr?ji(u,br,Sr):br===r)?br=1:br=Qn(br),bc(si(u),br)}function Am(){var u=arguments,br=si(u[0]);return u.length<3?br:br.replace(u[1],u[2])}var Em=hs(function(u,br,Sr){return u+(Sr?"_":"")+br.toLowerCase()});function $m(u,br,Sr){return Sr&&typeof Sr!="number"&&ji(u,br,Sr)&&(br=Sr=r),Sr=Sr===r?Kr:Sr>>>0,Sr?(u=si(u),u&&(typeof br=="string"||br!=null&&!jc(br))&&(br=Zi(br),!br&&os(u))?Do(co(u),0,Sr):u.split(br,Sr)):[]}var Tm=hs(function(u,br,Sr){return u+(Sr?" ":"")+zc(br)});function Im(u,br,Sr){return u=si(u),Sr=Sr==null?0:Wo(Qn(Sr),0,u.length),br=Zi(br),u.slice(Sr,Sr+br.length)==br}function Om(u,br,Sr){var Pr=rn.templateSettings;Sr&&ji(u,br,Sr)&&(br=r),u=si(u),br=Ka({},br,Pr,El);var Zr=Ka({},br.imports,Pr.imports,El),nn=Li(Zr),ln=rc(Zr,nn),hn,wn,xn=0,Pn=br.interpolate||Ro,Nn="__p += '",Vn=ic((br.escape||Ro).source+"|"+Pn.source+"|"+(Pn===mi?ea:Ro).source+"|"+(br.evaluate||Ro).source+"|$","g"),qn="//# sourceURL="+(ai.call(br,"sourceURL")?(br.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Lf+"]")+`
`;u.replace(Vn,function(Zn,ri,ii,Xi,Hi,Qi){return ii||(ii=Xi),Nn+=u.slice(xn,Qi).replace(As,rd),ri&&(hn=!0,Nn+=`' +
__e(`+ri+`) +
'`),Hi&&(wn=!0,Nn+=`';
`+Hi+`;
__p += '`),ii&&(Nn+=`' +
((__t = (`+ii+`)) == null ? '' : __t) +
'`),xn=Qi+Zn.length,Zn}),Nn+=`';
`;var Yn=ai.call(br,"variable")&&br.variable;if(!Yn)Nn=`with (obj) {
`+Nn+`
}
`;else if(Oi.test(Yn))throw new Jn(c);Nn=(wn?Nn.replace(Mn,""):Nn).replace(vi,"$1").replace(qs,"$1;"),Nn="function("+(Yn||"obj")+`) {
`+(Yn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(hn?", __e = _.escape":"")+(wn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Nn+`return __p
}`;var ei=mf(function(){return oi(nn,qn+"return "+Nn).apply(r,ln)});if(ei.source=Nn,Kc(ei))throw ei;return ei}function Rm(u){return si(u).toLowerCase()}function km(u){return si(u).toUpperCase()}function xm(u,br,Sr){if(u=si(u),u&&(Sr||br===r))return $u(u);if(!u||!(br=Zi(br)))return u;var Pr=co(u),Zr=co(br),nn=Tu(Pr,Zr),ln=Iu(Pr,Zr)+1;return Do(Pr,nn,ln).join("")}function Pm(u,br,Sr){if(u=si(u),u&&(Sr||br===r))return u.slice(0,Ru(u)+1);if(!u||!(br=Zi(br)))return u;var Pr=co(u),Zr=Iu(Pr,co(br))+1;return Do(Pr,0,Zr).join("")}function Cm(u,br,Sr){if(u=si(u),u&&(Sr||br===r))return u.replace(hi,"");if(!u||!(br=Zi(br)))return u;var Pr=co(u),Zr=Tu(Pr,co(br));return Do(Pr,Zr).join("")}function Bm(u,br){var Sr=Yr,Pr=tn;if(bi(br)){var Zr="separator"in br?br.separator:Zr;Sr="length"in br?Qn(br.length):Sr,Pr="omission"in br?Zi(br.omission):Pr}u=si(u);var nn=u.length;if(os(u)){var ln=co(u);nn=ln.length}if(Sr>=nn)return u;var hn=Sr-ss(Pr);if(hn<1)return Pr;var wn=ln?Do(ln,0,hn).join(""):u.slice(0,hn);if(Zr===r)return wn+Pr;if(ln&&(hn+=wn.length-hn),jc(Zr)){if(u.slice(hn).search(Zr)){var xn,Pn=wn;for(Zr.global||(Zr=ic(Zr.source,si(_i.exec(Zr))+"g")),Zr.lastIndex=0;xn=Zr.exec(Pn);)var Nn=xn.index;wn=wn.slice(0,Nn===r?hn:Nn)}}else if(u.indexOf(Zi(Zr),hn)!=hn){var Vn=wn.lastIndexOf(Zr);Vn>-1&&(wn=wn.slice(0,Vn))}return wn+Pr}function Mm(u){return u=si(u),u&&Gs.test(u)?u.replace(gi,ud):u}var Lm=hs(function(u,br,Sr){return u+(Sr?" ":"")+br.toUpperCase()}),zc=ml("toUpperCase");function yf(u,br,Sr){return u=si(u),br=Sr?r:br,br===r?id(u)?dd(u):Yf(u):u.match(br)||[]}var mf=ti(function(u,br){try{return Gi(u,r,br)}catch(Sr){return Kc(Sr)?Sr:new Jn(Sr)}}),Nm=Eo(function(u,br){return to(br,function(Sr){Sr=mo(Sr),So(u,Sr,Fc(u[Sr],u))}),u});function Dm(u){var br=u==null?0:u.length,Sr=Gn();return u=br?pi(u,function(Pr){if(typeof Pr[1]!="function")throw new ro(a);return[Sr(Pr[0]),Pr[1]]}):[],ti(function(Pr){for(var Zr=-1;++Zr<br;){var nn=u[Zr];if(Gi(nn[0],this,Pr))return Gi(nn[1],this,Pr)}})}function Fm(u){return uh(io(u,vr))}function Wc(u){return function(){return u}}function Um(u,br){return u==null||u!==u?br:u}var Km=bl(),jm=bl(!0);function qi(u){return u}function qc(u){return Yu(typeof u=="function"?u:io(u,vr))}function Hm(u){return Ju(io(u,vr))}function Vm(u,br){return Xu(u,io(br,vr))}var zm=ti(function(u,br){return function(Sr){return Fs(Sr,u,br)}}),Wm=ti(function(u,br){return function(Sr){return Fs(u,Sr,br)}});function Gc(u,br,Sr){var Pr=Li(br),Zr=Sa(br,Pr);Sr==null&&!(bi(br)&&(Zr.length||!Pr.length))&&(Sr=br,br=u,u=this,Zr=Sa(br,Li(br)));var nn=!(bi(Sr)&&"chain"in Sr)||!!Sr.chain,ln=To(u);return to(Zr,function(hn){var wn=br[hn];u[hn]=wn,ln&&(u.prototype[hn]=function(){var xn=this.__chain__;if(nn||xn){var Pn=u(this.__wrapped__),Nn=Pn.__actions__=Vi(this.__actions__);return Nn.push({func:wn,args:arguments,thisArg:u}),Pn.__chain__=xn,Pn}return wn.apply(u,Po([this.value()],arguments))})}),u}function qm(){return Ni._===this&&(Ni._=_d),this}function Yc(){}function Gm(u){return u=Qn(u),ti(function(br){return Qu(br,u)})}var Ym=Tc(pi),Zm=Tc(vu),Jm=Tc(Ja);function _f(u){return Cc(u)?Xa(mo(u)):Th(u)}function Xm(u){return function(br){return u==null?r:qo(u,br)}}var Qm=wl(),e_=wl(!0);function Zc(){return[]}function Jc(){return!1}function t_(){return{}}function r_(){return""}function n_(){return!0}function i_(u,br){if(u=Qn(u),u<1||u>qr)return[];var Sr=Kr,Pr=Fi(u,Kr);br=Gn(br),u-=Kr;for(var Zr=tc(Pr,br);++Sr<u;)br(Sr);return Zr}function o_(u){return Xn(u)?pi(u,mo):Ji(u)?[u]:Vi(Nl(si(u)))}function s_(u){var br=++yd;return si(u)+br}var a_=Oa(function(u,br){return u+br},0),c_=Ic("ceil"),u_=Oa(function(u,br){return u/br},1),l_=Ic("floor");function f_(u){return u&&u.length?wa(u,qi,dc):r}function d_(u,br){return u&&u.length?wa(u,Gn(br,2),dc):r}function h_(u){return Au(u,qi)}function p_(u,br){return Au(u,Gn(br,2))}function g_(u){return u&&u.length?wa(u,qi,yc):r}function y_(u,br){return u&&u.length?wa(u,Gn(br,2),yc):r}var m_=Oa(function(u,br){return u*br},1),__=Ic("round"),b_=Oa(function(u,br){return u-br},0);function v_(u){return u&&u.length?ec(u,qi):0}function w_(u,br){return u&&u.length?ec(u,Gn(br,2)):0}return rn.after=Hg,rn.ary=Gl,rn.assign=ky,rn.assignIn=uf,rn.assignInWith=Ka,rn.assignWith=xy,rn.at=Py,rn.before=Yl,rn.bind=Fc,rn.bindAll=Nm,rn.bindKey=Zl,rn.castArray=ty,rn.chain=zl,rn.chunk=up,rn.compact=lp,rn.concat=fp,rn.cond=Dm,rn.conforms=Fm,rn.constant=Wc,rn.countBy=vg,rn.create=Cy,rn.curry=Jl,rn.curryRight=Xl,rn.debounce=Ql,rn.defaults=By,rn.defaultsDeep=My,rn.defer=Vg,rn.delay=zg,rn.difference=dp,rn.differenceBy=hp,rn.differenceWith=pp,rn.drop=gp,rn.dropRight=yp,rn.dropRightWhile=mp,rn.dropWhile=_p,rn.fill=bp,rn.filter=Sg,rn.flatMap=$g,rn.flatMapDeep=Tg,rn.flatMapDepth=Ig,rn.flatten=Kl,rn.flattenDeep=vp,rn.flattenDepth=wp,rn.flip=Wg,rn.flow=Km,rn.flowRight=jm,rn.fromPairs=Sp,rn.functions=jy,rn.functionsIn=Hy,rn.groupBy=Og,rn.initial=Ep,rn.intersection=$p,rn.intersectionBy=Tp,rn.intersectionWith=Ip,rn.invert=zy,rn.invertBy=Wy,rn.invokeMap=kg,rn.iteratee=qc,rn.keyBy=xg,rn.keys=Li,rn.keysIn=Wi,rn.map=Ma,rn.mapKeys=Gy,rn.mapValues=Yy,rn.matches=Hm,rn.matchesProperty=Vm,rn.memoize=Na,rn.merge=Zy,rn.mergeWith=lf,rn.method=zm,rn.methodOf=Wm,rn.mixin=Gc,rn.negate=Da,rn.nthArg=Gm,rn.omit=Jy,rn.omitBy=Xy,rn.once=qg,rn.orderBy=Pg,rn.over=Ym,rn.overArgs=Gg,rn.overEvery=Zm,rn.overSome=Jm,rn.partial=Uc,rn.partialRight=ef,rn.partition=Cg,rn.pick=Qy,rn.pickBy=ff,rn.property=_f,rn.propertyOf=Xm,rn.pull=xp,rn.pullAll=Hl,rn.pullAllBy=Pp,rn.pullAllWith=Cp,rn.pullAt=Bp,rn.range=Qm,rn.rangeRight=e_,rn.rearg=Yg,rn.reject=Lg,rn.remove=Mp,rn.rest=Zg,rn.reverse=Nc,rn.sampleSize=Dg,rn.set=tm,rn.setWith=rm,rn.shuffle=Fg,rn.slice=Lp,rn.sortBy=jg,rn.sortedUniq=Vp,rn.sortedUniqBy=zp,rn.split=$m,rn.spread=Jg,rn.tail=Wp,rn.take=qp,rn.takeRight=Gp,rn.takeRightWhile=Yp,rn.takeWhile=Zp,rn.tap=fg,rn.throttle=Xg,rn.thru=Ba,rn.toArray=sf,rn.toPairs=df,rn.toPairsIn=hf,rn.toPath=o_,rn.toPlainObject=cf,rn.transform=nm,rn.unary=Qg,rn.union=Jp,rn.unionBy=Xp,rn.unionWith=Qp,rn.uniq=eg,rn.uniqBy=tg,rn.uniqWith=rg,rn.unset=im,rn.unzip=Dc,rn.unzipWith=Vl,rn.update=om,rn.updateWith=sm,rn.values=ys,rn.valuesIn=am,rn.without=ng,rn.words=yf,rn.wrap=ey,rn.xor=ig,rn.xorBy=og,rn.xorWith=sg,rn.zip=ag,rn.zipObject=cg,rn.zipObjectDeep=ug,rn.zipWith=lg,rn.entries=df,rn.entriesIn=hf,rn.extend=uf,rn.extendWith=Ka,Gc(rn,rn),rn.add=a_,rn.attempt=mf,rn.camelCase=fm,rn.capitalize=pf,rn.ceil=c_,rn.clamp=cm,rn.clone=ry,rn.cloneDeep=iy,rn.cloneDeepWith=oy,rn.cloneWith=ny,rn.conformsTo=sy,rn.deburr=gf,rn.defaultTo=Um,rn.divide=u_,rn.endsWith=dm,rn.eq=lo,rn.escape=hm,rn.escapeRegExp=pm,rn.every=wg,rn.find=Ag,rn.findIndex=Fl,rn.findKey=Ly,rn.findLast=Eg,rn.findLastIndex=Ul,rn.findLastKey=Ny,rn.floor=l_,rn.forEach=Wl,rn.forEachRight=ql,rn.forIn=Dy,rn.forInRight=Fy,rn.forOwn=Uy,rn.forOwnRight=Ky,rn.get=Hc,rn.gt=ay,rn.gte=cy,rn.has=Vy,rn.hasIn=Vc,rn.head=jl,rn.identity=qi,rn.includes=Rg,rn.indexOf=Ap,rn.inRange=um,rn.invoke=qy,rn.isArguments=Zo,rn.isArray=Xn,rn.isArrayBuffer=uy,rn.isArrayLike=zi,rn.isArrayLikeObject=Pi,rn.isBoolean=ly,rn.isBuffer=Fo,rn.isDate=fy,rn.isElement=dy,rn.isEmpty=hy,rn.isEqual=py,rn.isEqualWith=gy,rn.isError=Kc,rn.isFinite=yy,rn.isFunction=To,rn.isInteger=tf,rn.isLength=Fa,rn.isMap=rf,rn.isMatch=my,rn.isMatchWith=_y,rn.isNaN=by,rn.isNative=vy,rn.isNil=Sy,rn.isNull=wy,rn.isNumber=nf,rn.isObject=bi,rn.isObjectLike=xi,rn.isPlainObject=zs,rn.isRegExp=jc,rn.isSafeInteger=Ay,rn.isSet=of,rn.isString=Ua,rn.isSymbol=Ji,rn.isTypedArray=gs,rn.isUndefined=Ey,rn.isWeakMap=$y,rn.isWeakSet=Ty,rn.join=Op,rn.kebabCase=gm,rn.last=so,rn.lastIndexOf=Rp,rn.lowerCase=ym,rn.lowerFirst=mm,rn.lt=Iy,rn.lte=Oy,rn.max=f_,rn.maxBy=d_,rn.mean=h_,rn.meanBy=p_,rn.min=g_,rn.minBy=y_,rn.stubArray=Zc,rn.stubFalse=Jc,rn.stubObject=t_,rn.stubString=r_,rn.stubTrue=n_,rn.multiply=m_,rn.nth=kp,rn.noConflict=qm,rn.noop=Yc,rn.now=La,rn.pad=_m,rn.padEnd=bm,rn.padStart=vm,rn.parseInt=wm,rn.random=lm,rn.reduce=Bg,rn.reduceRight=Mg,rn.repeat=Sm,rn.replace=Am,rn.result=em,rn.round=__,rn.runInContext=mn,rn.sample=Ng,rn.size=Ug,rn.snakeCase=Em,rn.some=Kg,rn.sortedIndex=Np,rn.sortedIndexBy=Dp,rn.sortedIndexOf=Up,rn.sortedLastIndex=Kp,rn.sortedLastIndexBy=jp,rn.sortedLastIndexOf=Hp,rn.startCase=Tm,rn.startsWith=Im,rn.subtract=b_,rn.sum=v_,rn.sumBy=w_,rn.template=Om,rn.times=i_,rn.toFinite=Io,rn.toInteger=Qn,rn.toLength=af,rn.toLower=Rm,rn.toNumber=ao,rn.toSafeInteger=Ry,rn.toString=si,rn.toUpper=km,rn.trim=xm,rn.trimEnd=Pm,rn.trimStart=Cm,rn.truncate=Bm,rn.unescape=Mm,rn.uniqueId=s_,rn.upperCase=Lm,rn.upperFirst=zc,rn.each=Wl,rn.eachRight=ql,rn.first=jl,Gc(rn,function(){var u={};return go(rn,function(br,Sr){ai.call(rn.prototype,Sr)||(u[Sr]=br)}),u}(),{chain:!1}),rn.VERSION=n,to(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){rn[u].placeholder=rn}),to(["drop","take"],function(u,br){ni.prototype[u]=function(Sr){Sr=Sr===r?1:Mi(Qn(Sr),0);var Pr=this.__filtered__&&!br?new ni(this):this.clone();return Pr.__filtered__?Pr.__takeCount__=Fi(Sr,Pr.__takeCount__):Pr.__views__.push({size:Fi(Sr,Kr),type:u+(Pr.__dir__<0?"Right":"")}),Pr},ni.prototype[u+"Right"]=function(Sr){return this.reverse()[u](Sr).reverse()}}),to(["filter","map","takeWhile"],function(u,br){var Sr=br+1,Pr=Sr==Er||Sr==jr;ni.prototype[u]=function(Zr){var nn=this.clone();return nn.__iteratees__.push({iteratee:Gn(Zr,3),type:Sr}),nn.__filtered__=nn.__filtered__||Pr,nn}}),to(["head","last"],function(u,br){var Sr="take"+(br?"Right":"");ni.prototype[u]=function(){return this[Sr](1).value()[0]}}),to(["initial","tail"],function(u,br){var Sr="drop"+(br?"":"Right");ni.prototype[u]=function(){return this.__filtered__?new ni(this):this[Sr](1)}}),ni.prototype.compact=function(){return this.filter(qi)},ni.prototype.find=function(u){return this.filter(u).head()},ni.prototype.findLast=function(u){return this.reverse().find(u)},ni.prototype.invokeMap=ti(function(u,br){return typeof u=="function"?new ni(this):this.map(function(Sr){return Fs(Sr,u,br)})}),ni.prototype.reject=function(u){return this.filter(Da(Gn(u)))},ni.prototype.slice=function(u,br){u=Qn(u);var Sr=this;return Sr.__filtered__&&(u>0||br<0)?new ni(Sr):(u<0?Sr=Sr.takeRight(-u):u&&(Sr=Sr.drop(u)),br!==r&&(br=Qn(br),Sr=br<0?Sr.dropRight(-br):Sr.take(br-u)),Sr)},ni.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},ni.prototype.toArray=function(){return this.take(Kr)},go(ni.prototype,function(u,br){var Sr=/^(?:filter|find|map|reject)|While$/.test(br),Pr=/^(?:head|last)$/.test(br),Zr=rn[Pr?"take"+(br=="last"?"Right":""):br],nn=Pr||/^find/.test(br);!Zr||(rn.prototype[br]=function(){var ln=this.__wrapped__,hn=Pr?[1]:arguments,wn=ln instanceof ni,xn=hn[0],Pn=wn||Xn(ln),Nn=function(ri){var ii=Zr.apply(rn,Po([ri],hn));return Pr&&Vn?ii[0]:ii};Pn&&Sr&&typeof xn=="function"&&xn.length!=1&&(wn=Pn=!1);var Vn=this.__chain__,qn=!!this.__actions__.length,Yn=nn&&!Vn,ei=wn&&!qn;if(!nn&&Pn){ln=ei?ln:new ni(this);var Zn=u.apply(ln,hn);return Zn.__actions__.push({func:Ba,args:[Nn],thisArg:r}),new no(Zn,Vn)}return Yn&&ei?u.apply(this,hn):(Zn=this.thru(Nn),Yn?Pr?Zn.value()[0]:Zn.value():Zn)})}),to(["pop","push","shift","sort","splice","unshift"],function(u){var br=oa[u],Sr=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",Pr=/^(?:pop|shift)$/.test(u);rn.prototype[u]=function(){var Zr=arguments;if(Pr&&!this.__chain__){var nn=this.value();return br.apply(Xn(nn)?nn:[],Zr)}return this[Sr](function(ln){return br.apply(Xn(ln)?ln:[],Zr)})}}),go(ni.prototype,function(u,br){var Sr=rn[br];if(Sr){var Pr=Sr.name+"";ai.call(ls,Pr)||(ls[Pr]=[]),ls[Pr].push({name:br,func:Sr})}}),ls[Ia(r,Dr).name]=[{name:"wrapper",func:r}],ni.prototype.clone=Bd,ni.prototype.reverse=Md,ni.prototype.value=Ld,rn.prototype.at=dg,rn.prototype.chain=hg,rn.prototype.commit=pg,rn.prototype.next=gg,rn.prototype.plant=mg,rn.prototype.reverse=_g,rn.prototype.toJSON=rn.prototype.valueOf=rn.prototype.value=bg,rn.prototype.first=rn.prototype.head,Ps&&(rn.prototype[Ps]=yg),rn},as=hd();jo?((jo.exports=as)._=as,qa._=as):Ni._=as}).call(commonjsGlobal)})(lodash,lodash.exports);var OrderCacheService$1={};Object.defineProperty(OrderCacheService$1,"__esModule",{value:!0});OrderCacheService$1.OrderCacheService=void 0;const lodash_1$1=lodash.exports,mobx_1=require$$1,Order_1$1=Order,types_1$2=types$2;class OrderCacheService{constructor(){this.endTriggered=!1,this.observableData={buyOrdersCache:new Map,sellOrdersCache:new Map},this.orderChanges=(0,mobx_1.observable)([]),this.observableData=(0,mobx_1.makeAutoObservable)(this.observableData),(0,mobx_1.makeObservable)(this,{buyOrdersCache:mobx_1.computed,sellOrdersCache:mobx_1.computed,allOrdersCache:mobx_1.computed})}get buyOrdersCache(){return this.observableData.buyOrdersCache}get sellOrdersCache(){return this.observableData.sellOrdersCache}get allOrdersCache(){const e=new Map;return this.buyOrdersCache.forEach(r=>{r.forEach((n,o)=>{e.set(o,n)})}),this.sellOrdersCache.forEach(r=>{r.forEach((n,o)=>{e.set(o,n)})}),e}get mints(){return(0,lodash_1$1.union)(Array.from(this.buyOrdersCache.keys()),Array.from(this.sellOrdersCache.keys()))}get orders(){return this.allOrdersCache}get buyOrders(){const e=new Map;return this.buyOrdersCache.forEach(r=>{r.forEach(n=>{e.set(n.id,n)})}),e}get sellOrders(){const e=new Map;return this.sellOrdersCache.forEach(r=>{r.forEach(n=>{e.set(n.id,n)})}),e}clearOrders(){const{allOrdersCache:e}=this;e.forEach(r=>{(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderRemoved,order:r})})}),this.buyOrdersCache.clear(),this.sellOrdersCache.clear()}getAllOrdersCache(){return this.allOrdersCache}getOrderCacheByType(e){return e===Order_1$1.OrderSide.Buy?this.getBuyOrderCache():this.getSellOrderCache()}getBuyOrderCache(){return new Map(this.buyOrdersCache)}getSellOrderCache(){return new Map(this.sellOrdersCache)}getOrderById(e){return this.allOrdersCache.get(e)}addOrder(e){const r=this.getOrdersForType(e.orderType);r.get(e.orderMint)||r.set(e.orderMint,new Map);const n=r.get(e.orderMint),o=n.get(e.id);return o&&o.slotContext>e.slotContext?o:(n.set(e.id,e),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderAdded,order:e})}),e)}updateOrder(e){const n=this.getOrdersForType(e.orderType).get(e.orderMint),o=n.get(e.id);if(!!o){if(o.orderQtyRemaining!==e.orderQtyRemaining&&e.slotContext>o.slotContext){const s=(0,lodash_1$1.clone)(o);s.orderQtyRemaining=e.orderQtyRemaining,n.set(e.id,s),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderModified,order:e})})}return e}}cancelOrder(e){return this.getOrdersForType(e.orderType).get(e.orderMint).delete(e.id)?((0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderRemoved,order:e})}),!0):!1}getOrdersForType(e){return e===Order_1$1.OrderSide.Buy?this.buyOrdersCache:this.sellOrdersCache}}OrderCacheService$1.OrderCacheService=OrderCacheService;var GmClientService$1={},helpers={};Object.defineProperty(helpers,"__esModule",{value:!0});helpers.createTransactionFromInstructions=void 0;const web3_js_1$4=require$$0$2,createTransactionFromInstructions=t=>{const e=new web3_js_1$4.Transaction;return e.add(...t),e};helpers.createTransactionFromInstructions=createTransactionFromInstructions;var constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.TEN_THOUSAND=constants.ONE_MILLION=void 0;constants.ONE_MILLION=1e6;constants.TEN_THOUSAND=1e4;var __awaiter$g=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(GmClientService$1,"__esModule",{value:!0});GmClientService$1.GmClientService=void 0;const web3_js_1$3=require$$0$2,instruction_builders_1=instruction_builders,pda_getters_1$3=pda_getters$3,helpers_1=helpers,util_1$4=util,Order_1=Order,constants_1=constants,utils_1$b=utils,atlas_staking_1=atlasStaking;class GmClientService{constructor(){this.currencyInfo=[]}getRegisteredCurrencies(e,r,n=!1){var o;return __awaiter$g(this,void 0,void 0,function*(){if(((o=this.currencyInfo)===null||o===void 0?void 0:o.length)&&!n)return this.currencyInfo;const s=[],a=yield(0,pda_getters_1$3.getAllRegisteredCurrencies)(e,r);for(const c of a){const{mint:d,royalty:m,saVault:gr}=c,vr=yield e.getTokenSupply(d,"recent"),{decimals:Ar}=vr.value;s.push({decimals:Ar,mint:d.toString(),royaltyPercentageAsDecimal:m.toNumber()/constants_1.ONE_MILLION,saVault:gr.toString()})}return this.currencyInfo=s,this.currencyInfo})}getAllOpenOrders(e,r){return __awaiter$g(this,void 0,void 0,function*(){const n=yield(0,pda_getters_1$3.getAllOpenOrders)(e,r),o=yield e.getSlot();return this.accountItemsToOrders(e,r,n,o)})}getOpenOrdersForPlayer(e,r,n){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getOpenOrdersForPlayer)(e,r,n),s=yield e.getSlot();return this.accountItemsToOrders(e,n,o,s)})}getOpenOrdersForCurrency(e,r,n){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getOpenOrdersForCurrency)(e,r,n),s=yield e.getSlot();return this.accountItemsToOrders(e,n,o,s)})}getOpenOrdersForAsset(e,r,n){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getOpenOrdersForAsset)(e,r,n),s=yield e.getSlot();return this.accountItemsToOrders(e,n,o,s)})}getOpenOrdersForPlayerAndCurrency(e,r,n,o){return __awaiter$g(this,void 0,void 0,function*(){const s=yield(0,pda_getters_1$3.getOpenOrdersForPlayerAndCurrency)(e,r,n,o),a=yield e.getSlot();return this.accountItemsToOrders(e,o,s,a)})}getOpenOrdersForPlayerAndAsset(e,r,n,o){return __awaiter$g(this,void 0,void 0,function*(){const s=yield(0,pda_getters_1$3.getOpenOrdersForPlayerAndAsset)(e,r,n,o),a=yield e.getSlot();return this.accountItemsToOrders(e,o,s,a)})}getOpenOrder(e,r,n){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getSingleOrder)(e,r,n),s={publicKey:r,account:o},a=yield e.getSlot(),[c]=yield this.accountItemsToOrders(e,n,[s],a);return c})}getInitializeOrderTransaction(e,r,n,o,s,a,c,d){return __awaiter$g(this,void 0,void 0,function*(){let m=instruction_builders_1.createInitializeSellOrderInstruction,gr=n,vr=o;d===Order_1.OrderSide.Buy&&(m=instruction_builders_1.createInitializeBuyOrderInstruction,gr=o,vr=n);const Ar=yield(0,util_1$4.getAssociatedTokenAddress)(r,gr),{ixSet:Tr}=yield m({connection:e,depositMint:gr,initializerDepositTokenAccount:Ar,initializerMainAccount:r,originationQty:s,price:a,programId:c,receiveMint:vr}),{signers:Rr,instructions:kr}=Tr;return{transaction:(0,helpers_1.createTransactionFromInstructions)(kr),signers:Rr}})}getBnPriceForCurrency(e,r,n,o){return __awaiter$g(this,void 0,void 0,function*(){const s=yield this.getRegisteredCurrencies(e,o),{decimals:a}=s.find(c=>c.mint.toString()===n.toString());return(0,utils_1$b.convertDecimalPriceToBn)(r,a)})}getCancelOrderTransaction(e,r,n,o){return __awaiter$g(this,void 0,void 0,function*(){const{instructions:s,signers:a}=yield(0,instruction_builders_1.createCancelOrderInstruction)({connection:e,orderAccount:r,orderInitializer:n,programId:o});return{transaction:(0,helpers_1.createTransactionFromInstructions)(s),signers:a}})}getCreateExchangeTransaction(e,r,n,o,s,a=new web3_js_1$3.PublicKey("ATLocKpzDbTokxgvnLew3d7drZkEzLzDpzwgrgWKDbmc"),c=new web3_js_1$3.PublicKey("J5GhV1WKcEU98c1kZt36ixjaErrrPNWbZhg3JQDg114E")){return __awaiter$g(this,void 0,void 0,function*(){const d=new web3_js_1$3.PublicKey(r.id),m=new web3_js_1$3.PublicKey(r.orderMint),gr=new web3_js_1$3.PublicKey(r.currencyMint),vr=new web3_js_1$3.PublicKey(r.owner),Ar=r.orderType===Order_1.OrderSide.Buy?n:new web3_js_1$3.PublicKey(r.owner),Tr=yield(0,util_1$4.getAssociatedTokenAddress)(n,r.orderType===Order_1.OrderSide.Buy?m:gr),Rr=yield this.getRegisteredCurrencies(e,s),{saVault:kr}=Rr.find(Nr=>Nr.mint===r.currencyMint),[xr]=yield(0,atlas_staking_1.getStakingAccount)(a,Ar,c),{instructions:Dr,signers:Ur}=yield(0,instruction_builders_1.createExchangeInstruction)({connection:e,orderAccount:d,purchaseQty:o,orderTaker:n,orderTakerDepositTokenAccount:Tr,programId:s,expectedPrice:r.price,orderType:r.orderType,assetMint:m,currencyMint:gr,orderInitializer:vr,saVault:new web3_js_1$3.PublicKey(kr),stakingProgramId:a,registeredStake:c,stakingAccount:xr});return{transaction:(0,helpers_1.createTransactionFromInstructions)(Dr),signers:Ur}})}accountItemsToOrders(e,r,n,o){return __awaiter$g(this,void 0,void 0,function*(){if(!n.length)return[];const s=yield this.getRegisteredCurrencies(e,r);return n.map(a=>{const c=a.publicKey.toString(),d=Object.keys(a.account.orderSide)[0]==="buy"?Order_1.OrderSide.Buy:Order_1.OrderSide.Sell,m=a.account.assetMint.toString(),gr=a.account.currencyMint.toString(),vr=a.account.price,Ar=a.account.orderRemainingQty.toNumber(),Tr=a.account.orderOriginationQty.toNumber(),Rr=a.account.orderInitializerPubkey.toString(),kr=a.account.initializerAssetTokenAccount.toString(),xr=a.account.initializerCurrencyTokenAccount.toString(),Dr=a.account.createdAtTimestamp.toNumber(),{decimals:Ur}=s.find(Cr=>Cr.mint.toString()===gr);return new Order_1.Order({id:c,orderType:d,orderMint:m,currencyMint:gr,currencyDecimals:Ur,price:vr,orderQtyRemaining:Ar,orderOriginationQty:Tr,owner:Rr,ownerAssetTokenAccount:kr,ownerCurrencyTokenAccount:xr,createdAt:Dr,slotContext:o})})})}getAllFeeExemptions(e,r){return __awaiter$g(this,void 0,void 0,function*(){const n=[],o=yield(0,pda_getters_1$3.getAllFeeExemptAccounts)(e,r);for(const s of o)n.push({publicKey:s.account.account.toString(),feeReductionPercentageAsDecimal:s.account.discount.toNumber()/constants_1.TEN_THOUSAND});return n})}}GmClientService$1.GmClientService=GmClientService;var GmEventService$1={},__awaiter$f=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(GmEventService$1,"__esModule",{value:!0});GmEventService$1.GmEventService=void 0;const anchor_1$a=require$$0$1,models_1=models,types_1$1=types$2,GmClientService_1$1=GmClientService$1,utils_1$a=utils,types_2=types$2;class GmEventService{constructor(e,r,n){this.registeredCurrencyInfo={},this.eventListeners=[],this.queuedEvents=[],this.connection=e,this.programId=r,this.commitment=n||e.commitment,this.handleOrderCreated=this.handleOrderCreated.bind(this),this.handleOrderExchanged=this.handleOrderExchanged.bind(this),this.handleOrderCanceled=this.handleOrderCanceled.bind(this),this.setCurrencyInfo=this.setCurrencyInfo.bind(this),this.handleCurrencyRegistered=this.handleCurrencyRegistered.bind(this)}initialize(){return __awaiter$f(this,void 0,void 0,function*(){this.idl=(0,utils_1$a.getGmLogsIDL)(this.programId),this.provider=new anchor_1$a.AnchorProvider(this.connection,null,{commitment:this.commitment}),this.program=new anchor_1$a.Program(this.idl,this.programId,this.provider,{instruction:new anchor_1$a.BorshInstructionCoder(this.idl),accounts:new anchor_1$a.BorshAccountsCoder(this.idl),state:null,events:new anchor_1$a.BorshEventCoder(this.idl)}),yield this.setCurrencyInfo();const e=this.program.addEventListener(types_2.GmLogs.InitializeMemo,this.handleOrderCreated),r=this.program.addEventListener(types_2.GmLogs.ExchangeMemo,this.handleOrderExchanged),n=this.program.addEventListener(types_2.GmLogs.CancelOrderMemo,this.handleOrderCanceled),o=this.program.addEventListener(types_2.GmLogs.RegisterCurrencyMemo,this.handleCurrencyRegistered);this.eventListeners.push(e,r,n,o)})}end(){return __awaiter$f(this,void 0,void 0,function*(){for(const e of this.eventListeners)yield this.program.removeEventListener(e);this.eventListeners=[],this.onEvent=null})}setEventHandler(e){this.onEvent=e;for(const r of this.queuedEvents)this.onEvent(r.eventType,r.order,r.slotContext)}setCurrencyInfo(){return __awaiter$f(this,void 0,void 0,function*(){const r=yield new GmClientService_1$1.GmClientService().getRegisteredCurrencies(this.connection,this.programId,!0);for(const n of r)this.registeredCurrencyInfo[n.mint]=n})}getParsedOrderFromEvent(e,r){const n=this.registeredCurrencyInfo[e.currencyMint.toString()];if(!n)return null;const{decimals:o}=n;return new models_1.Order({id:e.orderId.toString(),orderType:e.orderSide===0?models_1.OrderSide.Buy:models_1.OrderSide.Sell,orderMint:e.assetMint.toString(),currencyMint:e.currencyMint.toString(),currencyDecimals:o,price:e.price,orderQtyRemaining:e.orderRemainingQty.toNumber(),orderOriginationQty:e.orderOriginationQty.toNumber(),owner:e.orderInitializerPubkey.toString(),ownerAssetTokenAccount:e.initializerAssetTokenAccount.toString(),ownerCurrencyTokenAccount:e.initializerCurrencyTokenAccount.toString(),createdAt:e.createdAtTimestamp.toNumber(),slotContext:r})}handleOrderCreated(e,r){this.processEvent(types_1$1.GmEventType.orderAdded,this.getParsedOrderFromEvent(e,r),r)}handleOrderExchanged(e,r){this.processEvent(types_1$1.GmEventType.orderModified,this.getParsedOrderFromEvent(e,r),r)}handleOrderCanceled(e,r){this.processEvent(types_1$1.GmEventType.orderRemoved,this.getParsedOrderFromEvent(e,r),r)}processEvent(e,r,n){if(!this.onEvent){this.queuedEvents.push({eventType:e,order:r,slotContext:n});return}this.onEvent(e,r,n)}handleCurrencyRegistered(){return __awaiter$f(this,void 0,void 0,function*(){yield this.setCurrencyInfo()})}}GmEventService$1.GmEventService=GmEventService;var __awaiter$e=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(GmOrderbookService$1,"__esModule",{value:!0});GmOrderbookService$1.GmOrderbookService=void 0;const mobx_utils_1=require$$0,lodash_1=lodash.exports,OrderCacheService_1=OrderCacheService$1,types_1=types$2,GmClientService_1=GmClientService$1,GmEventService_1=GmEventService$1;class GmOrderbookService{constructor(e,r,n=60){this.gmClientService=new GmClientService_1.GmClientService,this.eventCallBacks=[],this.changeObserverDisposer=null,this.lastEventTimestamp=this.getNow(),this.isReloading=!1,this.connection=e,this.marketplaceProgramId=r,this.healthcheckThreshold=n,this.orderCacheService=new OrderCacheService_1.OrderCacheService,this.gmClientService=new GmClientService_1.GmClientService,this.gmEventService=new GmEventService_1.GmEventService(this.connection,this.marketplaceProgramId),this.handleMarketplaceEvent=this.handleMarketplaceEvent.bind(this)}initialize(){return __awaiter$e(this,void 0,void 0,function*(){return yield this.gmEventService.initialize(),this.changeObserverDisposer=(0,mobx_utils_1.queueProcessor)(this.orderCacheService.orderChanges,e=>{this.eventCallBacks.forEach(r=>r.onEvent(e))},250),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.loadInitialOrders(),this.healthcheckTimer=setInterval(()=>{!this.getIsServiceHealthy()&&!this.isReloading&&this.resetOrdersData()},GmOrderbookService.HEALTH_CHECK_RATE),this.orderCacheService.mints.length})}end(){return __awaiter$e(this,void 0,void 0,function*(){return yield this.gmEventService.end(),this.eventCallBacks=[],this.changeObserverDisposer=null,!0})}getIsServiceHealthy(){return this.getNow()-this.lastEventTimestamp<=this.healthcheckThreshold}resetOrdersData(){return __awaiter$e(this,void 0,void 0,function*(){this.isReloading||(this.isReloading=!0,yield this.resetEventService(),yield this.refetchOrderData(),this.lastEventTimestamp=this.getNow(),this.isReloading=!1)})}resetEventService(){return __awaiter$e(this,void 0,void 0,function*(){yield this.gmEventService.end(),this.gmEventService=new GmEventService_1.GmEventService(this.connection,this.marketplaceProgramId),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.gmEventService.initialize()})}refetchOrderData(){return __awaiter$e(this,void 0,void 0,function*(){const e=this.orderCacheService.getAllOrdersCache();try{const r=yield this.connection.getSlot("confirmed"),n=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId),o=new Map;for(const s of n){o.set(s.id,s);const a=e.get(s.id);a?a&&a.orderQtyRemaining!==s.orderQtyRemaining&&this.updateOrderInCache(s):this.addOrderToCache(s)}for(const s of Array.from(e.values()))s.slotContext<r&&!o.get(s.id)&&this.removeOrderFromCache(s)}catch(r){console.log("There was an error refreshing all marketplace data",r)}})}addOnEventHandler(e){this.eventCallBacks.push(e)}removeOnEventHandler(e){(0,lodash_1.pull)(this.eventCallBacks,e)}loadInitialOrders(){return __awaiter$e(this,void 0,void 0,function*(){try{const e=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId);for(const r of e)this.addOrderToCache(r)}catch(e){console.log(e)}return this.orderCacheService.getAllOrdersCache().size})}addOrderToCache(e){return this.orderCacheService.addOrder(e)}removeOrderFromCache(e){return this.orderCacheService.cancelOrder(e)}updateOrderInCache(e){return this.orderCacheService.updateOrder(e)}getBuyOrders(){return this.orderCacheService.buyOrdersCache}getBuyOrdersForMint(e){return this.orderCacheService.buyOrdersCache.get(e)}getSellOrders(){return this.orderCacheService.sellOrdersCache}getSellOrdersForMint(e){return this.orderCacheService.sellOrdersCache.get(e)}getOrdersByType(e){return e==="buy"?this.getBuyOrders():this.getSellOrders()}getBuyOrdersByCurrencyAndItem(e,r){const n=this.getBuyOrdersForMint(r);if(!n)return[];const o=[...n.values()];return o.length?this.filterOrdersByCurrency(e,o):[]}getSellOrdersByCurrencyAndItem(e,r){const n=this.getSellOrdersForMint(r);if(!n)return[];const o=[...n.values()];return o.length?this.filterOrdersByCurrency(e,o):[]}filterOrdersByCurrency(e,r){return r.length?r.filter(n=>n.currencyMint===e):[]}getOrderById(e){return this.orderCacheService.getOrderById(e)}getAllOrdersByItemMint(e){const r=new Map,n=this.getSellOrdersForMint(e),o=this.getBuyOrdersForMint(e);if(n)for(const s of n.values())r.set(s.id,s);if(o)for(const s of o.values())r.set(s.id,s);return r}getAllMints(){return this.orderCacheService.mints}getAllOrdersForUserAddress(e){const r=this.orderCacheService.getAllOrdersCache();return Array.from(r.values()).filter(s=>s.owner===e)}handleOrderAddedEvent(e){this.addOrderToCache(e)}handleOrderModifiedEvent(e){if(e.orderQtyRemaining===0){this.removeOrderFromCache(e);return}this.updateOrderInCache(e)}handleOrderCanceledEvent(e){this.removeOrderFromCache(e)}handleMarketplaceEvent(e,r){if(!!r)switch(this.lastEventTimestamp=this.getNow(),e){case types_1.GmEventType.orderAdded:this.handleOrderAddedEvent(r);break;case types_1.GmEventType.orderModified:this.handleOrderModifiedEvent(r);break;case types_1.GmEventType.orderRemoved:this.handleOrderCanceledEvent(r);break}}getNow(){return new Date().getTime()/1e3}}GmOrderbookService$1.GmOrderbookService=GmOrderbookService;GmOrderbookService.HEALTH_CHECK_RATE=5e3;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(GmOrderbookService$1,t),r(GmClientService$1,t),r(GmEventService$1,t)})(services);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(instruction_builders,t),r(pda_getters$3,t),r(types$2,t),r(utils,t),r(models,t),r(services,t)})(marketplace);var __awaiter$d=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(gmHelper$1,"__esModule",{value:!0});gmHelper$1.createAccountTransaction=gmHelper$1.createAccountInstruction=void 0;const anchor_1$9=require$$0$1,web3_js_1$2=require$$0$2,marketplace_1=marketplace;function createAccountInstruction(t,e,r,n){return __awaiter$d(this,void 0,void 0,function*(){const o=(0,marketplace_1.getGmIDL)(n),s=new anchor_1$9.AnchorProvider(t,null,null),a=new anchor_1$9.Program(o,n,s);return web3_js_1$2.SystemProgram.createAccount({fromPubkey:e,newAccountPubkey:r.publicKey,space:a.account.orderAccount.size,lamports:yield t.getMinimumBalanceForRentExemption(a.account.orderAccount.size),programId:n})})}gmHelper$1.createAccountInstruction=createAccountInstruction;function createAccountTransaction(t,e,r,n){return __awaiter$d(this,void 0,void 0,function*(){const o=(0,marketplace_1.getGmIDL)(n),s=new anchor_1$9.AnchorProvider(t,null,null),a=new anchor_1$9.Program(o,n,s),c=new web3_js_1$2.Transaction({recentBlockhash:(yield t.getLatestBlockhash()).blockhash,feePayer:e});return c.add(web3_js_1$2.SystemProgram.createAccount({fromPubkey:e,newAccountPubkey:r.publicKey,space:a.account.orderAccount.size,lamports:yield t.getMinimumBalanceForRentExemption(a.account.orderAccount.size),programId:n})),c})}gmHelper$1.createAccountTransaction=createAccountTransaction;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(helpers$1,t),r(wallet,t),r(gmHelper$1,t)})(util);var __awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(harvestRewards,"__esModule",{value:!0});harvestRewards.harvestRewardsInstruction=void 0;const anchor_1$8=require$$0$1,token_1$4=token,util_1$3=util,utils_1$9=utils$1;function harvestRewardsInstruction({connection:t,user:e,rewardMint:r,registeredStake:n,stakingAccount:o,programId:s}){return __awaiter$c(this,void 0,void 0,function*(){const a=(0,utils_1$9.getStakingProgram)({connection:t,programId:s}),c={signers:[],instructions:[]};let d=null,m=null;const gr=yield(0,util_1$3.getTokenAccount)(t,e,r);d=gr.tokenAccount,"createInstruction"in gr&&c.instructions.push(...gr.createInstruction),d instanceof anchor_1$8.web3.Keypair?(m=d.publicKey,c.signers.push(d)):m=d;const vr=yield(0,token_1$4.associatedAddress)({owner:n,mint:r}),Ar=yield a.methods.harvest().accounts({user:e,rewardMint:r,registeredStake:n,stakingAccount:o,userRewardAccount:m,rewardAta:vr}).instruction();return c.instructions.push(Ar),c})}harvestRewards.harvestRewardsInstruction=harvestRewardsInstruction;var initializeStaking={},__awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(initializeStaking,"__esModule",{value:!0});initializeStaking.createInitializeStakingInstruction=void 0;const utils_1$8=utils$1;function createInitializeStakingInstruction({connection:t,updateAuthorityAccount:e,programId:r}){return __awaiter$b(this,void 0,void 0,function*(){const n=(0,utils_1$8.getStakingProgram)({connection:t,programId:r}),o={signers:[],instructions:[]},s=yield n.methods.initializeStaking().accounts({updateAuthorityAccount:e}).instruction();return o.instructions.push(s),o})}initializeStaking.createInitializeStakingInstruction=createInitializeStakingInstruction;var registerStake={},pda_getters$1={},pda_getters={},seeds={};Object.defineProperty(seeds,"__esModule",{value:!0});seeds.ESCROW_AUTH=seeds.STAKING_VARS=seeds.STAKING_ESCROW=seeds.STAKING_ACCOUNT=seeds.REWARD_AUTH=seeds.REWARD_ACCOUNT=seeds.REGISTERED_STAKE=void 0;seeds.REGISTERED_STAKE=dist$1.Buffer.from("registered-stake");seeds.REWARD_ACCOUNT=dist$1.Buffer.from("reward-account");seeds.REWARD_AUTH=dist$1.Buffer.from("reward-vault-authority");seeds.STAKING_ACCOUNT=dist$1.Buffer.from("staking-account");seeds.STAKING_ESCROW=dist$1.Buffer.from("staking-escrow");seeds.STAKING_VARS=dist$1.Buffer.from("staking-vars");seeds.ESCROW_AUTH=dist$1.Buffer.from("escrow-auth");var __awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(pda_getters,"__esModule",{value:!0});pda_getters.getRewardAuth=pda_getters.getTokenEscrow=pda_getters.getStakingVarsAccount=pda_getters.getStakingAccountsForRegisteredStake=pda_getters.getStakingAccount=pda_getters.getRegisteredStake=void 0;const anchor_1$7=require$$0$1,web3_js_1$1=require$$0$2,utils_1$7=utils$1,seeds_1=seeds;function getRegisteredStake(t,e,r,n){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.REGISTERED_STAKE,e.toBuffer(),r.toBuffer(),n.toBuffer()],t)})}pda_getters.getRegisteredStake=getRegisteredStake;function getStakingAccount(t,e,r){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.STAKING_ACCOUNT,e.toBuffer(),r.toBuffer()],t)})}pda_getters.getStakingAccount=getStakingAccount;function getStakingAccountsForRegisteredStake(t,e,r){return __awaiter$a(this,void 0,void 0,function*(){const n=new anchor_1$7.AnchorProvider(t,null,null),o=(0,utils_1$7.getStakingIdl)(e),s=new anchor_1$7.Program(o,e,n),a=[{dataSize:171},{memcmp:{offset:40,bytes:r.toBase58()}}];return yield s.account.stakingAccount.all(a)})}pda_getters.getStakingAccountsForRegisteredStake=getStakingAccountsForRegisteredStake;function getStakingVarsAccount(t){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.STAKING_VARS],t)})}pda_getters.getStakingVarsAccount=getStakingVarsAccount;function getTokenEscrow(t,e,r){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.STAKING_ESCROW,e.toBuffer(),r.toBuffer()],t)})}pda_getters.getTokenEscrow=getTokenEscrow;function getRewardAuth(t,e){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.REWARD_AUTH,e.toBuffer()],t)})}pda_getters.getRewardAuth=getRewardAuth;var pda_info_getters={},__awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(pda_info_getters,"__esModule",{value:!0});pda_info_getters.getStakingVarsAccountInfo=pda_info_getters.getStakingAccountInfo=pda_info_getters.getRegisteredStakeAccountInfo=void 0;const getStakingProgram_1=getStakingProgram$1,pda_getters_1$2=pda_getters;function getRegisteredStakeAccountInfo(t,e,r){return __awaiter$9(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:r}).account.registeredStake.fetch(e)})}pda_info_getters.getRegisteredStakeAccountInfo=getRegisteredStakeAccountInfo;function getStakingAccountInfo(t,e,r){return __awaiter$9(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:r}).account.stakingAccount.fetch(e)})}pda_info_getters.getStakingAccountInfo=getStakingAccountInfo;function getStakingVarsAccountInfo(t,e){return __awaiter$9(this,void 0,void 0,function*(){const r=(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:e}),[n]=yield(0,pda_getters_1$2.getStakingVarsAccount)(e);return yield r.account.stakingVars.fetch(n)})}pda_info_getters.getStakingVarsAccountInfo=getStakingVarsAccountInfo;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pda_getters,t),r(pda_info_getters,t),r(seeds,t)})(pda_getters$1);var __awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(registerStake,"__esModule",{value:!0});registerStake.registerStakeInstruction=void 0;const anchor_1$6=require$$0$1,token_1$3=token,pda_getters_1$1=pda_getters$1,utils_1$6=utils$1;function registerStakeInstruction({connection:t,authority:e,rewardMultiplier:r,stakeMint:n,rewardMint:o,cooldownPeriod:s,programId:a}){return __awaiter$8(this,void 0,void 0,function*(){const c=(0,utils_1$6.getStakingProgram)({connection:t,programId:a}),d={instructions:[],signers:[]},[m]=yield(0,pda_getters_1$1.getRegisteredStake)(a,e,n,o),gr=yield(0,token_1$3.associatedAddress)({owner:m,mint:o}),vr=yield c.methods.registerStake(new anchor_1$6.BN(r),new anchor_1$6.BN(s)).accounts({authority:e,stakeMint:n,rewardMint:o,rewardAta:gr}).instruction();return d.instructions.push(vr),d})}registerStake.registerStakeInstruction=registerStakeInstruction;var settle={},__awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(settle,"__esModule",{value:!0});settle.createSettleStakingAccountInstruction=void 0;const utils_1$5=utils$1;function createSettleStakingAccountInstruction({connection:t,authority:e,registeredStake:r,stakingAccount:n,updatedStakingPeriod:o,programId:s}){return __awaiter$7(this,void 0,void 0,function*(){const a=(0,utils_1$5.getStakingProgram)({connection:t,programId:s}),c={instructions:[],signers:[]},d=yield a.methods.settle(o).accounts({authority:e,registeredStake:r,stakingAccount:n}).instruction();return c.instructions.push(d),c})}settle.createSettleStakingAccountInstruction=createSettleStakingAccountInstruction;var stakeTokens={},__awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(stakeTokens,"__esModule",{value:!0});stakeTokens.stakeTokensInstruction=void 0;const token_1$2=token,utils_1$4=utils$1;function stakeTokensInstruction({connection:t,user:e,stakeMint:r,tokenSource:n,stakeQuantity:o,registeredStake:s,stakingAccount:a,programId:c}){return __awaiter$6(this,void 0,void 0,function*(){const d=(0,utils_1$4.getStakingProgram)({connection:t,programId:c}),m=yield(0,token_1$2.associatedAddress)({owner:a,mint:r}),gr={instructions:[],signers:[]},vr=yield d.methods.stakeTokens(o).accounts({user:e,stakeMint:r,tokenSource:n,registeredStake:s,tokenEscrow:m}).instruction();return gr.instructions.push(vr),gr})}stakeTokens.stakeTokensInstruction=stakeTokensInstruction;var unstakeTokens={},__awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(unstakeTokens,"__esModule",{value:!0});unstakeTokens.unstakeTokensInstruction=void 0;const anchor_1$5=require$$0$1,token_1$1=token,util_1$2=util,pda_getters_1=pda_getters$1,utils_1$3=utils$1;function unstakeTokensInstruction({connection:t,user:e,registeredStake:r,stakingAccount:n,programId:o}){return __awaiter$5(this,void 0,void 0,function*(){const s=(0,utils_1$3.getStakingProgram)({connection:t,programId:o}),a={signers:[],instructions:[]},d=(yield(0,pda_getters_1.getRegisteredStakeAccountInfo)(t,r,o)).rewardMint;let m=null,gr=null;const vr=yield(0,util_1$2.getTokenAccount)(t,e,d);m=vr.tokenAccount,"createInstruction"in vr&&a.instructions.push(...vr.createInstruction),m instanceof anchor_1$5.web3.Keypair?(gr=m.publicKey,a.signers.push(m)):gr=m;const Ar=yield(0,token_1$1.associatedAddress)({owner:r,mint:d}),Tr=yield s.methods.unstakeTokens().accounts({user:e,rewardMint:d,registeredStake:r,stakingAccount:n,userRewardAccount:gr,rewardAta:Ar}).instruction();return a.instructions.push(Tr),a})}unstakeTokens.unstakeTokensInstruction=unstakeTokensInstruction;var updateCooldownPeriod={},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(updateCooldownPeriod,"__esModule",{value:!0});updateCooldownPeriod.updateCooldownPeriodInstruction=void 0;const anchor_1$4=require$$0$1,utils_1$2=utils$1;function updateCooldownPeriodInstruction({connection:t,authority:e,registeredStake:r,cooldownPeriod:n,programId:o}){return __awaiter$4(this,void 0,void 0,function*(){const s=(0,utils_1$2.getStakingProgram)({connection:t,programId:o}),a={instructions:[],signers:[]},c=yield s.methods.updateCooldownPeriod(new anchor_1$4.BN(n)).accounts({authority:e,registeredStake:r}).instruction();return a.instructions.push(c),a})}updateCooldownPeriod.updateCooldownPeriodInstruction=updateCooldownPeriodInstruction;var updateRewardMultiplier={},__awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(updateRewardMultiplier,"__esModule",{value:!0});updateRewardMultiplier.updateRewardMultiplierInstruction=void 0;const anchor_1$3=require$$0$1,utils_1$1=utils$1;function updateRewardMultiplierInstruction({connection:t,authority:e,rewardMultiplier:r,registeredStake:n,newStakingPeriod:o,programId:s}){return __awaiter$3(this,void 0,void 0,function*(){const a=(0,utils_1$1.getStakingProgram)({connection:t,programId:s}),c={instructions:[],signers:[]},d=yield a.methods.updateRewardMultiplier(new anchor_1$3.BN(r),o).accounts({authority:e,registeredStake:n}).instruction();return c.instructions.push(d),c})}updateRewardMultiplier.updateRewardMultiplierInstruction=updateRewardMultiplierInstruction;var withdrawTokens={},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(withdrawTokens,"__esModule",{value:!0});withdrawTokens.withdrawTokensInstruction=void 0;const anchor_1$2=require$$0$1,token_1=token,utils_1=utils$1,util_1$1=util;function withdrawTokensInstruction({connection:t,authority:e,user:r,stakeMint:n,registeredStake:o,stakingAccount:s,programId:a}){return __awaiter$2(this,void 0,void 0,function*(){const c=(0,utils_1.getStakingProgram)({connection:t,programId:a}),d=yield(0,token_1.associatedAddress)({owner:s,mint:n}),m={signers:[],instructions:[]};let gr=null,vr=null;const Ar=yield(0,util_1$1.getTokenAccount)(t,r,n);gr=Ar.tokenAccount,"createInstruction"in Ar&&m.instructions.push(...Ar.createInstruction),gr instanceof anchor_1$2.web3.Keypair?(vr=gr.publicKey,m.signers.push(gr)):vr=gr;const Tr=yield c.methods.withdrawTokens().accounts({user:r,authority:e,stakeMint:n,tokenSource:vr,registeredStake:o,stakingAccount:s,tokenEscrow:d}).instruction();return m.instructions.push(Tr),m})}withdrawTokens.withdrawTokensInstruction=withdrawTokensInstruction;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(baseParams,t),r(cancelUnstake,t),r(createStakeAccount,t),r(harvestRewards,t),r(initializeStaking,t),r(registerStake,t),r(settle,t),r(stakeTokens,t),r(unstakeTokens,t),r(updateCooldownPeriod,t),r(updateRewardMultiplier,t),r(withdrawTokens,t)})(instruction_builders$1);var types$1={},stakingProgramAccounts={};Object.defineProperty(stakingProgramAccounts,"__esModule",{value:!0});(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(stakingIdl,t),r(stakingProgramAccounts,t)})(types$1);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(instruction_builders$1,t),r(pda_getters$1,t),r(types$1,t),r(utils$1,t)})(atlasStaking);var factions={};(function(t){var e=commonjsGlobal&&commonjsGlobal.__awaiter||function(vr,Ar,Tr,Rr){function kr(xr){return xr instanceof Tr?xr:new Tr(function(Dr){Dr(xr)})}return new(Tr||(Tr=Promise))(function(xr,Dr){function Ur(Hr){try{Nr(Rr.next(Hr))}catch(Mr){Dr(Mr)}}function Cr(Hr){try{Nr(Rr.throw(Hr))}catch(Mr){Dr(Mr)}}function Nr(Hr){Hr.done?xr(Hr.value):kr(Hr.value).then(Ur,Cr)}Nr((Rr=Rr.apply(vr,Ar||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.getPlayersOfFaction=t.getAllPlayers=t.getPlayer=t.enlistToFaction=t.getPlayerFactionPDA=t.getIDL=t.FactionType=void 0;const r=require$$0$1,n={version:"0.0.0",name:"enlist_to_faction",instructions:[{name:"processEnlistPlayer",accounts:[{name:"playerFactionAccount",isMut:!0,isSigner:!1},{name:"playerAccount",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"factionId",type:"u8"}]}],accounts:[{name:"PlayerFactionData",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"enlistedAtTimestamp",type:"i64"},{name:"factionId",type:"u8"},{name:"bump",type:"u8"},{name:"padding",type:{array:["u64",5]}}]}}],errors:[{code:300,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."}],metadata:{}},o="FACTION_ENLISTMENT";(function(vr){vr[vr.Unenlisted=-1]="Unenlisted",vr[vr.MUD=0]="MUD",vr[vr.ONI=1]="ONI",vr[vr.Ustur=2]="Ustur"})(t.FactionType||(t.FactionType={}));function s(vr){const Ar=n;return Ar.metadata.address=vr.toBase58(),Ar}t.getIDL=s;function a(vr,Ar){return e(this,void 0,void 0,function*(){return r.web3.PublicKey.findProgramAddress([dist$1.Buffer.from(o,"utf8"),vr.toBuffer()],Ar)})}t.getPlayerFactionPDA=a;function c(vr,Ar,Tr,Rr){return e(this,void 0,void 0,function*(){const[kr,xr]=yield a(Tr,Rr),Dr=s(Rr),Ur=new r.AnchorProvider(vr,null,null);return yield new r.Program(Dr,Rr,Ur).instruction.processEnlistPlayer(xr,Ar,{accounts:{playerFactionAccount:kr,playerAccount:Tr,systemProgram:r.web3.SystemProgram.programId,clock:r.web3.SYSVAR_CLOCK_PUBKEY}})})}t.enlistToFaction=c;function d(vr,Ar,Tr){return e(this,void 0,void 0,function*(){const Rr=new r.AnchorProvider(vr,null,null),kr=s(Tr),xr=new r.Program(kr,Tr,Rr),[Dr]=yield a(Ar,Tr);return yield xr.account.playerFactionData.fetch(Dr)})}t.getPlayer=d;function m(vr,Ar){return e(this,void 0,void 0,function*(){const Tr=new r.AnchorProvider(vr,null,null),Rr=s(Ar);return(yield new r.Program(Rr,Ar,Tr).account.playerFactionData.all()).map(Ur=>Ur.account)})}t.getAllPlayers=m;function gr(vr,Ar,Tr){return e(this,void 0,void 0,function*(){const Rr=new r.AnchorProvider(vr,null,null),kr=s(Tr);return(yield new r.Program(kr,Tr,Rr).account.playerFactionData.all()).map(Cr=>Cr.account).filter(Cr=>Cr.factionId==Ar)})}t.getPlayersOfFaction=gr})(factions);var gumdrop={},gumdropIdl={};Object.defineProperty(gumdropIdl,"__esModule",{value:!0});gumdropIdl.gumDropIdl=void 0;gumdropIdl.gumDropIdl={version:"0.0.0",name:"merkle_distributor",instructions:[{name:"newDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]},{name:"closeDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"receiver",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"walletBump",type:"u8"}]},{name:"claim",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"claimStatus",isMut:!0,isSigner:!1},{name:"from",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]},{name:"claimCandy",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"claimCount",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"candyMachineConfig",isMut:!1,isSigner:!1},{name:"candyMachine",isMut:!0,isSigner:!1},{name:"candyMachineWallet",isMut:!0,isSigner:!1},{name:"candyMachineMint",isMut:!0,isSigner:!1},{name:"candyMachineMetadata",isMut:!0,isSigner:!1},{name:"candyMachineMasterEdition",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"candyMachineProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"walletBump",type:"u8"},{name:"claimBump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]}],accounts:[{name:"MerkleDistributor",type:{kind:"struct",fields:[{name:"base",type:"publicKey"},{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]}},{name:"ClaimStatus",type:{kind:"struct",fields:[{name:"isClaimed",type:"bool"},{name:"claimant",type:"publicKey"},{name:"claimedAt",type:"i64"},{name:"amount",type:"u64"}]}},{name:"ClaimCount",type:{kind:"struct",fields:[{name:"count",type:"u64"},{name:"claimant",type:"publicKey"}]}},{name:"CandyMachine",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"wallet",type:"publicKey"},{name:"tokenMint",type:{option:"publicKey"}},{name:"config",type:"publicKey"},{name:"data",type:{defined:"CandyMachineData"}},{name:"itemsRedeemed",type:"u64"},{name:"bump",type:"u8"}]}}],types:[{name:"CandyMachineData",type:{kind:"struct",fields:[{name:"uuid",type:"string"},{name:"price",type:"u64"},{name:"itemsAvailable",type:"u64"},{name:"goLiveDate",type:{option:"i64"}}]}}],events:[{name:"ClaimedEvent",fields:[{name:"index",type:"u64",index:!1},{name:"claimant",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:300,name:"InvalidProof",msg:"Invalid Merkle proof."},{code:301,name:"DropAlreadyClaimed",msg:"Drop already claimed."},{code:302,name:"Unauthorized",msg:"Account is not authorized to execute this instruction"},{code:303,name:"OwnerMismatch",msg:"Token account owner did not match intended owner"},{code:304,name:"TemporalMismatch",msg:"Temporal signer did not match distributor"}]};(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(kr,xr,Dr,Ur){Ur===void 0&&(Ur=Dr);var Cr=Object.getOwnPropertyDescriptor(xr,Dr);(!Cr||("get"in Cr?!xr.__esModule:Cr.writable||Cr.configurable))&&(Cr={enumerable:!0,get:function(){return xr[Dr]}}),Object.defineProperty(kr,Ur,Cr)}:function(kr,xr,Dr,Ur){Ur===void 0&&(Ur=Dr),kr[Ur]=xr[Dr]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(kr,xr){Object.defineProperty(kr,"default",{enumerable:!0,value:xr})}:function(kr,xr){kr.default=xr}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(kr){if(kr&&kr.__esModule)return kr;var xr={};if(kr!=null)for(var Dr in kr)Dr!=="default"&&Object.prototype.hasOwnProperty.call(kr,Dr)&&e(xr,kr,Dr);return r(xr,kr),xr},o=commonjsGlobal&&commonjsGlobal.__awaiter||function(kr,xr,Dr,Ur){function Cr(Nr){return Nr instanceof Dr?Nr:new Dr(function(Hr){Hr(Nr)})}return new(Dr||(Dr=Promise))(function(Nr,Hr){function Mr(Xr){try{Vr(Ur.next(Xr))}catch(Yr){Hr(Yr)}}function Fr(Xr){try{Vr(Ur.throw(Xr))}catch(Yr){Hr(Yr)}}function Vr(Xr){Xr.done?Nr(Xr.value):Cr(Xr.value).then(Mr,Fr)}Vr((Ur=Ur.apply(kr,xr||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.claimTokenInstructions=t.getMultipleClaimStatusAccounts=t.getClaimStatusAccount=t.getClaimStatusKey=void 0;const s=require$$0$1,a=require$$1$1,c=n(bs58$2),d=helpers$1,m=gumdropIdl,gr=new s.web3.PublicKey("gdrpGjVffourzkdDRrQmySw4aTHr8a3xmQzzxSwFD1a"),vr=(kr,xr,Dr=gr)=>o(void 0,void 0,void 0,function*(){return yield s.web3.PublicKey.findProgramAddress([dist$1.Buffer.from("ClaimStatus"),kr.toArrayLike(dist$1.Buffer,"le",8),xr.toBuffer()],Dr)});t.getClaimStatusKey=vr;const Ar=(kr,xr,Dr,Ur=gr)=>o(void 0,void 0,void 0,function*(){const Cr=new s.AnchorProvider(kr,null,null),Nr=new s.Program(m.gumDropIdl,Ur,Cr),Hr=yield(0,t.getClaimStatusKey)(xr,Dr,Ur);try{return yield Nr.account.claimStatus.fetch(Hr[0])}catch{return null}});t.getClaimStatusAccount=Ar;const Tr=(kr,xr,Dr,Ur=gr)=>o(void 0,void 0,void 0,function*(){const Cr=new s.AnchorProvider(kr,null,null),Nr=new s.Program(m.gumDropIdl,Ur,Cr),Hr=xr.map(Vr=>(0,t.getClaimStatusKey)(Vr,Dr,Ur)),Mr=(yield Promise.all(Hr)).map(Vr=>Vr[0]);return yield Nr.account.claimStatus.fetchMultiple(Mr)});t.getMultipleClaimStatusAccounts=Tr;const Rr=kr=>o(void 0,void 0,void 0,function*(){const{connection:xr,claimUrl:Dr,playerPublicKey:Ur,programId:Cr}=kr,Nr=new URLSearchParams(Dr.split("?")[1]),Hr=Nr.get("distributor"),Mr=Nr.get("handle"),Fr=Nr.get("amount"),Vr=Nr.get("index"),Xr=Nr.get("proof"),Yr=Nr.get("tokenAcc");if(!Hr||!Mr||!Fr||!Vr||!Xr||!Yr)throw new Error("Invalid claim");const tn=Xr===""?[]:Xr.split(",").map(dn=>{const gn=dist$1.Buffer.from(c.decode(dn));if(gn.length!==32)throw new Error("Invalid proof hash length");return gn}),an=new s.web3.PublicKey(Hr),Lr=new s.web3.PublicKey(Yr),Er=yield xr.getAccountInfo(Lr);if(Er===null)throw new Error("Could not fetch distributor token account");const Or=a.AccountLayout.decode(Er.data),jr=new s.web3.PublicKey(Or.mint),Gr=new s.web3.PublicKey(Mr),qr=yield(0,d.getAssociatedTokenAddress)(Gr,jr),Jr=yield xr.getParsedTokenAccountsByOwner(Gr,{mint:jr}),en=new s.BN(Vr),Kr=new s.BN(Fr),[Ir,zr]=yield(0,t.getClaimStatusKey)(en,an,Cr),un=new s.AnchorProvider(xr,null,null),vn=new s.Program(m.gumDropIdl,Cr,un),_n=[];return Jr.value.length===0&&_n.push(a.Token.createAssociatedTokenAccountInstruction(a.ASSOCIATED_TOKEN_PROGRAM_ID,a.TOKEN_PROGRAM_ID,jr,qr,Gr,Ur)),_n.push(vn.instruction.claim(zr,en,Kr,Ur,tn,{accounts:{distributor:an,claimStatus:Ir,from:Lr,to:qr,temporal:Ur,payer:Ur,tokenProgram:a.TOKEN_PROGRAM_ID,systemProgram:s.web3.SystemProgram.programId}})),_n});t.claimTokenInstructions=Rr})(gumdrop);var score={},scoreIdl={};Object.defineProperty(scoreIdl,"__esModule",{value:!0});scoreIdl.baseIdl=void 0;scoreIdl.baseIdl={version:"0.0.0",name:"score",instructions:[{name:"processInitialize",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"atlasMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processRegisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"scorevarsShipBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]},{name:"processDeregisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processUpdateRewardRate",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"newRewardRatePerSecond",type:"u64"}]},{name:"processInitialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerFactionAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processPartialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processRefuel",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"fuelTokenAccountSource",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"fuelQuantity",type:"u64"}]},{name:"processRefeed",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"foodTokenAccountSource",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"foodQuantity",type:"u64"}]},{name:"processRearm",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"armsTokenAccountSource",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"armsQuantity",type:"u64"}]},{name:"processRepair",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"toolkitQuantity",type:"u64"}]},{name:"processSettle",accounts:[{name:"playerAccount",isMut:!1,isSigner:!1},{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processHarvest",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processWithdrawFuel",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountReturn",isMut:!0,isSigner:!1},{name:"fuelMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawFood",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountReturn",isMut:!0,isSigner:!1},{name:"foodMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawArms",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountReturn",isMut:!0,isSigner:!1},{name:"armsMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawShips",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"shipTokenAccountReturn",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"},{name:"treasuryBump",type:"u8"}]},{name:"processCloseAccounts",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"shipBump",type:"u8"},{name:"fuelBump",type:"u8"},{name:"foodBump",type:"u8"},{name:"armsBump",type:"u8"},{name:"escrowAuthBump",type:"u8"}]}],accounts:[{name:"ScoreVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"fuelMint",type:"publicKey"},{name:"foodMint",type:"publicKey"},{name:"armsMint",type:"publicKey"},{name:"toolkitMint",type:"publicKey"}]}},{name:"ScoreVarsShip",type:{kind:"struct",fields:[{name:"shipMint",type:"publicKey"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]}},{name:"ShipStaking",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"factionId",type:"u8"},{name:"shipMint",type:"publicKey"},{name:"shipQuantityInEscrow",type:"u64"},{name:"fuelQuantityInEscrow",type:"u64"},{name:"foodQuantityInEscrow",type:"u64"},{name:"armsQuantityInEscrow",type:"u64"},{name:"fuelCurrentCapacity",type:"u64"},{name:"foodCurrentCapacity",type:"u64"},{name:"armsCurrentCapacity",type:"u64"},{name:"healthCurrentCapacity",type:"u64"},{name:"stakedAtTimestamp",type:"i64"},{name:"fueledAtTimestamp",type:"i64"},{name:"fedAtTimestamp",type:"i64"},{name:"armedAtTimestamp",type:"i64"},{name:"repairedAtTimestamp",type:"i64"},{name:"currentCapacityTimestamp",type:"i64"},{name:"totalTimeStaked",type:"u64"},{name:"stakedTimePaid",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"totalRewardsPaid",type:"u64"}]}}],types:[{name:"Resource",type:{kind:"enum",variants:[{name:"Arms"},{name:"Fuel"},{name:"Food"},{name:"Toolkits"}]}}],errors:[{code:300,name:"ScorevarsNotInitialized",msg:"Scorevars auth is not initialized"},{code:301,name:"ScorevarsAuthInvalid",msg:"Scorevars auth invalid"},{code:302,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."},{code:303,name:"InvalidShipError",msg:"Invalid Ship Mint"},{code:304,name:"InvalidResourceError",msg:"Invalid Resource Mint"},{code:305,name:"ZeroResourceError",msg:"Resource Quantity must be >0."},{code:306,name:"ZeroShipError",msg:"Ship Quantity must be >0."},{code:307,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:308,name:"ResourceAmountTooSmall",msg:"Resource Amount Too Small, would add 0 seconds to capacity"},{code:309,name:"InvalidScoreVarsAccount",msg:"Invalid ScoreVars account for ship Staking Account given"},{code:310,name:"InvalidResourceWithdraw",msg:"Invalid Resource Withdraw, nothing to withdraw"},{code:311,name:"InvalidShipStakingOwner",msg:"Invalid Ship Staking Owner"},{code:312,name:"InvalidShipWithdraw",msg:"Invalid Ship Withdraw"},{code:313,name:"NotEnoughToolkits",msg:"Not enough toolkits for Ship Withdraw"},{code:314,name:"EscrowAccountNotZero",msg:"Escrow account must be 0 to close accounts"},{code:315,name:"IncorrectTokenAccountOwner",msg:"Token account does not have correct owner!"},{code:316,name:"UninitializedTokenAccount",msg:"Token or Mint Account is not initialized!"},{code:317,name:"IncorrectTokenAccountMint",msg:"Token or Mint Account mint is not correct!"}],metadata:{}};var scoreLogIdl={};Object.defineProperty(scoreLogIdl,"__esModule",{value:!0});scoreLogIdl.scoreLogBaseIdl=void 0;scoreLogIdl.scoreLogBaseIdl={version:"0.0.0",name:"score_logs",instructions:[],events:[{name:"ProcessInitialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"factionId",type:"u8",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessPartialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"previousShipQuantity",type:"u64",index:!1},{name:"addedShipQuantity",type:"u64",index:!1},{name:"newShipQuantity",type:"u64",index:!1},{name:"partialDepositTimestamp",type:"i64",index:!1}]},{name:"ProcessRearmMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityToDeposit",type:"u64",index:!1},{name:"armedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefeedMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityToDeposit",type:"u64",index:!1},{name:"fedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefuelMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityToDeposit",type:"u64",index:!1},{name:"fueledAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRepairMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"toolkitQuantityToDeposit",type:"u64",index:!1},{name:"repairedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessHarvestMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"rewardPayout",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"harvestTimestamp",type:"i64",index:!1}]},{name:"ProcessSettleMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"settleTimestamp",type:"i64",index:!1}]},{name:"ProcessArmsWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityWithdrawn",type:"u64",index:!1},{name:"armsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFoodWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityWithdrawn",type:"u64",index:!1},{name:"foodWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFuelWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityWithdrawn",type:"u64",index:!1},{name:"fuelWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessWithdrawShipsMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"shipsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessCloseAccountMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"accountClosedTimestamp",type:"i64",index:!1}]}]};var __awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})};Object.defineProperty(score,"__esModule",{value:!0});score.closeAccountsInstruction=score.createWithdrawShipsInstruction=score.createWithdrawArmsInstruction=score.createWithdrawFoodInstruction=score.createWithdrawFuelInstruction=score.createHarvestInstruction=score.createSettleInstruction=score.createRepairInstruction=score.createRefuelInstruction=score.createRefeedInstruction=score.createRearmInstruction=score.createPartialDepositInstruction=score.createInitialDepositInstruction=score.createUpdateRewardRateInstruction=score.createDeregisterShipInstruction=score.createRegisterShipInstruction=score.createScoreVarsInitializeInstruction=score.getAllFleetsForUserPublicKey=score.getAllFleets=score.getAllRegisteredShips=score.getScoreTreasuryAuthAccount=score.getScoreTreasuryTokenAccount=score.getScoreVarsShipInfo=score.decodeEvent=score.getShipStakingAccountInfo=score.getScoreVarsInfo=score.getShipStakingAccount=score.getScoreEscrowAuthAccount=score.getScoreEscrowAccount=score.getScoreVarsShipAccount=score.getScoreVarsAccount=score.getScoreIDL=void 0;const anchor_1$1=require$$0$1,spl_token_1$1=require$$1$1,web3_js_1=require$$0$2,_1$1=dist,scoreIdl_1=scoreIdl,scoreLogIdl_1=scoreLogIdl,util_1=util;function getScoreIDL(t){const e=scoreIdl_1.baseIdl;return e.metadata.address=t.toBase58(),e}score.getScoreIDL=getScoreIDL;function getScoreVarsAccount(t){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$1.Buffer.from("SCOREVARS")],t)})}score.getScoreVarsAccount=getScoreVarsAccount;function getScoreVarsShipAccount(t,e){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$1.Buffer.from("SCOREVARS_SHIP"),e.toBuffer()],t)})}score.getScoreVarsShipAccount=getScoreVarsShipAccount;function getScoreEscrowAccount(t,e,r,n){return __awaiter$1(this,void 0,void 0,function*(){const o=[dist$1.Buffer.from("SCORE_ESCROW"),n.toBuffer(),e.toBuffer()];return r!==null&&o.push(r.toBuffer()),anchor_1$1.web3.PublicKey.findProgramAddress(o,t)})}score.getScoreEscrowAccount=getScoreEscrowAccount;function getScoreEscrowAuthAccount(t,e,r){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$1.Buffer.from("SCORE_ESCROW_AUTHORITY"),r.toBuffer(),e.toBuffer()],t)})}score.getScoreEscrowAuthAccount=getScoreEscrowAuthAccount;function getShipStakingAccount(t,e,r){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$1.Buffer.from("SCORE_INFO"),r.toBuffer(),e.toBuffer()],t)})}score.getShipStakingAccount=getShipStakingAccount;function getScoreVarsInfo(t,e){return __awaiter$1(this,void 0,void 0,function*(){const r=new anchor_1$1.AnchorProvider(t,null,null),n=getScoreIDL(e),o=new anchor_1$1.Program(n,e,r),[s]=yield getScoreVarsAccount(e);return yield o.account.scoreVars.fetch(s)})}score.getScoreVarsInfo=getScoreVarsInfo;function getShipStakingAccountInfo(t,e,r,n){return __awaiter$1(this,void 0,void 0,function*(){const o=new anchor_1$1.AnchorProvider(t,null,null),s=getScoreIDL(e),a=new anchor_1$1.Program(s,e,o),[c]=yield getShipStakingAccount(e,r,n);return yield a.account.shipStaking.fetch(c)})}score.getShipStakingAccountInfo=getShipStakingAccountInfo;function decodeEvent(t,e,r){return __awaiter$1(this,void 0,void 0,function*(){const n=new anchor_1$1.AnchorProvider(t,null,null);return new anchor_1$1.Program(scoreLogIdl_1.scoreLogBaseIdl,e,n).coder.events.decode(r)})}score.decodeEvent=decodeEvent;function getScoreVarsShipInfo(t,e,r){return __awaiter$1(this,void 0,void 0,function*(){const n=new anchor_1$1.AnchorProvider(t,null,null),o=getScoreIDL(e),s=new anchor_1$1.Program(o,e,n),[a]=yield getScoreVarsShipAccount(e,r);return yield s.account.scoreVarsShip.fetch(a)})}score.getScoreVarsShipInfo=getScoreVarsShipInfo;function getScoreTreasuryTokenAccount(t){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$1.Buffer.from("SCORE_TREASURY")],t)})}score.getScoreTreasuryTokenAccount=getScoreTreasuryTokenAccount;function getScoreTreasuryAuthAccount(t){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$1.Buffer.from("SCORE_TREASURY_AUTHORITY")],t)})}score.getScoreTreasuryAuthAccount=getScoreTreasuryAuthAccount;function getAllRegisteredShips(t,e){return __awaiter$1(this,void 0,void 0,function*(){const r=getScoreIDL(e),n=new anchor_1$1.AnchorProvider(t,null,null),s=yield new anchor_1$1.Program(r,e,n).account.scoreVarsShip.all(),a=[];for(const c of s)a.push(c.account);return a})}score.getAllRegisteredShips=getAllRegisteredShips;function getAllFleets(t,e){return __awaiter$1(this,void 0,void 0,function*(){const r=getScoreIDL(e),n=new anchor_1$1.AnchorProvider(t,null,null),s=yield new anchor_1$1.Program(r,e,n).account.shipStaking.all(),a=[];for(const c of s)a.push(c.account);return a})}score.getAllFleets=getAllFleets;function getAllFleetsForUserPublicKey(t,e,r){return __awaiter$1(this,void 0,void 0,function*(){const n=getScoreIDL(r),o=new anchor_1$1.AnchorProvider(t,null,null),s=new anchor_1$1.Program(n,r,o),a=yield s.account.scoreVarsShip.all(),c=[];for(const gr of a){const[vr]=yield getShipStakingAccount(r,gr.account.shipMint,e);c.push(vr)}return(yield s.account.shipStaking.fetchMultiple(c)).filter(gr=>gr!==null).map(gr=>gr)})}score.getAllFleetsForUserPublicKey=getAllFleetsForUserPublicKey;function createScoreVarsInitializeInstruction(t,e,r,n,o,s,a,c){return __awaiter$1(this,void 0,void 0,function*(){const d=getScoreIDL(c),m=new anchor_1$1.AnchorProvider(t,null,null),gr=new anchor_1$1.Program(d,c,m),[vr,Ar]=yield getScoreTreasuryTokenAccount(c),[Tr,Rr]=yield getScoreTreasuryAuthAccount(c),[kr,xr]=yield getScoreVarsAccount(c);return yield gr.instruction.processInitialize(xr,Ar,Rr,{accounts:{updateAuthorityAccount:e,scoreVarsAccount:kr,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:web3_js_1.SystemProgram.programId,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,treasuryTokenAccount:vr,treasuryAuthorityAccount:Tr,atlasMint:r,fuelMint:n,foodMint:o,armsMint:s,toolkitMint:a},signers:[]})})}score.createScoreVarsInitializeInstruction=createScoreVarsInitializeInstruction;function createRegisterShipInstruction(t,e,r,n,o,s,a,c,d,m,gr,vr,Ar){return __awaiter$1(this,void 0,void 0,function*(){const Tr=getScoreIDL(Ar),Rr=new anchor_1$1.AnchorProvider(t,null,null),kr=new anchor_1$1.Program(Tr,Ar,Rr),[xr,Dr]=yield getScoreVarsShipAccount(Ar,r),[Ur,Cr]=yield getScoreVarsAccount(Ar);return yield kr.instruction.processRegisterShip(Cr,Dr,new anchor_1$1.BN(vr),n,o,s,a,c,d,m,gr,{accounts:{updateAuthorityAccount:e,scoreVarsAccount:Ur,scoreVarsShipAccount:xr,shipMint:r,systemProgram:web3_js_1.SystemProgram.programId},signers:[]})})}score.createRegisterShipInstruction=createRegisterShipInstruction;function createDeregisterShipInstruction(t,e,r,n){return __awaiter$1(this,void 0,void 0,function*(){const o=getScoreIDL(n),s=new anchor_1$1.AnchorProvider(t,null,null),a=new anchor_1$1.Program(o,n,s),[c,d]=yield getScoreVarsShipAccount(n,r),[m,gr]=yield getScoreVarsAccount(n);return yield a.instruction.processDeregisterShip(gr,d,{accounts:{updateAuthorityAccount:e,scoreVarsAccount:m,scoreVarsShipAccount:c,shipMint:r},signers:[]})})}score.createDeregisterShipInstruction=createDeregisterShipInstruction;function createUpdateRewardRateInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const s=getScoreIDL(o),a=new anchor_1$1.AnchorProvider(t,null,null),c=new anchor_1$1.Program(s,o,a),[d,m]=yield getScoreVarsShipAccount(o,r),[gr,vr]=yield getScoreVarsAccount(o);return yield c.instruction.processUpdateRewardRate(vr,m,new anchor_1$1.BN(n),{accounts:{updateAuthorityAccount:e,scoreVarsAccount:gr,scoreVarsShipAccount:d,shipMint:r},signers:[]})})}score.createUpdateRewardRateInstruction=createUpdateRewardRateInstruction;function createInitialDepositInstruction(t,e,r,n,o,s,a=new anchor_1$1.web3.PublicKey("FACTNmq2FhA2QNTnGM2aWJH3i7zT3cND5CgvjYTjyVYe")){return __awaiter$1(this,void 0,void 0,function*(){const[c,d]=yield getScoreEscrowAuthAccount(s,n,e),[m,gr]=yield getScoreEscrowAccount(s,n,null,e),[vr,Ar]=yield getShipStakingAccount(s,n,e),[Tr,Rr]=yield getScoreVarsShipAccount(s,n),[kr]=yield(0,_1$1.getPlayerFactionPDA)(e,a),xr=getScoreIDL(s),Dr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(xr,s,Dr).instruction.processInitialDeposit(Ar,Rr,d,gr,new anchor_1$1.BN(r),{accounts:{playerAccount:e,shipStakingAccount:vr,scoreVarsShipAccount:Tr,playerFactionAccount:kr,escrowAuthority:c,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:n,shipTokenAccountSource:o,shipTokenAccountEscrow:m}})})}score.createInitialDepositInstruction=createInitialDepositInstruction;function createPartialDepositInstruction(t,e,r,n,o,s){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getScoreEscrowAuthAccount(s,n,e),[d,m]=yield getScoreEscrowAccount(s,n,null,e),[gr,vr]=yield getShipStakingAccount(s,n,e),[Ar,Tr]=yield getScoreVarsShipAccount(s,n),Rr=getScoreIDL(s),kr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Rr,s,kr).instruction.processPartialDeposit(vr,Tr,c,m,new anchor_1$1.BN(r),{accounts:{playerAccount:e,shipStakingAccount:gr,scoreVarsShipAccount:Ar,escrowAuthority:a,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n,shipTokenAccountSource:o,shipTokenAccountEscrow:d}})})}score.createPartialDepositInstruction=createPartialDepositInstruction;function createRearmInstruction(t,e,r,n,o,s,a,c){return __awaiter$1(this,void 0,void 0,function*(){const[d,m]=yield getScoreEscrowAuthAccount(c,o,r),[gr,vr]=yield getScoreEscrowAccount(c,o,s,r),[Ar,Tr]=yield getShipStakingAccount(c,o,r),[Rr,kr]=yield getScoreVarsShipAccount(c,o),[xr,Dr]=yield getScoreVarsAccount(c),Ur=getScoreIDL(c),Cr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Ur,c,Cr).instruction.processRearm(Tr,Dr,kr,m,vr,new anchor_1$1.BN(n),{accounts:{tokenOwnerAccount:e,playerAccount:r,shipStakingAccount:Ar,scoreVarsAccount:xr,scoreVarsShipAccount:Rr,escrowAuthority:d,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,armsMint:s,armsTokenAccountSource:a,armsTokenAccountEscrow:gr}})})}score.createRearmInstruction=createRearmInstruction;function createRefeedInstruction(t,e,r,n,o,s,a,c){return __awaiter$1(this,void 0,void 0,function*(){const[d,m]=yield getScoreEscrowAuthAccount(c,o,r),[gr,vr]=yield getScoreEscrowAccount(c,o,s,r),[Ar,Tr]=yield getShipStakingAccount(c,o,r),[Rr,kr]=yield getScoreVarsShipAccount(c,o),[xr,Dr]=yield getScoreVarsAccount(c),Ur=getScoreIDL(c),Cr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Ur,c,Cr).instruction.processRefeed(Tr,Dr,kr,m,vr,new anchor_1$1.BN(n),{accounts:{tokenOwnerAccount:e,playerAccount:r,shipStakingAccount:Ar,scoreVarsAccount:xr,scoreVarsShipAccount:Rr,escrowAuthority:d,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,foodMint:s,foodTokenAccountSource:a,foodTokenAccountEscrow:gr}})})}score.createRefeedInstruction=createRefeedInstruction;function createRefuelInstruction(t,e,r,n,o,s,a,c){return __awaiter$1(this,void 0,void 0,function*(){const[d,m]=yield getScoreEscrowAuthAccount(c,o,r),[gr,vr]=yield getScoreEscrowAccount(c,o,s,r),[Ar,Tr]=yield getShipStakingAccount(c,o,r),[Rr,kr]=yield getScoreVarsShipAccount(c,o),[xr,Dr]=yield getScoreVarsAccount(c),Ur=getScoreIDL(c),Cr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Ur,c,Cr).instruction.processRefuel(Tr,Dr,kr,m,vr,new anchor_1$1.BN(n),{accounts:{tokenOwnerAccount:e,playerAccount:r,shipStakingAccount:Ar,scoreVarsAccount:xr,scoreVarsShipAccount:Rr,escrowAuthority:d,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,fuelMint:s,fuelTokenAccountSource:a,fuelTokenAccountEscrow:gr}})})}score.createRefuelInstruction=createRefuelInstruction;function createRepairInstruction(t,e,r,n,o,s,a,c){return __awaiter$1(this,void 0,void 0,function*(){const[d,m]=yield getShipStakingAccount(c,o,r),[gr,vr]=yield getScoreVarsShipAccount(c,o),[Ar,Tr]=yield getScoreVarsAccount(c),Rr=getScoreIDL(c),kr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Rr,c,kr).instruction.processRepair(m,Tr,vr,new anchor_1$1.BN(n),{accounts:{tokenOwnerAccount:e,playerAccount:r,shipStakingAccount:d,scoreVarsAccount:Ar,scoreVarsShipAccount:gr,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,toolkitMint:s,toolkitTokenAccountSource:a}})})}score.createRepairInstruction=createRepairInstruction;function createSettleInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const[s,a]=yield getShipStakingAccount(o,n,e),[c,d]=yield getScoreVarsShipAccount(o,n),[m,gr]=yield getScoreVarsAccount(o),vr=getScoreIDL(o),Ar=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(vr,o,Ar).instruction.processSettle(a,gr,d,{accounts:{playerAccount:e,updateAuthorityAccount:r,shipStakingAccount:s,scoreVarsShipAccount:c,scoreVarsAccount:m,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n}})})}score.createSettleInstruction=createSettleInstruction;function createHarvestInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const[s,a]=yield getShipStakingAccount(o,n,e),[c,d]=yield getScoreVarsShipAccount(o,n),[m,gr]=yield getScoreTreasuryTokenAccount(o),[vr,Ar]=yield getScoreTreasuryAuthAccount(o),Tr=getScoreIDL(o),Rr=new anchor_1$1.AnchorProvider(t,null,null),kr=new anchor_1$1.Program(Tr,o,Rr),xr={signers:[],instructions:[]};let Dr;const Ur=yield(0,util_1.getTokenAccount)(t,e,r),Cr=Ur.tokenAccount;"createInstruction"in Ur&&xr.instructions.push(...Ur.createInstruction),Cr instanceof anchor_1$1.web3.Keypair?(Dr=Cr.publicKey,xr.signers.push(Cr)):Dr=Cr;const Nr=yield kr.instruction.processHarvest(a,d,gr,Ar,{accounts:{playerAccount:e,shipStakingAccount:s,scoreVarsShipAccount:c,playerAtlasTokenAccount:Dr,treasuryTokenAccount:m,treasuryAuthorityAccount:vr,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n}});return xr.instructions.push(Nr),xr})}score.createHarvestInstruction=createHarvestInstruction;function createWithdrawFuelInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const[s,a]=yield getScoreEscrowAuthAccount(o,n,e),[c,d]=yield getScoreEscrowAccount(o,n,r,e),[m,gr]=yield getShipStakingAccount(o,n,e),[vr,Ar]=yield getScoreVarsShipAccount(o,n),[Tr,Rr]=yield getScoreVarsAccount(o),kr=getScoreIDL(o),xr=new anchor_1$1.AnchorProvider(t,null,null),Dr=new anchor_1$1.Program(kr,o,xr),Ur={signers:[],instructions:[]};let Cr;const Nr=yield(0,util_1.getTokenAccount)(t,e,r),Hr=Nr.tokenAccount;"createInstruction"in Nr&&Ur.instructions.push(...Nr.createInstruction),Hr instanceof anchor_1$1.web3.Keypair?(Cr=Hr.publicKey,Ur.signers.push(Hr)):Cr=Hr;const Mr=yield Dr.instruction.processWithdrawFuel(gr,Rr,Ar,a,d,{accounts:{playerAccount:e,shipStakingAccount:m,scoreVarsAccount:Tr,scoreVarsShipAccount:vr,fuelTokenAccountEscrow:c,fuelTokenAccountReturn:Cr,fuelMint:r,escrowAuthority:s,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n}});return Ur.instructions.push(Mr),Ur})}score.createWithdrawFuelInstruction=createWithdrawFuelInstruction;function createWithdrawFoodInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const[s,a]=yield getScoreEscrowAuthAccount(o,n,e),[c,d]=yield getScoreEscrowAccount(o,n,r,e),[m,gr]=yield getShipStakingAccount(o,n,e),[vr,Ar]=yield getScoreVarsShipAccount(o,n),[Tr,Rr]=yield getScoreVarsAccount(o),kr=getScoreIDL(o),xr=new anchor_1$1.AnchorProvider(t,null,null),Dr=new anchor_1$1.Program(kr,o,xr),Ur={signers:[],instructions:[]};let Cr;const Nr=yield(0,util_1.getTokenAccount)(t,e,r),Hr=Nr.tokenAccount;"createInstruction"in Nr&&Ur.instructions.push(...Nr.createInstruction),Hr instanceof anchor_1$1.web3.Keypair?(Cr=Hr.publicKey,Ur.signers.push(Hr)):Cr=Hr;const Mr=yield Dr.instruction.processWithdrawFood(gr,Rr,Ar,a,d,{accounts:{playerAccount:e,shipStakingAccount:m,scoreVarsAccount:Tr,scoreVarsShipAccount:vr,foodTokenAccountEscrow:c,foodTokenAccountReturn:Cr,foodMint:r,escrowAuthority:s,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n}});return Ur.instructions.push(Mr),Ur})}score.createWithdrawFoodInstruction=createWithdrawFoodInstruction;function createWithdrawArmsInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const[s,a]=yield getScoreEscrowAuthAccount(o,n,e),[c,d]=yield getScoreEscrowAccount(o,n,r,e),[m,gr]=yield getShipStakingAccount(o,n,e),[vr,Ar]=yield getScoreVarsShipAccount(o,n),[Tr,Rr]=yield getScoreVarsAccount(o),kr=getScoreIDL(o),xr=new anchor_1$1.AnchorProvider(t,null,null),Dr=new anchor_1$1.Program(kr,o,xr),Ur={signers:[],instructions:[]};let Cr;const Nr=yield(0,util_1.getTokenAccount)(t,e,r),Hr=Nr.tokenAccount;"createInstruction"in Nr&&Ur.instructions.push(...Nr.createInstruction),Hr instanceof anchor_1$1.web3.Keypair?(Cr=Hr.publicKey,Ur.signers.push(Hr)):Cr=Hr;const Mr=yield Dr.instruction.processWithdrawArms(gr,Rr,Ar,a,d,{accounts:{playerAccount:e,shipStakingAccount:m,scoreVarsAccount:Tr,scoreVarsShipAccount:vr,armsTokenAccountEscrow:c,armsTokenAccountReturn:Cr,armsMint:r,escrowAuthority:s,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n}});return Ur.instructions.push(Mr),Ur})}score.createWithdrawArmsInstruction=createWithdrawArmsInstruction;function createWithdrawShipsInstruction(t,e,r,n,o,s){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getScoreEscrowAuthAccount(s,r,e),[d,m]=yield getScoreEscrowAccount(s,r,null,e),[gr,vr]=yield getShipStakingAccount(s,r,e),[Ar,Tr]=yield getScoreVarsShipAccount(s,r),[Rr,kr]=yield getScoreVarsAccount(s),[xr,Dr]=yield getScoreTreasuryTokenAccount(s),[Ur,Cr]=yield getScoreTreasuryAuthAccount(s),Nr={signers:[],instructions:[]},Hr=getScoreIDL(s),Mr=new anchor_1$1.AnchorProvider(t,null,null),Fr=new anchor_1$1.Program(Hr,s,Mr);let Vr;const Xr=yield(0,util_1.getTokenAccount)(t,e,n),Yr=Xr.tokenAccount;"createInstruction"in Xr&&Nr.instructions.push(...Xr.createInstruction),Yr instanceof anchor_1$1.web3.Keypair?(Vr=Yr.publicKey,Nr.signers.push(Yr)):Vr=Yr;let tn;const an=yield(0,util_1.getTokenAccount)(t,e,r),Lr=an.tokenAccount;"createInstruction"in an&&Nr.instructions.push(...an.createInstruction),Lr instanceof anchor_1$1.web3.Keypair?(tn=Lr.publicKey,Nr.signers.push(Lr)):tn=Lr;let Er;const Or=yield(0,util_1.getTokenAccount)(t,e,o),jr=Or.tokenAccount;"createInstruction"in Or&&Nr.instructions.push(...Or.createInstruction),jr instanceof anchor_1$1.web3.Keypair?(Er=jr.publicKey,Nr.signers.push(jr)):Er=jr;const Gr=yield Fr.instruction.processWithdrawShips(vr,kr,Tr,c,m,Cr,Dr,{accounts:{playerAccount:e,shipStakingAccount:gr,scoreVarsAccount:Rr,scoreVarsShipAccount:Ar,playerAtlasTokenAccount:Vr,shipTokenAccountEscrow:d,shipTokenAccountReturn:tn,toolkitTokenAccountSource:Er,treasuryTokenAccount:xr,treasuryAuthorityAccount:Ur,escrowAuthority:a,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:anchor_1$1.web3.SystemProgram.programId,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:r,toolkitMint:o}});return Nr.instructions.push(Gr),Nr})}score.createWithdrawShipsInstruction=createWithdrawShipsInstruction;function closeAccountsInstruction(t,e,r,n,o,s,a){return __awaiter$1(this,void 0,void 0,function*(){const[c,d]=yield getScoreEscrowAuthAccount(a,r,e),[m,gr]=yield getScoreEscrowAccount(a,r,null,e),[vr,Ar]=yield getScoreEscrowAccount(a,r,n,e),[Tr,Rr]=yield getScoreEscrowAccount(a,r,o,e),[kr,xr]=yield getScoreEscrowAccount(a,r,s,e),[Dr,Ur]=yield getScoreVarsAccount(a),[Cr,Nr]=yield getShipStakingAccount(a,r,e),Hr=getScoreIDL(a),Mr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Hr,a,Mr).instruction.processCloseAccounts(Nr,Ur,gr,Ar,Rr,xr,d,{accounts:{playerAccount:e,shipStakingAccount:Cr,scoreVarsAccount:Dr,shipTokenAccountEscrow:m,fuelTokenAccountEscrow:vr,foodTokenAccountEscrow:Tr,armsTokenAccountEscrow:kr,escrowAuthority:c,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:anchor_1$1.web3.SystemProgram.programId,shipMint:r,fuelMint:n,foodMint:o,armsMint:s,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY}})})}score.closeAccountsInstruction=closeAccountsInstruction;var types={};Object.defineProperty(types,"__esModule",{value:!0});var scoreHelpers={},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(gr){try{m(n.next(gr))}catch(vr){a(vr)}}function d(gr){try{m(n.throw(gr))}catch(vr){a(vr)}}function m(gr){gr.done?s(gr.value):o(gr.value).then(c,d)}m((n=n.apply(t,e||[])).next())})},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(scoreHelpers,"__esModule",{value:!0});scoreHelpers.sendTokens=scoreHelpers.confirmTokenBalance=scoreHelpers.createMint=scoreHelpers.mintTokens=scoreHelpers.createAssociatedTokenAccountInstruction=scoreHelpers.createRequestUnitsInstruction=scoreHelpers.Numberu32=scoreHelpers.createATokenAccount=scoreHelpers.getAtaForMint=void 0;const anchor_1=require$$0$1,spl_token_1=require$$1$1,_1=util,assert_1=assert$3.exports,bn_js_1=__importDefault(bn.exports);function getAtaForMint(t,e){return __awaiter(this,void 0,void 0,function*(){return anchor_1.web3.PublicKey.findProgramAddress([e.toBuffer(),spl_token_1.TOKEN_PROGRAM_ID.toBuffer(),t.toBuffer()],spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID)})}scoreHelpers.getAtaForMint=getAtaForMint;function createATokenAccount(t,e,r,n){return __awaiter(this,void 0,void 0,function*(){r=r||t.wallet.publicKey,n=n||t.wallet.publicKey;const[o]=yield getAtaForMint(e,n),s=new anchor_1.web3.Transaction,a=yield createAssociatedTokenAccountInstruction(o,r,n,e);return s.add(a),yield t.sendAndConfirm(s),o})}scoreHelpers.createATokenAccount=createATokenAccount;class Numberu32 extends bn_js_1.default{toBuffer(){const e=super.toArray().reverse(),r=dist$1.Buffer.from(e);if(r.length===4)return r;const n=dist$1.Buffer.alloc(4);return r.copy(n),n}static fromBuffer(e){return new bn_js_1.default([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}}scoreHelpers.Numberu32=Numberu32;function createRequestUnitsInstruction(t){return __awaiter(this,void 0,void 0,function*(){const e=new Numberu32(1e6),r=dist$1.Buffer.from([0]),n=e.toBuffer();return new anchor_1.web3.TransactionInstruction({keys:[{pubkey:t,isSigner:!0,isWritable:!0}],programId:new anchor_1.web3.PublicKey("ComputeBudget111111111111111111111111111111"),data:dist$1.Buffer.concat([r,n])})})}scoreHelpers.createRequestUnitsInstruction=createRequestUnitsInstruction;function createAssociatedTokenAccountInstruction(t,e,r,n){return __awaiter(this,void 0,void 0,function*(){const o=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:anchor_1.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:spl_token_1.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:anchor_1.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new anchor_1.web3.TransactionInstruction({keys:o,programId:spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID,data:dist$1.Buffer.from([])})})}scoreHelpers.createAssociatedTokenAccountInstruction=createAssociatedTokenAccountInstruction;function mintTokens(t,e,r,n,o){return __awaiter(this,void 0,void 0,function*(){const s=new anchor_1.web3.Transaction;return o=o||t.wallet.publicKey,s.add(spl_token_1.Token.createMintToInstruction(spl_token_1.TOKEN_PROGRAM_ID,e,r,o,[],n)),yield t.sendAndConfirm(s)})}scoreHelpers.mintTokens=mintTokens;function createMint(t,e,r,n){return __awaiter(this,void 0,void 0,function*(){const o=anchor_1.web3.Keypair.generate(),s=new anchor_1.web3.Transaction,a=yield t.connection.getMinimumBalanceForRentExemption(spl_token_1.MintLayout.span);r=r||t.wallet.publicKey,n=n||t.wallet.publicKey;const c=anchor_1.web3.SystemProgram.createAccount({fromPubkey:t.wallet.publicKey,newAccountPubkey:o.publicKey,lamports:a,space:spl_token_1.MintLayout.span,programId:spl_token_1.TOKEN_PROGRAM_ID});s.add(c);const d=spl_token_1.Token.createInitMintInstruction(spl_token_1.TOKEN_PROGRAM_ID,o.publicKey,e,r,n);return s.add(d),yield t.sendAndConfirm(s,[o]),o.publicKey})}scoreHelpers.createMint=createMint;function confirmTokenBalance(t,e,r,n){return __awaiter(this,void 0,void 0,function*(){const o=yield t.connection.getAccountInfo(e,"recent");if(n===!0&&(0,assert_1.strict)(o===null),o!==null){const s=(0,_1.byteArrayToLong)(o.data.slice(64,72));(0,assert_1.strict)(s==r,`On-chain Token amount of ${s} does not match expected amount ${r}`)}else console.log("Token account %s does not exist",e.toString())})}scoreHelpers.confirmTokenBalance=confirmTokenBalance;function sendTokens(t,e,r,n){return __awaiter(this,void 0,void 0,function*(){const o=new anchor_1.web3.Transaction;return o.add(spl_token_1.Token.createTransferInstruction(spl_token_1.TOKEN_PROGRAM_ID,e,r,t.wallet.publicKey,[],n)),yield t.sendAndConfirm(o)})}scoreHelpers.sendTokens=sendTokens;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(atlasStaking,t),r(factions,t),r(gumdrop,t),r(marketplace,t),r(score,t),r(types,t),r(scoreHelpers,t),r(gmHelper$1,t),r(util,t)})(dist);const GM_PROGRAM_ID=new PublicKey("traderDnaR5w6Tcoi3NFm53i48FTDNbGjBSZwWXDRrg"),useGlobalFactoryStore=defineStore("factoryStore",{state:()=>({is_loading:!1,order_book_service:new dist.GmOrderbookService(useGlobalStore().connection,new PublicKey(GM_PROGRAM_ID))}),getters:{},actions:{async init(){this.is_loading=!0,await this.order_book_service.loadInitialOrders(),this.is_loading=!1}}});var scrollbars="",fonts="",backgrounds="";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(t,e){const r={};for(const n in e){const o=e[n];r[n]=isArray(o)?o.map(t):t(o)}return r}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,r="/"){let n,o={},s="",a="";const c=e.indexOf("#");let d=e.indexOf("?");return c<d&&c>=0&&(d=-1),d>-1&&(n=e.slice(0,d),s=e.slice(d+1,c>-1?c:e.length),o=t(s)),c>-1&&(n=n||e.slice(0,c),a=e.slice(c,e.length)),n=resolveRelativePath(n??e,r),{fullPath:n+(s&&"?")+s+a,path:n,query:o,hash:a}}function stringifyURL(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,r){const n=e.matched.length-1,o=r.matched.length-1;return n>-1&&n===o&&isSameRouteRecord$1(e.matched[n],r.matched[o])&&isSameRouteLocationParams$1(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function isSameRouteRecord$1(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams$1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!isSameRouteLocationParamsValue$1(t[r],e[r]))return!1;return!0}function isSameRouteLocationParamsValue$1(t,e){return isArray(t)?isEquivalentArray$1(t,e):isArray(e)?isEquivalentArray$1(e,t):t===e}function isEquivalentArray$1(t,e){return isArray(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),o=n[n.length-1];(o===".."||o===".")&&n.push("");let s=r.length-1,a,c;for(a=0;a<n.length;a++)if(c=n[a],c!==".")if(c==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(a-(a===n.length?1:0)).join("/")}var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),o=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!o)return;e=getElementPosition(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,e){const{pathname:r,search:n,hash:o}=e,s=t.indexOf("#");if(s>-1){let c=o.includes(t.slice(s))?t.slice(s).length:1,d=o.slice(c);return d[0]!=="/"&&(d="/"+d),stripBase(d,"")}return stripBase(r,t)+n+o}function useHistoryListeners(t,e,r,n){let o=[],s=[],a=null;const c=({state:Ar})=>{const Tr=createCurrentLocation(t,location),Rr=r.value,kr=e.value;let xr=0;if(Ar){if(r.value=Tr,e.value=Ar,a&&a===Rr){a=null;return}xr=kr?Ar.position-kr.position:0}else n(Tr);o.forEach(Dr=>{Dr(r.value,Rr,{delta:xr,type:NavigationType.pop,direction:xr?xr>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function d(){a=r.value}function m(Ar){o.push(Ar);const Tr=()=>{const Rr=o.indexOf(Ar);Rr>-1&&o.splice(Rr,1)};return s.push(Tr),Tr}function gr(){const{history:Ar}=window;!Ar.state||Ar.replaceState(assign({},Ar.state,{scroll:computeScrollPosition()}),"")}function vr(){for(const Ar of s)Ar();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",gr)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",gr,{passive:!0}),{pauseListeners:d,listen:m,destroy:vr}}function buildState(t,e,r,n=!1,o=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:o?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:r}=window,n={value:createCurrentLocation(t,r)},o={value:e.state};o.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(d,m,gr){const vr=t.indexOf("#"),Ar=vr>-1?(r.host&&document.querySelector("base")?t:t.slice(vr))+d:createBaseLocation()+t+d;try{e[gr?"replaceState":"pushState"](m,"",Ar),o.value=m}catch(Tr){console.error(Tr),r[gr?"replace":"assign"](Ar)}}function a(d,m){const gr=assign({},e.state,buildState(o.value.back,d,o.value.forward,!0),m,{position:o.value.position});s(d,gr,!0),n.value=d}function c(d,m){const gr=assign({},o.value,e.state,{forward:d,scroll:computeScrollPosition()});s(gr.current,gr,!0);const vr=assign({},buildState(n.value,d,null),{position:gr.position+1},m);s(d,vr,!1),n.value=d}return{location:n,state:o,push:c,replace:a}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),r=useHistoryListeners(t,e.state,e.location,e.replace);function n(s,a=!0){a||r.pauseListeners(),history.go(s)}const o=assign({location:"",base:t,go:n,createHref:createHref.bind(null,t)},e,r);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function createWebHashHistory(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),createWebHistory(t)}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,e){return assign(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const r=assign({},BASE_PATH_PARSER_OPTIONS,e),n=[];let o=r.start?"^":"";const s=[];for(const m of t){const gr=m.length?[]:[90];r.strict&&!m.length&&(o+="/");for(let vr=0;vr<m.length;vr++){const Ar=m[vr];let Tr=40+(r.sensitive?.25:0);if(Ar.type===0)vr||(o+="/"),o+=Ar.value.replace(REGEX_CHARS_RE,"\\$&"),Tr+=40;else if(Ar.type===1){const{value:Rr,repeatable:kr,optional:xr,regexp:Dr}=Ar;s.push({name:Rr,repeatable:kr,optional:xr});const Ur=Dr||BASE_PARAM_PATTERN;if(Ur!==BASE_PARAM_PATTERN){Tr+=10;try{new RegExp(`(${Ur})`)}catch(Nr){throw new Error(`Invalid custom RegExp for param "${Rr}" (${Ur}): `+Nr.message)}}let Cr=kr?`((?:${Ur})(?:/(?:${Ur}))*)`:`(${Ur})`;vr||(Cr=xr&&m.length<2?`(?:/${Cr})`:"/"+Cr),xr&&(Cr+="?"),o+=Cr,Tr+=20,xr&&(Tr+=-8),kr&&(Tr+=-20),Ur===".*"&&(Tr+=-50)}gr.push(Tr)}n.push(gr)}if(r.strict&&r.end){const m=n.length-1;n[m][n[m].length-1]+=.7000000000000001}r.strict||(o+="/?"),r.end?o+="$":r.strict&&(o+="(?:/|$)");const a=new RegExp(o,r.sensitive?"":"i");function c(m){const gr=m.match(a),vr={};if(!gr)return null;for(let Ar=1;Ar<gr.length;Ar++){const Tr=gr[Ar]||"",Rr=s[Ar-1];vr[Rr.name]=Tr&&Rr.repeatable?Tr.split("/"):Tr}return vr}function d(m){let gr="",vr=!1;for(const Ar of t){(!vr||!gr.endsWith("/"))&&(gr+="/"),vr=!1;for(const Tr of Ar)if(Tr.type===0)gr+=Tr.value;else if(Tr.type===1){const{value:Rr,repeatable:kr,optional:xr}=Tr,Dr=Rr in m?m[Rr]:"";if(isArray(Dr)&&!kr)throw new Error(`Provided param "${Rr}" is an array but it is not repeatable (* or + modifiers)`);const Ur=isArray(Dr)?Dr.join("/"):Dr;if(!Ur)if(xr)Ar.length<2&&(gr.endsWith("/")?gr=gr.slice(0,-1):vr=!0);else throw new Error(`Missing required param "${Rr}"`);gr+=Ur}}return gr||"/"}return{re:a,score:n,keys:s,parse:c,stringify:d}}function compareScoreArray(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(t,e){let r=0;const n=t.score,o=e.score;for(;r<n.length&&r<o.length;){const s=compareScoreArray(n[r],o[r]);if(s)return s;r++}if(Math.abs(o.length-n.length)===1){if(isLastScoreNegative(n))return 1;if(isLastScoreNegative(o))return-1}return o.length-n.length}function isLastScoreNegative(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(Tr){throw new Error(`ERR (${r})/"${m}": ${Tr}`)}let r=0,n=r;const o=[];let s;function a(){s&&o.push(s),s=[]}let c=0,d,m="",gr="";function vr(){!m||(r===0?s.push({type:0,value:m}):r===1||r===2||r===3?(s.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:m,regexp:gr,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),m="")}function Ar(){m+=d}for(;c<t.length;){if(d=t[c++],d==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:d==="/"?(m&&vr(),a()):d===":"?(vr(),r=1):Ar();break;case 4:Ar(),r=n;break;case 1:d==="("?r=2:VALID_PARAM_RE.test(d)?Ar():(vr(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case 2:d===")"?gr[gr.length-1]=="\\"?gr=gr.slice(0,-1)+d:r=3:gr+=d;break;case 3:vr(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&c--,gr="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${m}"`),vr(),a(),o}function createRouteRecordMatcher(t,e,r){const n=tokensToParser(tokenizePath(t.path),r),o=assign(n,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function createRouterMatcher(t,e){const r=[],n=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function o(gr){return n.get(gr)}function s(gr,vr,Ar){const Tr=!Ar,Rr=normalizeRouteRecord(gr);Rr.aliasOf=Ar&&Ar.record;const kr=mergeOptions(e,gr),xr=[Rr];if("alias"in gr){const Cr=typeof gr.alias=="string"?[gr.alias]:gr.alias;for(const Nr of Cr)xr.push(assign({},Rr,{components:Ar?Ar.record.components:Rr.components,path:Nr,aliasOf:Ar?Ar.record:Rr}))}let Dr,Ur;for(const Cr of xr){const{path:Nr}=Cr;if(vr&&Nr[0]!=="/"){const Hr=vr.record.path,Mr=Hr[Hr.length-1]==="/"?"":"/";Cr.path=vr.record.path+(Nr&&Mr+Nr)}if(Dr=createRouteRecordMatcher(Cr,vr,kr),Ar?Ar.alias.push(Dr):(Ur=Ur||Dr,Ur!==Dr&&Ur.alias.push(Dr),Tr&&gr.name&&!isAliasRecord(Dr)&&a(gr.name)),Rr.children){const Hr=Rr.children;for(let Mr=0;Mr<Hr.length;Mr++)s(Hr[Mr],Dr,Ar&&Ar.children[Mr])}Ar=Ar||Dr,(Dr.record.components&&Object.keys(Dr.record.components).length||Dr.record.name||Dr.record.redirect)&&d(Dr)}return Ur?()=>{a(Ur)}:noop}function a(gr){if(isRouteName(gr)){const vr=n.get(gr);vr&&(n.delete(gr),r.splice(r.indexOf(vr),1),vr.children.forEach(a),vr.alias.forEach(a))}else{const vr=r.indexOf(gr);vr>-1&&(r.splice(vr,1),gr.record.name&&n.delete(gr.record.name),gr.children.forEach(a),gr.alias.forEach(a))}}function c(){return r}function d(gr){let vr=0;for(;vr<r.length&&comparePathParserScore(gr,r[vr])>=0&&(gr.record.path!==r[vr].record.path||!isRecordChildOf(gr,r[vr]));)vr++;r.splice(vr,0,gr),gr.record.name&&!isAliasRecord(gr)&&n.set(gr.record.name,gr)}function m(gr,vr){let Ar,Tr={},Rr,kr;if("name"in gr&&gr.name){if(Ar=n.get(gr.name),!Ar)throw createRouterError(1,{location:gr});kr=Ar.record.name,Tr=assign(paramsFromLocation(vr.params,Ar.keys.filter(Ur=>!Ur.optional).map(Ur=>Ur.name)),gr.params&&paramsFromLocation(gr.params,Ar.keys.map(Ur=>Ur.name))),Rr=Ar.stringify(Tr)}else if("path"in gr)Rr=gr.path,Ar=r.find(Ur=>Ur.re.test(Rr)),Ar&&(Tr=Ar.parse(Rr),kr=Ar.record.name);else{if(Ar=vr.name?n.get(vr.name):r.find(Ur=>Ur.re.test(vr.path)),!Ar)throw createRouterError(1,{location:gr,currentLocation:vr});kr=Ar.record.name,Tr=assign({},vr.params,gr.params),Rr=Ar.stringify(Tr)}const xr=[];let Dr=Ar;for(;Dr;)xr.unshift(Dr.record),Dr=Dr.parent;return{name:kr,path:Rr,params:Tr,matched:xr,meta:mergeMetaFields(xr)}}return t.forEach(gr=>s(gr)),{addRoute:s,resolve:m,removeRoute:a,getRoutes:c,getRecordMatcher:o}}function paramsFromLocation(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function normalizeRouteRecord(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function normalizeRecordProps(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,r)=>assign(e,r.meta),{})}function mergeOptions(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function isRecordChildOf(t,e){return e.children.some(r=>r===t||isRecordChildOf(t,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function parseQuery(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<n.length;++o){const s=n[o].replace(PLUS_RE," "),a=s.indexOf("="),c=decode(a<0?s:s.slice(0,a)),d=a<0?null:decode(s.slice(a+1));if(c in e){let m=e[c];isArray(m)||(m=e[c]=[m]),m.push(d)}else e[c]=d}return e}function stringifyQuery(t){let e="";for(let r in t){const n=t[r];if(r=encodeQueryKey(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(isArray(n)?n.map(s=>s&&encodeQueryValue(s)):[n&&encodeQueryValue(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function normalizeQuery(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=isArray(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let t=[];function e(n){return t.push(n),()=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function guardToPromiseFn(t,e,r,n,o){const s=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((a,c)=>{const d=vr=>{vr===!1?c(createRouterError(4,{from:r,to:e})):vr instanceof Error?c(vr):isRouteLocation(vr)?c(createRouterError(2,{from:e,to:vr})):(s&&n.enterCallbacks[o]===s&&typeof vr=="function"&&s.push(vr),a())},m=t.call(n&&n.instances[o],e,r,d);let gr=Promise.resolve(m);t.length<3&&(gr=gr.then(d)),gr.catch(vr=>c(vr))})}function extractComponentsGuards(t,e,r,n){const o=[];for(const s of t)for(const a in s.components){let c=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(isRouteComponent(c)){const m=(c.__vccOpts||c)[e];m&&o.push(guardToPromiseFn(m,r,n,s,a))}else{let d=c();o.push(()=>d.then(m=>{if(!m)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const gr=isESModule(m)?m.default:m;s.components[a]=gr;const Ar=(gr.__vccOpts||gr)[e];return Ar&&guardToPromiseFn(Ar,r,n,s,a)()}))}}return o}function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function useLink(t){const e=inject(routerKey),r=inject(routeLocationKey),n=computed$1(()=>e.resolve(unref(t.to))),o=computed$1(()=>{const{matched:d}=n.value,{length:m}=d,gr=d[m-1],vr=r.matched;if(!gr||!vr.length)return-1;const Ar=vr.findIndex(isSameRouteRecord$1.bind(null,gr));if(Ar>-1)return Ar;const Tr=getOriginalPath$1(d[m-2]);return m>1&&getOriginalPath$1(gr)===Tr&&vr[vr.length-1].path!==Tr?vr.findIndex(isSameRouteRecord$1.bind(null,d[m-2])):Ar}),s=computed$1(()=>o.value>-1&&includesParams$1(r.params,n.value.params)),a=computed$1(()=>o.value>-1&&o.value===r.matched.length-1&&isSameRouteLocationParams$1(r.params,n.value.params));function c(d={}){return guardEvent(d)?e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop):Promise.resolve()}return{route:n,href:computed$1(()=>n.value.href),isActive:s,isExactActive:a,navigate:c}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(t,{slots:e}){const r=reactive(useLink(t)),{options:n}=inject(routerKey),o=computed$1(()=>({[getLinkClass(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:h("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:o.value},s)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams$1(t,e){for(const r in e){const n=e[r],o=t[r];if(typeof n=="string"){if(n!==o)return!1}else if(!isArray(o)||o.length!==n.length||n.some((s,a)=>s!==o[a]))return!1}return!0}function getOriginalPath$1(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,r)=>t??e??r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=inject(routerViewLocationKey),o=computed$1(()=>t.route||n.value),s=inject(viewDepthKey,0),a=computed$1(()=>{let m=unref(s);const{matched:gr}=o.value;let vr;for(;(vr=gr[m])&&!vr.components;)m++;return m}),c=computed$1(()=>o.value.matched[a.value]);provide(viewDepthKey,computed$1(()=>a.value+1)),provide(matchedRouteKey,c),provide(routerViewLocationKey,o);const d=ref();return watch(()=>[d.value,c.value,t.name],([m,gr,vr],[Ar,Tr,Rr])=>{gr&&(gr.instances[vr]=m,Tr&&Tr!==gr&&m&&m===Ar&&(gr.leaveGuards.size||(gr.leaveGuards=Tr.leaveGuards),gr.updateGuards.size||(gr.updateGuards=Tr.updateGuards))),m&&gr&&(!Tr||!isSameRouteRecord$1(gr,Tr)||!Ar)&&(gr.enterCallbacks[vr]||[]).forEach(kr=>kr(m))},{flush:"post"}),()=>{const m=o.value,gr=t.name,vr=c.value,Ar=vr&&vr.components[gr];if(!Ar)return normalizeSlot(r.default,{Component:Ar,route:m});const Tr=vr.props[gr],Rr=Tr?Tr===!0?m.params:typeof Tr=="function"?Tr(m):Tr:null,xr=h(Ar,assign({},Rr,e,{onVnodeUnmounted:Dr=>{Dr.component.isUnmounted&&(vr.instances[gr]=null)},ref:d}));return normalizeSlot(r.default,{Component:xr,route:m})||xr}}});function normalizeSlot(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter$1(t){const e=createRouterMatcher(t.routes,t),r=t.parseQuery||parseQuery,n=t.stringifyQuery||stringifyQuery,o=t.history,s=useCallbacks(),a=useCallbacks(),c=useCallbacks(),d=shallowRef(START_LOCATION_NORMALIZED);let m=START_LOCATION_NORMALIZED;isBrowser&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const gr=applyToParams.bind(null,dn=>""+dn),vr=applyToParams.bind(null,encodeParam),Ar=applyToParams.bind(null,decode);function Tr(dn,gn){let yn,Tn;return isRouteName(dn)?(yn=e.getRecordMatcher(dn),Tn=gn):Tn=dn,e.addRoute(Tn,yn)}function Rr(dn){const gn=e.getRecordMatcher(dn);gn&&e.removeRoute(gn)}function kr(){return e.getRoutes().map(dn=>dn.record)}function xr(dn){return!!e.getRecordMatcher(dn)}function Dr(dn,gn){if(gn=assign({},gn||d.value),typeof dn=="string"){const fn=parseURL(r,dn,gn.path),Sn=e.resolve({path:fn.path},gn),On=o.createHref(fn.fullPath);return assign(fn,Sn,{params:Ar(Sn.params),hash:decode(fn.hash),redirectedFrom:void 0,href:On})}let yn;if("path"in dn)yn=assign({},dn,{path:parseURL(r,dn.path,gn.path).path});else{const fn=assign({},dn.params);for(const Sn in fn)fn[Sn]==null&&delete fn[Sn];yn=assign({},dn,{params:vr(fn)}),gn.params=vr(gn.params)}const Tn=e.resolve(yn,gn),Dn=dn.hash||"";Tn.params=gr(Ar(Tn.params));const sn=stringifyURL(n,assign({},dn,{hash:encodeHash(Dn),path:Tn.path})),cn=o.createHref(sn);return assign({fullPath:sn,hash:Dn,query:n===stringifyQuery?normalizeQuery(dn.query):dn.query||{}},Tn,{redirectedFrom:void 0,href:cn})}function Ur(dn){return typeof dn=="string"?parseURL(r,dn,d.value.path):assign({},dn)}function Cr(dn,gn){if(m!==dn)return createRouterError(8,{from:gn,to:dn})}function Nr(dn){return Fr(dn)}function Hr(dn){return Nr(assign(Ur(dn),{replace:!0}))}function Mr(dn){const gn=dn.matched[dn.matched.length-1];if(gn&&gn.redirect){const{redirect:yn}=gn;let Tn=typeof yn=="function"?yn(dn):yn;return typeof Tn=="string"&&(Tn=Tn.includes("?")||Tn.includes("#")?Tn=Ur(Tn):{path:Tn},Tn.params={}),assign({query:dn.query,hash:dn.hash,params:"path"in Tn?{}:dn.params},Tn)}}function Fr(dn,gn){const yn=m=Dr(dn),Tn=d.value,Dn=dn.state,sn=dn.force,cn=dn.replace===!0,fn=Mr(yn);if(fn)return Fr(assign(Ur(fn),{state:typeof fn=="object"?assign({},Dn,fn.state):Dn,force:sn,replace:cn}),gn||yn);const Sn=yn;Sn.redirectedFrom=gn;let On;return!sn&&isSameRouteLocation(n,Tn,yn)&&(On=createRouterError(16,{to:Sn,from:Tn}),Kr(Tn,Tn,!0,!1)),(On?Promise.resolve(On):Yr(Sn,Tn)).catch(An=>isNavigationFailure(An)?isNavigationFailure(An,2)?An:en(An):qr(An,Sn,Tn)).then(An=>{if(An){if(isNavigationFailure(An,2))return Fr(assign({replace:cn},Ur(An.to),{state:typeof An.to=="object"?assign({},Dn,An.to.state):Dn,force:sn}),gn||Sn)}else An=an(Sn,Tn,!0,cn,Dn);return tn(Sn,Tn,An),An})}function Vr(dn,gn){const yn=Cr(dn,gn);return yn?Promise.reject(yn):Promise.resolve()}function Xr(dn){const gn=un.values().next().value;return gn&&typeof gn.runWithContext=="function"?gn.runWithContext(dn):dn()}function Yr(dn,gn){let yn;const[Tn,Dn,sn]=extractChangingRecords(dn,gn);yn=extractComponentsGuards(Tn.reverse(),"beforeRouteLeave",dn,gn);for(const fn of Tn)fn.leaveGuards.forEach(Sn=>{yn.push(guardToPromiseFn(Sn,dn,gn))});const cn=Vr.bind(null,dn,gn);return yn.push(cn),_n(yn).then(()=>{yn=[];for(const fn of s.list())yn.push(guardToPromiseFn(fn,dn,gn));return yn.push(cn),_n(yn)}).then(()=>{yn=extractComponentsGuards(Dn,"beforeRouteUpdate",dn,gn);for(const fn of Dn)fn.updateGuards.forEach(Sn=>{yn.push(guardToPromiseFn(Sn,dn,gn))});return yn.push(cn),_n(yn)}).then(()=>{yn=[];for(const fn of sn)if(fn.beforeEnter)if(isArray(fn.beforeEnter))for(const Sn of fn.beforeEnter)yn.push(guardToPromiseFn(Sn,dn,gn));else yn.push(guardToPromiseFn(fn.beforeEnter,dn,gn));return yn.push(cn),_n(yn)}).then(()=>(dn.matched.forEach(fn=>fn.enterCallbacks={}),yn=extractComponentsGuards(sn,"beforeRouteEnter",dn,gn),yn.push(cn),_n(yn))).then(()=>{yn=[];for(const fn of a.list())yn.push(guardToPromiseFn(fn,dn,gn));return yn.push(cn),_n(yn)}).catch(fn=>isNavigationFailure(fn,8)?fn:Promise.reject(fn))}function tn(dn,gn,yn){c.list().forEach(Tn=>Xr(()=>Tn(dn,gn,yn)))}function an(dn,gn,yn,Tn,Dn){const sn=Cr(dn,gn);if(sn)return sn;const cn=gn===START_LOCATION_NORMALIZED,fn=isBrowser?history.state:{};yn&&(Tn||cn?o.replace(dn.fullPath,assign({scroll:cn&&fn&&fn.scroll},Dn)):o.push(dn.fullPath,Dn)),d.value=dn,Kr(dn,gn,yn,cn),en()}let Lr;function Er(){Lr||(Lr=o.listen((dn,gn,yn)=>{if(!vn.listening)return;const Tn=Dr(dn),Dn=Mr(Tn);if(Dn){Fr(assign(Dn,{replace:!0}),Tn).catch(noop);return}m=Tn;const sn=d.value;isBrowser&&saveScrollPosition(getScrollKey(sn.fullPath,yn.delta),computeScrollPosition()),Yr(Tn,sn).catch(cn=>isNavigationFailure(cn,12)?cn:isNavigationFailure(cn,2)?(Fr(cn.to,Tn).then(fn=>{isNavigationFailure(fn,20)&&!yn.delta&&yn.type===NavigationType.pop&&o.go(-1,!1)}).catch(noop),Promise.reject()):(yn.delta&&o.go(-yn.delta,!1),qr(cn,Tn,sn))).then(cn=>{cn=cn||an(Tn,sn,!1),cn&&(yn.delta&&!isNavigationFailure(cn,8)?o.go(-yn.delta,!1):yn.type===NavigationType.pop&&isNavigationFailure(cn,20)&&o.go(-1,!1)),tn(Tn,sn,cn)}).catch(noop)}))}let Or=useCallbacks(),jr=useCallbacks(),Gr;function qr(dn,gn,yn){en(dn);const Tn=jr.list();return Tn.length?Tn.forEach(Dn=>Dn(dn,gn,yn)):console.error(dn),Promise.reject(dn)}function Jr(){return Gr&&d.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((dn,gn)=>{Or.add([dn,gn])})}function en(dn){return Gr||(Gr=!dn,Er(),Or.list().forEach(([gn,yn])=>dn?yn(dn):gn()),Or.reset()),dn}function Kr(dn,gn,yn,Tn){const{scrollBehavior:Dn}=t;if(!isBrowser||!Dn)return Promise.resolve();const sn=!yn&&getSavedScrollPosition(getScrollKey(dn.fullPath,0))||(Tn||!yn)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Dn(dn,gn,sn)).then(cn=>cn&&scrollToPosition(cn)).catch(cn=>qr(cn,dn,gn))}const Ir=dn=>o.go(dn);let zr;const un=new Set,vn={currentRoute:d,listening:!0,addRoute:Tr,removeRoute:Rr,hasRoute:xr,getRoutes:kr,resolve:Dr,options:t,push:Nr,replace:Hr,go:Ir,back:()=>Ir(-1),forward:()=>Ir(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:jr.add,isReady:Jr,install(dn){const gn=this;dn.component("RouterLink",RouterLink),dn.component("RouterView",RouterView),dn.config.globalProperties.$router=gn,Object.defineProperty(dn.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(d)}),isBrowser&&!zr&&d.value===START_LOCATION_NORMALIZED&&(zr=!0,Nr(o.location).catch(Dn=>{}));const yn={};for(const Dn in START_LOCATION_NORMALIZED)Object.defineProperty(yn,Dn,{get:()=>d.value[Dn],enumerable:!0});dn.provide(routerKey,gn),dn.provide(routeLocationKey,shallowReactive(yn)),dn.provide(routerViewLocationKey,d);const Tn=dn.unmount;un.add(dn),dn.unmount=function(){un.delete(dn),un.size<1&&(m=START_LOCATION_NORMALIZED,Lr&&Lr(),Lr=null,d.value=START_LOCATION_NORMALIZED,zr=!1,Gr=!1),Tn()}}};function _n(dn){return dn.reduce((gn,yn)=>gn.then(()=>Xr(yn)),Promise.resolve())}return vn}function extractChangingRecords(t,e){const r=[],n=[],o=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const c=e.matched[a];c&&(t.matched.find(m=>isSameRouteRecord$1(m,c))?n.push(c):r.push(c));const d=t.matched[a];d&&(e.matched.find(m=>isSameRouteRecord$1(m,d))||o.push(d))}return[r,n,o]}function useRoute(){return inject(routeLocationKey)}const _sfc_main=defineComponent({__name:"App",setup(t){useQuasar().dark.set(!0),useGlobalStore(),useGlobalStore().update_connection(),useGlobalUserStore();const e=useRoute();return onMounted(async()=>{var r;await useGlobalFactoryStore().init(),await useGlobalStore().load_token_list(),await useGlobalStaratlasAPIStore().update(),useGlobalStore().is_done=!0,console.log(e),useGlobalUserStore().selected_symbol=((r=useGlobalStaratlasAPIStore().nfts.find(n=>{var o,s;return n.symbol.toString()==((s=(o=e.params)==null?void 0:o.symbol)==null?void 0:s.toString().toUpperCase())}))==null?void 0:r.symbol)??useGlobalUserStore().selected_symbol}),(r,n)=>{const o=resolveComponent("router-view");return openBlock(),createBlock(o)}}});function boot(t){return t}function route(t){return t}function store(t){return t}var createStore=()=>createPinia();const routes=[{path:"/",component:()=>__vitePreload(()=>import("./MainLayout.2979ed45.js"),["assets/MainLayout.2979ed45.js","assets/wallet_connect.eec8b101.css","assets/ClosePopup.1bb1da8f.js","assets/use-checkbox.22408254.js","assets/use-dark.e24aad86.js","assets/QResizeObserver.ee426bfa.js","assets/QImg.9165d309.js","assets/handle_confirmation.8dd856f3.js","assets/QScrollObserver.1ef64470.js","assets/QCardSection.e4aa71a8.js","assets/QCard.ede13c61.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./IndexPage.dd531886.js"),["assets/IndexPage.dd531886.js","assets/IndexPage.8f0effcf.css","assets/QImg.9165d309.js","assets/QPage.b5dbee4c.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/market",component:()=>__vitePreload(()=>import("./MainLayout.2979ed45.js"),["assets/MainLayout.2979ed45.js","assets/wallet_connect.eec8b101.css","assets/ClosePopup.1bb1da8f.js","assets/use-checkbox.22408254.js","assets/use-dark.e24aad86.js","assets/QResizeObserver.ee426bfa.js","assets/QImg.9165d309.js","assets/handle_confirmation.8dd856f3.js","assets/QScrollObserver.1ef64470.js","assets/QCardSection.e4aa71a8.js","assets/QCard.ede13c61.js"]),children:[{path:":symbol",component:()=>__vitePreload(()=>import("./MarketPage.10d40b99.js"),["assets/MarketPage.10d40b99.js","assets/MarketPage.5dc15914.css","assets/use-dark.e24aad86.js","assets/QResizeObserver.ee426bfa.js","assets/QScrollObserver.1ef64470.js","assets/use-checkbox.22408254.js","assets/handle_confirmation.8dd856f3.js","assets/QSeparator.44eb52f4.js","assets/QCard.ede13c61.js","assets/QPage.b5dbee4c.js","assets/QTr.6fe7997d.js","assets/QTr.4d73eb36.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/format_address.bfc1b911.js","assets/format_address.266f2464.css","assets/QSpace.39a90d72.js","assets/MarketPriceChangeElement.1ec689fb.js","assets/QImg.9165d309.js","assets/PairIcon.187aa074.js"])}]},{path:"/explorer",component:()=>__vitePreload(()=>import("./MainLayout.2979ed45.js"),["assets/MainLayout.2979ed45.js","assets/wallet_connect.eec8b101.css","assets/ClosePopup.1bb1da8f.js","assets/use-checkbox.22408254.js","assets/use-dark.e24aad86.js","assets/QResizeObserver.ee426bfa.js","assets/QImg.9165d309.js","assets/handle_confirmation.8dd856f3.js","assets/QScrollObserver.1ef64470.js","assets/QCardSection.e4aa71a8.js","assets/QCard.ede13c61.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./ExplorerPage.323d1431.js"),["assets/ExplorerPage.323d1431.js","assets/ExplorerPage.34543c25.css","assets/use-checkbox.22408254.js","assets/use-dark.e24aad86.js","assets/QTr.6fe7997d.js","assets/QTr.4d73eb36.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/QSeparator.44eb52f4.js","assets/QCard.ede13c61.js","assets/QPage.b5dbee4c.js","assets/PairIcon.187aa074.js","assets/format_address.bfc1b911.js","assets/format_address.266f2464.css","assets/PirceElement.44a3545e.js","assets/PirceElement.a8a6cf37.css"])}]},{path:"/table",component:()=>__vitePreload(()=>import("./MainLayout.2979ed45.js"),["assets/MainLayout.2979ed45.js","assets/wallet_connect.eec8b101.css","assets/ClosePopup.1bb1da8f.js","assets/use-checkbox.22408254.js","assets/use-dark.e24aad86.js","assets/QResizeObserver.ee426bfa.js","assets/QImg.9165d309.js","assets/handle_confirmation.8dd856f3.js","assets/QScrollObserver.1ef64470.js","assets/QCardSection.e4aa71a8.js","assets/QCard.ede13c61.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./TablePage.df7be82f.js"),["assets/TablePage.df7be82f.js","assets/QSpace.39a90d72.js","assets/use-checkbox.22408254.js","assets/use-dark.e24aad86.js","assets/QResizeObserver.ee426bfa.js","assets/QTr.6fe7997d.js","assets/QTr.4d73eb36.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/QSeparator.44eb52f4.js","assets/QImg.9165d309.js","assets/QPage.b5dbee4c.js","assets/PirceElement.44a3545e.js","assets/PirceElement.a8a6cf37.css","assets/MarketPriceChangeElement.1ec689fb.js"])}]},{path:"/wallet",component:()=>__vitePreload(()=>import("./MainLayout.2979ed45.js"),["assets/MainLayout.2979ed45.js","assets/wallet_connect.eec8b101.css","assets/ClosePopup.1bb1da8f.js","assets/use-checkbox.22408254.js","assets/use-dark.e24aad86.js","assets/QResizeObserver.ee426bfa.js","assets/QImg.9165d309.js","assets/handle_confirmation.8dd856f3.js","assets/QScrollObserver.1ef64470.js","assets/QCardSection.e4aa71a8.js","assets/QCard.ede13c61.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./WalletPage.e86d6887.js"),["assets/WalletPage.e86d6887.js","assets/WalletPage.f6c9ee49.css","assets/QSpace.39a90d72.js","assets/use-checkbox.22408254.js","assets/use-dark.e24aad86.js","assets/QResizeObserver.ee426bfa.js","assets/QPage.b5dbee4c.js","assets/QTr.6fe7997d.js","assets/QTr.4d73eb36.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/QSeparator.44eb52f4.js","assets/QCard.ede13c61.js","assets/format_address.bfc1b911.js","assets/format_address.266f2464.css","assets/ClosePopup.1bb1da8f.js","assets/handle_confirmation.8dd856f3.js","assets/QCardSection.e4aa71a8.js"])}]},{path:"/about",component:()=>__vitePreload(()=>import("./MainLayout.2979ed45.js"),["assets/MainLayout.2979ed45.js","assets/wallet_connect.eec8b101.css","assets/ClosePopup.1bb1da8f.js","assets/use-checkbox.22408254.js","assets/use-dark.e24aad86.js","assets/QResizeObserver.ee426bfa.js","assets/QImg.9165d309.js","assets/handle_confirmation.8dd856f3.js","assets/QScrollObserver.1ef64470.js","assets/QCardSection.e4aa71a8.js","assets/QCard.ede13c61.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./AboutPage.c01b525c.js"),["assets/AboutPage.c01b525c.js","assets/AboutPage.33708356.css","assets/QImg.9165d309.js","assets/QCardSection.e4aa71a8.js","assets/QSeparator.44eb52f4.js","assets/use-dark.e24aad86.js","assets/QCard.ede13c61.js","assets/QPage.b5dbee4c.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/:catchAll(.*)*",component:()=>__vitePreload(()=>import("./ErrorNotFound.70d5ef9e.js"),["assets/ErrorNotFound.70d5ef9e.js","assets/plugin-vue_export-helper.21dcd24c.js"])}];var createRouter=function(){return createRouter$1({scrollBehavior:()=>({left:0,top:0}),routes,history:createWebHashHistory("/")})};async function createQuasarApp(t,e){const r=t(_sfc_main);r.use(Quasar,e);const n=typeof createStore=="function"?await createStore({}):createStore;r.use(n);const o=markRaw(typeof createRouter=="function"?await createRouter({store:n}):createRouter);return n.use(({store:s})=>{s.router=o}),{app:r,store:n,router:o}}const useSizeDefaults={xs:18,sm:24,md:32,lg:38,xl:46},useSizeProps={size:String};function useSize(t,e=useSizeDefaults){return computed$1(()=>t.size!==void 0?{fontSize:t.size in e?`${e[t.size]}px`:t.size}:null)}const createComponent=t=>markRaw(defineComponent(t)),createDirective=t=>markRaw(t);function hSlot(t,e){return t!==void 0&&t()||e}function hUniqueSlot(t,e){if(t!==void 0){const r=t();if(r!=null)return r.slice()}return e}function hMergeSlot(t,e){return t!==void 0?e.concat(t()):e}function hMergeSlotSafely(t,e){return t===void 0?e:e!==void 0?e.concat(t()):t()}function hDir(t,e,r,n,o,s){e.key=n+o;const a=h(t,e,r);return o===!0?withDirectives(a,s()):a}const defaultViewBox="0 0 24 24",sameFn=t=>t,ionFn=t=>`ionicons ${t}`,libMap={"mdi-":t=>`mdi ${t}`,"icon-":sameFn,"bt-":t=>`bt ${t}`,"eva-":t=>`eva ${t}`,"ion-md":ionFn,"ion-ios":ionFn,"ion-logo":ionFn,"iconfont ":sameFn,"ti-":t=>`themify-icon ${t}`,"bi-":t=>`bootstrap-icons ${t}`},matMap={o_:"-outlined",r_:"-round",s_:"-sharp"},symMap={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},libRE=new RegExp("^("+Object.keys(libMap).join("|")+")"),matRE=new RegExp("^("+Object.keys(matMap).join("|")+")"),symRE=new RegExp("^("+Object.keys(symMap).join("|")+")"),mRE=/^[Mm]\s?[-+]?\.?\d/,imgRE=/^img:/,svgUseRE=/^svguse:/,ionRE=/^ion-/,faRE=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var QIcon=createComponent({name:"QIcon",props:{...useSizeProps,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(t,{slots:e}){const{proxy:{$q:r}}=getCurrentInstance(),n=useSize(t),o=computed$1(()=>"q-icon"+(t.left===!0?" on-left":"")+(t.right===!0?" on-right":"")+(t.color!==void 0?` text-${t.color}`:"")),s=computed$1(()=>{let a,c=t.name;if(c==="none"||!c)return{none:!0};if(r.iconMapFn!==null){const gr=r.iconMapFn(c);if(gr!==void 0)if(gr.icon!==void 0){if(c=gr.icon,c==="none"||!c)return{none:!0}}else return{cls:gr.cls,content:gr.content!==void 0?gr.content:" "}}if(mRE.test(c)===!0){const[gr,vr=defaultViewBox]=c.split("|");return{svg:!0,viewBox:vr,nodes:gr.split("&&").map(Ar=>{const[Tr,Rr,kr]=Ar.split("@@");return h("path",{style:Rr,d:Tr,transform:kr})})}}if(imgRE.test(c)===!0)return{img:!0,src:c.substring(4)};if(svgUseRE.test(c)===!0){const[gr,vr=defaultViewBox]=c.split("|");return{svguse:!0,src:gr.substring(7),viewBox:vr}}let d=" ";const m=c.match(libRE);if(m!==null)a=libMap[m[1]](c);else if(faRE.test(c)===!0)a=c;else if(ionRE.test(c)===!0)a=`ionicons ion-${r.platform.is.ios===!0?"ios":"md"}${c.substring(3)}`;else if(symRE.test(c)===!0){a="notranslate material-symbols";const gr=c.match(symRE);gr!==null&&(c=c.substring(6),a+=symMap[gr[1]]),d=c}else{a="notranslate material-icons";const gr=c.match(matRE);gr!==null&&(c=c.substring(2),a+=matMap[gr[1]]),d=c}return{cls:a,content:d}});return()=>{const a={class:o.value,style:n.value,"aria-hidden":"true",role:"presentation"};return s.value.none===!0?h(t.tag,a,hSlot(e.default)):s.value.img===!0?h("span",a,hMergeSlot(e.default,[h("img",{src:s.value.src})])):s.value.svg===!0?h("span",a,hMergeSlot(e.default,[h("svg",{viewBox:s.value.viewBox||"0 0 24 24"},s.value.nodes)])):s.value.svguse===!0?h("span",a,hMergeSlot(e.default,[h("svg",{viewBox:s.value.viewBox},[h("use",{"xlink:href":s.value.src})])])):(s.value.cls!==void 0&&(a.class+=" "+s.value.cls),h(t.tag,a,hMergeSlot(e.default,[s.value.content])))}}}),QAvatar=createComponent({name:"QAvatar",props:{...useSizeProps,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(t,{slots:e}){const r=useSize(t),n=computed$1(()=>"q-avatar"+(t.color?` bg-${t.color}`:"")+(t.textColor?` text-${t.textColor} q-chip--colored`:"")+(t.square===!0?" q-avatar--square":t.rounded===!0?" rounded-borders":"")),o=computed$1(()=>t.fontSize?{fontSize:t.fontSize}:null);return()=>{const s=t.icon!==void 0?[h(QIcon,{name:t.icon})]:void 0;return h("div",{class:n.value,style:r.value},[h("div",{class:"q-avatar__content row flex-center overflow-hidden",style:o.value},hMergeSlotSafely(e.default,s))])}}});const useSpinnerProps={size:{type:[Number,String],default:"1em"},color:String};function useSpinner(t){return{cSize:computed$1(()=>t.size in useSizeDefaults?`${useSizeDefaults[t.size]}px`:t.size),classes:computed$1(()=>"q-spinner"+(t.color?` text-${t.color}`:""))}}var QSpinner=createComponent({name:"QSpinner",props:{...useSpinnerProps,thickness:{type:Number,default:5}},setup(t){const{cSize:e,classes:r}=useSpinner(t);return()=>h("svg",{class:r.value+" q-spinner-mat",width:e.value,height:e.value,viewBox:"25 25 50 50"},[h("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":t.thickness,"stroke-miterlimit":"10"})])}});function css(t,e){const r=t.style;for(const n in e)r[n]=e[n]}function getElement(t){if(t==null)return;if(typeof t=="string")try{return document.querySelector(t)||void 0}catch{return}const e=unref(t);if(e)return e.$el||e}function childHasFocus(t,e){if(t==null||t.contains(e)===!0)return!0;for(let r=t.nextElementSibling;r!==null;r=r.nextElementSibling)if(r.contains(e))return!0;return!1}function throttle(t,e=250){let r=!1,n;return function(){return r===!1&&(r=!0,setTimeout(()=>{r=!1},e),n=t.apply(this,arguments)),n}}function showRipple(t,e,r,n){r.modifiers.stop===!0&&stop(t);const o=r.modifiers.color;let s=r.modifiers.center;s=s===!0||n===!0;const a=document.createElement("span"),c=document.createElement("span"),d=position(t),{left:m,top:gr,width:vr,height:Ar}=e.getBoundingClientRect(),Tr=Math.sqrt(vr*vr+Ar*Ar),Rr=Tr/2,kr=`${(vr-Tr)/2}px`,xr=s?kr:`${d.left-m-Rr}px`,Dr=`${(Ar-Tr)/2}px`,Ur=s?Dr:`${d.top-gr-Rr}px`;c.className="q-ripple__inner",css(c,{height:`${Tr}px`,width:`${Tr}px`,transform:`translate3d(${xr},${Ur},0) scale3d(.2,.2,1)`,opacity:0}),a.className=`q-ripple${o?" text-"+o:""}`,a.setAttribute("dir","ltr"),a.appendChild(c),e.appendChild(a);const Cr=()=>{a.remove(),clearTimeout(Nr)};r.abort.push(Cr);let Nr=setTimeout(()=>{c.classList.add("q-ripple__inner--enter"),c.style.transform=`translate3d(${kr},${Dr},0) scale3d(1,1,1)`,c.style.opacity=.2,Nr=setTimeout(()=>{c.classList.remove("q-ripple__inner--enter"),c.classList.add("q-ripple__inner--leave"),c.style.opacity=0,Nr=setTimeout(()=>{a.remove(),r.abort.splice(r.abort.indexOf(Cr),1)},275)},250)},50)}function updateModifiers(t,{modifiers:e,value:r,arg:n}){const o=Object.assign({},t.cfg.ripple,e,r);t.modifiers={early:o.early===!0,stop:o.stop===!0,center:o.center===!0,color:o.color||n,keyCodes:[].concat(o.keyCodes||13)}}var Ripple=createDirective({name:"ripple",beforeMount(t,e){const r=e.instance.$.appContext.config.globalProperties.$q.config||{};if(r.ripple===!1)return;const n={cfg:r,enabled:e.value!==!1,modifiers:{},abort:[],start(o){n.enabled===!0&&o.qSkipRipple!==!0&&o.type===(n.modifiers.early===!0?"pointerdown":"click")&&showRipple(o,t,n,o.qKeyEvent===!0)},keystart:throttle(o=>{n.enabled===!0&&o.qSkipRipple!==!0&&isKeyCode(o,n.modifiers.keyCodes)===!0&&o.type===`key${n.modifiers.early===!0?"down":"up"}`&&showRipple(o,t,n,!0)},300)};updateModifiers(n,e),t.__qripple=n,addEvt(n,"main",[[t,"pointerdown","start","passive"],[t,"click","start","passive"],[t,"keydown","keystart","passive"],[t,"keyup","keystart","passive"]])},updated(t,e){if(e.oldValue!==e.value){const r=t.__qripple;r!==void 0&&(r.enabled=e.value!==!1,r.enabled===!0&&Object(e.value)===e.value&&updateModifiers(r,e))}},beforeUnmount(t){const e=t.__qripple;e!==void 0&&(e.abort.forEach(r=>{r()}),cleanEvt(e,"main"),delete t._qripple)}});const alignMap={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},alignValues=Object.keys(alignMap),useAlignProps={align:{type:String,validator:t=>alignValues.includes(t)}};function useAlign(t){return computed$1(()=>{const e=t.align===void 0?t.vertical===!0?"stretch":"left":t.align;return`${t.vertical===!0?"items":"justify"}-${alignMap[e]}`})}function getParentProxy(t){if(Object(t.$parent)===t.$parent)return t.$parent;let{parent:e}=t.$;for(;Object(e)===e;){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function fillNormalizedVNodes(t,e){typeof e.type=="symbol"?Array.isArray(e.children)===!0&&e.children.forEach(r=>{fillNormalizedVNodes(t,r)}):t.add(e)}function getNormalizedVNodes(t){const e=new Set;return t.forEach(r=>{fillNormalizedVNodes(e,r)}),Array.from(e)}function vmHasRouter(t){return t.appContext.config.globalProperties.$router!==void 0}function vmIsDestroyed(t){return t.isUnmounted===!0||t.isDeactivated===!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function includesParams(t,e){for(const r in e){const n=e[r],o=t[r];if(typeof n=="string"){if(n!==o)return!1}else if(Array.isArray(o)===!1||o.length!==n.length||n.some((s,a)=>s!==o[a]))return!1}return!0}function isEquivalentArray(t,e){return Array.isArray(e)===!0?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function isSameRouteLocationParamsValue(t,e){return Array.isArray(t)===!0?isEquivalentArray(t,e):Array.isArray(e)===!0?isEquivalentArray(e,t):t===e}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(isSameRouteLocationParamsValue(t[r],e[r])===!1)return!1;return!0}const useRouterLinkProps={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function useRouterLink({fallbackTag:t,useDisableForRouterLinkProps:e=!0}={}){const r=getCurrentInstance(),{props:n,proxy:o,emit:s}=r,a=vmHasRouter(r),c=computed$1(()=>n.disable!==!0&&n.href!==void 0),d=computed$1(e===!0?()=>a===!0&&n.disable!==!0&&c.value!==!0&&n.to!==void 0&&n.to!==null&&n.to!=="":()=>a===!0&&c.value!==!0&&n.to!==void 0&&n.to!==null&&n.to!==""),m=computed$1(()=>d.value===!0?Ur(n.to):null),gr=computed$1(()=>m.value!==null),vr=computed$1(()=>c.value===!0||gr.value===!0),Ar=computed$1(()=>n.type==="a"||vr.value===!0?"a":n.tag||t||"div"),Tr=computed$1(()=>c.value===!0?{href:n.href,target:n.target}:gr.value===!0?{href:m.value.href,target:n.target}:{}),Rr=computed$1(()=>{if(gr.value===!1)return-1;const{matched:Hr}=m.value,{length:Mr}=Hr,Fr=Hr[Mr-1];if(Fr===void 0)return-1;const Vr=o.$route.matched;if(Vr.length===0)return-1;const Xr=Vr.findIndex(isSameRouteRecord.bind(null,Fr));if(Xr>-1)return Xr;const Yr=getOriginalPath(Hr[Mr-2]);return Mr>1&&getOriginalPath(Fr)===Yr&&Vr[Vr.length-1].path!==Yr?Vr.findIndex(isSameRouteRecord.bind(null,Hr[Mr-2])):Xr}),kr=computed$1(()=>gr.value===!0&&Rr.value!==-1&&includesParams(o.$route.params,m.value.params)),xr=computed$1(()=>kr.value===!0&&Rr.value===o.$route.matched.length-1&&isSameRouteLocationParams(o.$route.params,m.value.params)),Dr=computed$1(()=>gr.value===!0?xr.value===!0?` ${n.exactActiveClass} ${n.activeClass}`:n.exact===!0?"":kr.value===!0?` ${n.activeClass}`:"":"");function Ur(Hr){try{return o.$router.resolve(Hr)}catch{}return null}function Cr(Hr,{returnRouterError:Mr,to:Fr=n.to,replace:Vr=n.replace}={}){if(n.disable===!0)return Hr.preventDefault(),Promise.resolve(!1);if(Hr.metaKey||Hr.altKey||Hr.ctrlKey||Hr.shiftKey||Hr.button!==void 0&&Hr.button!==0||n.target==="_blank")return Promise.resolve(!1);Hr.preventDefault();const Xr=o.$router[Vr===!0?"replace":"push"](Fr);return Mr===!0?Xr:Xr.then(()=>{}).catch(()=>{})}function Nr(Hr){if(gr.value===!0){const Mr=Fr=>Cr(Hr,Fr);s("click",Hr,Mr),Hr.defaultPrevented!==!0&&Mr()}else s("click",Hr)}return{hasRouterLink:gr,hasHrefLink:c,hasLink:vr,linkTag:Ar,resolvedLink:m,linkIsActive:kr,linkIsExactActive:xr,linkClass:Dr,linkAttrs:Tr,getLink:Ur,navigateToRouterLink:Cr,navigateOnClick:Nr}}const btnPadding={none:0,xs:4,sm:8,md:16,lg:24,xl:32},defaultSizes={xs:8,sm:10,md:14,lg:20,xl:24},formTypes=["button","submit","reset"],mediaTypeRE=/[^\s]\/[^\s]/,btnDesignOptions=["flat","outline","push","unelevated"],getBtnDesign=(t,e)=>t.flat===!0?"flat":t.outline===!0?"outline":t.push===!0?"push":t.unelevated===!0?"unelevated":e,useBtnProps={...useSizeProps,...useRouterLinkProps,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...btnDesignOptions.reduce((t,e)=>(t[e]=Boolean)&&t,{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...useAlignProps.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function useBtn(t){const e=useSize(t,defaultSizes),r=useAlign(t),{hasRouterLink:n,hasLink:o,linkTag:s,linkAttrs:a,navigateOnClick:c}=useRouterLink({fallbackTag:"button"}),d=computed$1(()=>{const xr=t.fab===!1&&t.fabMini===!1?e.value:{};return t.padding!==void 0?Object.assign({},xr,{padding:t.padding.split(/\s+/).map(Dr=>Dr in btnPadding?btnPadding[Dr]+"px":Dr).join(" "),minWidth:"0",minHeight:"0"}):xr}),m=computed$1(()=>t.rounded===!0||t.fab===!0||t.fabMini===!0),gr=computed$1(()=>t.disable!==!0&&t.loading!==!0),vr=computed$1(()=>gr.value===!0?t.tabindex||0:-1),Ar=computed$1(()=>getBtnDesign(t,"standard")),Tr=computed$1(()=>{const xr={tabindex:vr.value};return o.value===!0?Object.assign(xr,a.value):formTypes.includes(t.type)===!0&&(xr.type=t.type),s.value==="a"?(t.disable===!0?xr["aria-disabled"]="true":xr.href===void 0&&(xr.role="button"),n.value!==!0&&mediaTypeRE.test(t.type)===!0&&(xr.type=t.type)):t.disable===!0&&(xr.disabled="",xr["aria-disabled"]="true"),t.loading===!0&&t.percentage!==void 0&&Object.assign(xr,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t.percentage}),xr}),Rr=computed$1(()=>{let xr;t.color!==void 0?t.flat===!0||t.outline===!0?xr=`text-${t.textColor||t.color}`:xr=`bg-${t.color} text-${t.textColor||"white"}`:t.textColor&&(xr=`text-${t.textColor}`);const Dr=t.round===!0?"round":`rectangle${m.value===!0?" q-btn--rounded":t.square===!0?" q-btn--square":""}`;return`q-btn--${Ar.value} q-btn--${Dr}`+(xr!==void 0?" "+xr:"")+(gr.value===!0?" q-btn--actionable q-focusable q-hoverable":t.disable===!0?" disabled":"")+(t.fab===!0?" q-btn--fab":t.fabMini===!0?" q-btn--fab-mini":"")+(t.noCaps===!0?" q-btn--no-uppercase":"")+(t.dense===!0?" q-btn--dense":"")+(t.stretch===!0?" no-border-radius self-stretch":"")+(t.glossy===!0?" glossy":"")+(t.square?" q-btn--square":"")}),kr=computed$1(()=>r.value+(t.stack===!0?" column":" row")+(t.noWrap===!0?" no-wrap text-no-wrap":"")+(t.loading===!0?" q-btn__content--hidden":""));return{classes:Rr,style:d,innerClasses:kr,attributes:Tr,hasLink:o,linkTag:s,navigateOnClick:c,isActionable:gr}}const{passiveCapture}=listenOpts;let touchTarget=null,keyboardTarget=null,mouseTarget=null;var QBtn=createComponent({name:"QBtn",props:{...useBtnProps,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(t,{slots:e,emit:r}){const{proxy:n}=getCurrentInstance(),{classes:o,style:s,innerClasses:a,attributes:c,hasLink:d,linkTag:m,navigateOnClick:gr,isActionable:vr}=useBtn(t),Ar=ref(null),Tr=ref(null);let Rr=null,kr,xr=null;const Dr=computed$1(()=>t.label!==void 0&&t.label!==null&&t.label!==""),Ur=computed$1(()=>t.disable===!0||t.ripple===!1?!1:{keyCodes:d.value===!0?[13,32]:[13],...t.ripple===!0?{}:t.ripple}),Cr=computed$1(()=>({center:t.round})),Nr=computed$1(()=>{const Er=Math.max(0,Math.min(100,t.percentage));return Er>0?{transition:"transform 0.6s",transform:`translateX(${Er-100}%)`}:{}}),Hr=computed$1(()=>{if(t.loading===!0)return{onMousedown:Lr,onTouchstart:Lr,onClick:Lr,onKeydown:Lr,onKeyup:Lr};if(vr.value===!0){const Er={onClick:Fr,onKeydown:Vr,onMousedown:Yr};if(n.$q.platform.has.touch===!0){const Or=t.onTouchstart!==void 0?"":"Passive";Er[`onTouchstart${Or}`]=Xr}return Er}return{onClick:stopAndPrevent}}),Mr=computed$1(()=>({ref:Ar,class:"q-btn q-btn-item non-selectable no-outline "+o.value,style:s.value,...c.value,...Hr.value}));function Fr(Er){if(Ar.value!==null){if(Er!==void 0){if(Er.defaultPrevented===!0)return;const Or=document.activeElement;if(t.type==="submit"&&Or!==document.body&&Ar.value.contains(Or)===!1&&Or.contains(Ar.value)===!1){Ar.value.focus();const jr=()=>{document.removeEventListener("keydown",stopAndPrevent,!0),document.removeEventListener("keyup",jr,passiveCapture),Ar.value!==null&&Ar.value.removeEventListener("blur",jr,passiveCapture)};document.addEventListener("keydown",stopAndPrevent,!0),document.addEventListener("keyup",jr,passiveCapture),Ar.value.addEventListener("blur",jr,passiveCapture)}}gr(Er)}}function Vr(Er){Ar.value!==null&&(r("keydown",Er),isKeyCode(Er,[13,32])===!0&&keyboardTarget!==Ar.value&&(keyboardTarget!==null&&an(),Er.defaultPrevented!==!0&&(Ar.value.focus(),keyboardTarget=Ar.value,Ar.value.classList.add("q-btn--active"),document.addEventListener("keyup",tn,!0),Ar.value.addEventListener("blur",tn,passiveCapture)),stopAndPrevent(Er)))}function Xr(Er){Ar.value!==null&&(r("touchstart",Er),Er.defaultPrevented!==!0&&(touchTarget!==Ar.value&&(touchTarget!==null&&an(),touchTarget=Ar.value,Rr=Er.target,Rr.addEventListener("touchcancel",tn,passiveCapture),Rr.addEventListener("touchend",tn,passiveCapture)),kr=!0,xr!==null&&clearTimeout(xr),xr=setTimeout(()=>{xr=null,kr=!1},200)))}function Yr(Er){Ar.value!==null&&(Er.qSkipRipple=kr===!0,r("mousedown",Er),Er.defaultPrevented!==!0&&mouseTarget!==Ar.value&&(mouseTarget!==null&&an(),mouseTarget=Ar.value,Ar.value.classList.add("q-btn--active"),document.addEventListener("mouseup",tn,passiveCapture)))}function tn(Er){if(Ar.value!==null&&!(Er!==void 0&&Er.type==="blur"&&document.activeElement===Ar.value)){if(Er!==void 0&&Er.type==="keyup"){if(keyboardTarget===Ar.value&&isKeyCode(Er,[13,32])===!0){const Or=new MouseEvent("click",Er);Or.qKeyEvent=!0,Er.defaultPrevented===!0&&prevent(Or),Er.cancelBubble===!0&&stop(Or),Ar.value.dispatchEvent(Or),stopAndPrevent(Er),Er.qKeyEvent=!0}r("keyup",Er)}an()}}function an(Er){const Or=Tr.value;Er!==!0&&(touchTarget===Ar.value||mouseTarget===Ar.value)&&Or!==null&&Or!==document.activeElement&&(Or.setAttribute("tabindex",-1),Or.focus()),touchTarget===Ar.value&&(Rr!==null&&(Rr.removeEventListener("touchcancel",tn,passiveCapture),Rr.removeEventListener("touchend",tn,passiveCapture)),touchTarget=Rr=null),mouseTarget===Ar.value&&(document.removeEventListener("mouseup",tn,passiveCapture),mouseTarget=null),keyboardTarget===Ar.value&&(document.removeEventListener("keyup",tn,!0),Ar.value!==null&&Ar.value.removeEventListener("blur",tn,passiveCapture),keyboardTarget=null),Ar.value!==null&&Ar.value.classList.remove("q-btn--active")}function Lr(Er){stopAndPrevent(Er),Er.qSkipRipple=!0}return onBeforeUnmount(()=>{an(!0)}),Object.assign(n,{click:Fr}),()=>{let Er=[];t.icon!==void 0&&Er.push(h(QIcon,{name:t.icon,left:t.stack===!1&&Dr.value===!0,role:"img","aria-hidden":"true"})),Dr.value===!0&&Er.push(h("span",{class:"block"},[t.label])),Er=hMergeSlot(e.default,Er),t.iconRight!==void 0&&t.round===!1&&Er.push(h(QIcon,{name:t.iconRight,right:t.stack===!1&&Dr.value===!0,role:"img","aria-hidden":"true"}));const Or=[h("span",{class:"q-focus-helper",ref:Tr})];return t.loading===!0&&t.percentage!==void 0&&Or.push(h("span",{class:"q-btn__progress absolute-full overflow-hidden"+(t.darkPercentage===!0?" q-btn__progress--dark":"")},[h("span",{class:"q-btn__progress-indicator fit block",style:Nr.value})])),Or.push(h("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+a.value},Er)),t.loading!==null&&Or.push(h(Transition,{name:"q-transition--fade"},()=>t.loading===!0?[h("span",{key:"loading",class:"absolute-full flex flex-center"},e.loading!==void 0?e.loading():[h(QSpinner)])]:null)),withDirectives(h(m.value,Mr.value,Or),[[Ripple,Ur.value,void 0,Cr.value]])}}});let portalIndex=1,target=document.body;function createGlobalNode(t,e){const r=document.createElement("div");if(r.id=e!==void 0?`q-portal--${e}--${portalIndex++}`:t,globalConfig.globalNodes!==void 0){const n=globalConfig.globalNodes.class;n!==void 0&&(r.className=n)}return target.appendChild(r),r}function removeGlobalNode(t){t.remove()}let uid=0;const defaults={},groups={},notificationsList={},positionClass={},emptyRE=/^\s*$/,notifRefs=[],positionList=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],badgePositions=["top-left","top-right","bottom-left","bottom-right"],notifTypes={positive:{icon:t=>t.iconSet.type.positive,color:"positive"},negative:{icon:t=>t.iconSet.type.negative,color:"negative"},warning:{icon:t=>t.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:t=>t.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function addNotification(t,e,r){if(!t)return logError("parameter required");let n;const o={textColor:"white"};if(t.ignoreDefaults!==!0&&Object.assign(o,defaults),isObject$5(t)===!1&&(o.type&&Object.assign(o,notifTypes[o.type]),t={message:t}),Object.assign(o,notifTypes[t.type||o.type],t),typeof o.icon=="function"&&(o.icon=o.icon(e)),o.spinner?(o.spinner===!0&&(o.spinner=QSpinner),o.spinner=markRaw(o.spinner)):o.spinner=!1,o.meta={hasMedia:Boolean(o.spinner!==!1||o.icon||o.avatar),hasText:hasContent(o.message)||hasContent(o.caption)},o.position){if(positionList.includes(o.position)===!1)return logError("wrong position",t)}else o.position="bottom";if(o.timeout===void 0)o.timeout=5e3;else{const d=parseInt(o.timeout,10);if(isNaN(d)||d<0)return logError("wrong timeout",t);o.timeout=d}o.timeout===0?o.progress=!1:o.progress===!0&&(o.meta.progressClass="q-notification__progress"+(o.progressClass?` ${o.progressClass}`:""),o.meta.progressStyle={animationDuration:`${o.timeout+1e3}ms`});const s=(Array.isArray(t.actions)===!0?t.actions:[]).concat(t.ignoreDefaults!==!0&&Array.isArray(defaults.actions)===!0?defaults.actions:[]).concat(notifTypes[t.type]!==void 0&&Array.isArray(notifTypes[t.type].actions)===!0?notifTypes[t.type].actions:[]),{closeBtn:a}=o;if(a&&s.push({label:typeof a=="string"?a:e.lang.label.close}),o.actions=s.map(({handler:d,noDismiss:m,...gr})=>({flat:!0,...gr,onClick:typeof d=="function"?()=>{d(),m!==!0&&c()}:()=>{c()}})),o.multiLine===void 0&&(o.multiLine=o.actions.length>1),Object.assign(o.meta,{class:`q-notification row items-stretch q-notification--${o.multiLine===!0?"multi-line":"standard"}`+(o.color!==void 0?` bg-${o.color}`:"")+(o.textColor!==void 0?` text-${o.textColor}`:"")+(o.classes!==void 0?` ${o.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(o.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(o.multiLine===!0?"":" col"),leftClass:o.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...o.attrs}}),o.group===!1?(o.group=void 0,o.meta.group=void 0):((o.group===void 0||o.group===!0)&&(o.group=[o.message,o.caption,o.multiline].concat(o.actions.map(d=>`${d.label}*${d.icon}`)).join("|")),o.meta.group=o.group+"|"+o.position),o.actions.length===0?o.actions=void 0:o.meta.actionsClass="q-notification__actions row items-center "+(o.multiLine===!0?"justify-end":"col-auto")+(o.meta.hasMedia===!0?" q-notification__actions--with-media":""),r!==void 0){r.notif.meta.timer&&(clearTimeout(r.notif.meta.timer),r.notif.meta.timer=void 0),o.meta.uid=r.notif.meta.uid;const d=notificationsList[o.position].value.indexOf(r.notif);notificationsList[o.position].value[d]=o}else{const d=groups[o.meta.group];if(d===void 0){if(o.meta.uid=uid++,o.meta.badge=1,["left","right","center"].indexOf(o.position)!==-1)notificationsList[o.position].value.splice(Math.floor(notificationsList[o.position].value.length/2),0,o);else{const m=o.position.indexOf("top")>-1?"unshift":"push";notificationsList[o.position].value[m](o)}o.group!==void 0&&(groups[o.meta.group]=o)}else{if(d.meta.timer&&(clearTimeout(d.meta.timer),d.meta.timer=void 0),o.badgePosition!==void 0){if(badgePositions.includes(o.badgePosition)===!1)return logError("wrong badgePosition",t)}else o.badgePosition=`top-${o.position.indexOf("left")>-1?"right":"left"}`;o.meta.uid=d.meta.uid,o.meta.badge=d.meta.badge+1,o.meta.badgeClass=`q-notification__badge q-notification__badge--${o.badgePosition}`+(o.badgeColor!==void 0?` bg-${o.badgeColor}`:"")+(o.badgeTextColor!==void 0?` text-${o.badgeTextColor}`:"")+(o.badgeClass?` ${o.badgeClass}`:"");const m=notificationsList[o.position].value.indexOf(d);notificationsList[o.position].value[m]=groups[o.meta.group]=o}}const c=()=>{removeNotification(o),n=void 0};if(o.timeout>0&&(o.meta.timer=setTimeout(()=>{o.meta.timer=void 0,c()},o.timeout+1e3)),o.group!==void 0)return d=>{d!==void 0?logError("trying to update a grouped one which is forbidden",t):c()};if(n={dismiss:c,config:t,notif:o},r!==void 0){Object.assign(r,n);return}return d=>{if(n!==void 0)if(d===void 0)n.dismiss();else{const m=Object.assign({},n.config,d,{group:!1,position:o.position});addNotification(m,e,n)}}}function removeNotification(t){t.meta.timer&&(clearTimeout(t.meta.timer),t.meta.timer=void 0);const e=notificationsList[t.position].value.indexOf(t);if(e!==-1){t.group!==void 0&&delete groups[t.meta.group];const r=notifRefs[""+t.meta.uid];if(r){const{width:n,height:o}=getComputedStyle(r);r.style.left=`${r.offsetLeft}px`,r.style.width=n,r.style.height=o}notificationsList[t.position].value.splice(e,1),typeof t.onDismiss=="function"&&t.onDismiss()}}function hasContent(t){return t!=null&&emptyRE.test(t)!==!0}function logError(t,e){return console.error(`Notify: ${t}`,e),!1}function getComponent(){return createComponent({name:"QNotifications",devtools:{hide:!0},setup(){return()=>h("div",{class:"q-notifications"},positionList.map(t=>h(TransitionGroup,{key:t,class:positionClass[t],tag:"div",name:`q-notification--${t}`},()=>notificationsList[t].value.map(e=>{const r=e.meta,n=[];if(r.hasMedia===!0&&(e.spinner!==!1?n.push(h(e.spinner,{class:"q-notification__spinner q-notification__spinner--"+r.leftClass,color:e.spinnerColor,size:e.spinnerSize})):e.icon?n.push(h(QIcon,{class:"q-notification__icon q-notification__icon--"+r.leftClass,name:e.icon,color:e.iconColor,size:e.iconSize,role:"img"})):e.avatar&&n.push(h(QAvatar,{class:"q-notification__avatar q-notification__avatar--"+r.leftClass},()=>h("img",{src:e.avatar,"aria-hidden":"true"})))),r.hasText===!0){let s;const a={class:"q-notification__message col"};if(e.html===!0)a.innerHTML=e.caption?`<div>${e.message}</div><div class="q-notification__caption">${e.caption}</div>`:e.message;else{const c=[e.message];s=e.caption?[h("div",c),h("div",{class:"q-notification__caption"},[e.caption])]:c}n.push(h("div",a,s))}const o=[h("div",{class:r.contentClass},n)];return e.progress===!0&&o.push(h("div",{key:`${r.uid}|p|${r.badge}`,class:r.progressClass,style:r.progressStyle})),e.actions!==void 0&&o.push(h("div",{class:r.actionsClass},e.actions.map(s=>h(QBtn,s)))),r.badge>1&&o.push(h("div",{key:`${r.uid}|${r.badge}`,class:e.meta.badgeClass,style:e.badgeStyle},[r.badge])),h("div",{ref:s=>{notifRefs[""+r.uid]=s},key:r.uid,class:r.class,...r.attrs},[h("div",{class:r.wrapperClass},o)])}))))}})}var Notify={setDefaults(t){isObject$5(t)===!0&&Object.assign(defaults,t)},registerType(t,e){isObject$5(e)===!0&&(notifTypes[t]=e)},install({$q:t,parentApp:e}){if(t.notify=this.create=r=>addNotification(r,t),t.notify.setDefaults=this.setDefaults,t.notify.registerType=this.registerType,t.config.notify!==void 0&&this.setDefaults(t.config.notify),this.__installed!==!0){positionList.forEach(n=>{notificationsList[n]=ref([]);const o=["left","center","right"].includes(n)===!0?"center":n.indexOf("top")>-1?"top":"bottom",s=n.indexOf("left")>-1?"start":n.indexOf("right")>-1?"end":"center",a=["left","right"].includes(n)?`items-${n==="left"?"start":"end"} justify-center`:n==="center"?"flex-center":`items-${s}`;positionClass[n]=`q-notifications__list q-notifications__list--${o} fixed column no-wrap ${a}`});const r=createGlobalNode("q-notify");createChildApp(getComponent(),e).mount(r)}}},quasarUserOptions={config:{notify:{},dark:{}},plugins:{Notify}};const publicPath="/";async function start({app:t,router:e,store:r},n){let o=!1;const s=d=>{try{return e.resolve(d).href}catch{}return Object(d)===d?null:d},a=d=>{if(o=!0,typeof d=="string"&&/^https?:\/\//.test(d)){window.location.href=d;return}const m=s(d);m!==null&&(window.location.href=m,window.location.reload())},c=window.location.href.replace(window.location.origin,"");for(let d=0;o===!1&&d<n.length;d++)try{await n[d]({app:t,router:e,store:r,ssrContext:null,redirect:a,urlPath:c,publicPath})}catch(m){if(m&&m.url){a(m.url);return}console.error("[Quasar] boot error:",m);return}o!==!0&&(t.use(e),t.mount("#q-app"))}createQuasarApp(createApp,quasarUserOptions).then(t=>{const[e,r]=Promise.allSettled!==void 0?["allSettled",n=>n.map(o=>{if(o.status==="rejected"){console.error("[Quasar] boot error:",o.reason);return}return o.value.default})]:["all",n=>n.map(o=>o.default)];return Promise[e]([__vitePreload(()=>import("./axios.6dd390ad.js"),[]),__vitePreload(()=>import("./wallet.50144221.js").then(function(n){return n.w}),["assets/wallet.50144221.js","assets/wallet_connect.eec8b101.css"])]).then(n=>{const o=r(n).filter(s=>typeof s=="function");start(t,o)})});export{createElementBlock as $,unref as A,camelize as B,capitalize as C,normalizeClass as D,EffectScope as E,normalizeProps as F,normalizeStyle as G,toDisplayString as H,toHandlerKey as I,BaseTransition as J,BaseTransitionPropsValidators as K,Comment as L,Fragment as M,KeepAlive as N,Suspense as O,Text as P,assertNumber as Q,ReactiveEffect as R,Static as S,Teleport as T,callWithAsyncErrorHandling as U,callWithErrorHandling as V,cloneVNode as W,compatUtils as X,computed$1 as Y,createBlock as Z,createCommentVNode as _,axios$1 as a,transformVNodeArgs as a$,createBaseVNode as a0,createHydrationRenderer as a1,createPropsRestProxy as a2,createRenderer as a3,createSlots as a4,createStaticVNode as a5,createTextVNode as a6,createVNode as a7,defineAsyncComponent as a8,defineComponent as a9,onDeactivated as aA,onErrorCaptured as aB,onMounted as aC,onRenderTracked as aD,onRenderTriggered as aE,onServerPrefetch as aF,onUnmounted as aG,onUpdated as aH,openBlock as aI,popScopeId as aJ,provide as aK,pushScopeId as aL,queuePostFlushCb as aM,registerRuntimeCompiler as aN,renderList as aO,renderSlot as aP,resolveComponent as aQ,resolveDirective as aR,resolveDynamicComponent as aS,resolveFilter as aT,resolveTransitionHooks as aU,setBlockTracking as aV,setDevtoolsHook as aW,setTransitionHooks as aX,ssrContextKey as aY,ssrUtils as aZ,toHandlers as a_,defineEmits as aa,defineExpose as ab,defineModel as ac,defineOptions as ad,defineProps as ae,defineSlots as af,devtools as ag,getCurrentInstance as ah,getTransitionRawChildren as ai,guardReactiveProps as aj,h as ak,handleError as al,hasInjectionContext as am,initCustomFormatter as an,inject as ao,isMemoSame as ap,isRuntimeOnly as aq,isVNode as ar,mergeDefaults as as,mergeModels as at,mergeProps as au,nextTick as av,onActivated as aw,onBeforeMount as ax,onBeforeUnmount as ay,onBeforeUpdate as az,boot as b,TransactionInstruction as b$,useAttrs as b0,useModel as b1,useSSRContext as b2,useSlots as b3,useTransitionState as b4,version$1 as b5,warn as b6,watch as b7,watchEffect as b8,watchPostEffect as b9,withModifiers as bA,BaseMessageSignerWalletAdapter as bB,WalletReadyState as bC,WalletDisconnectedError as bD,PublicKey as bE,WalletPublicKeyError as bF,isIosAndRedirectable as bG,scopePollingDetectionStrategy as bH,WalletNotReadyError as bI,WalletConnectionError as bJ,WalletAccountError as bK,WalletDisconnectionError as bL,WalletNotConnectedError as bM,isVersionedTransaction$2 as bN,WalletError as bO,WalletSendTransactionError as bP,WalletSignTransactionError as bQ,WalletSignMessageError as bR,__vitePreload as bS,WalletLoadError as bT,WalletConfigError as bU,getAugmentedNamespace as bV,getDefaultExportFromCjs$1 as bW,index as bX,struct$1 as bY,u8$1 as bZ,dist$1 as b_,watchSyncEffect as ba,withAsyncContext as bb,withCtx as bc,withDefaults as bd,withDirectives as be,withMemo as bf,withScopeId as bg,Transition as bh,TransitionGroup as bi,VueElement as bj,createApp as bk,createSSRApp as bl,defineCustomElement as bm,defineSSRCustomElement as bn,hydrate as bo,initDirectivesForSSR as bp,render as bq,useCssModule as br,useCssVars as bs,vModelCheckbox as bt,vModelDynamic as bu,vModelRadio as bv,vModelSelect as bw,vModelText as bx,vShow as by,withKeys as bz,customRef as c,leftClick as c$,TOKEN_PROGRAM_ID$1 as c0,createComponent as c1,emptyRenderFn as c2,layoutKey as c3,hUniqueSlot as c4,hDir as c5,hSlot as c6,pageContainerKey as c7,isRuntimeSsrPreHydration as c8,hMergeSlot as c9,useSizeProps as cA,useSize as cB,History as cC,vmHasRouter as cD,getElement as cE,css as cF,client$1 as cG,listenOpts as cH,getEventPath as cI,vmIsDestroyed as cJ,Platform as cK,formKey as cL,debounce as cM,injectProp as cN,prevent as cO,hMergeSlotSafely as cP,addEvt as cQ,cleanEvt as cR,getParentProxy as cS,createGlobalNode as cT,removeGlobalNode as cU,position as cV,childHasFocus as cW,noop$6 as cX,isDeepEqual$2 as cY,stop as cZ,shouldIgnoreKey as c_,useGlobalStore as ca,QBtn as cb,QAvatar as cc,FEE_WALLET as cd,useWallet as ce,Notify as cf,Transaction as cg,CURRENCIES as ch,E_Currency as ci,SystemProgram as cj,LAMPORTS_PER_SOL as ck,QIcon as cl,RPC_NETWORKS as cm,Connection as cn,WalletMultiButton as co,useGlobalUserStore as cp,Ripple as cq,blob$1 as cr,toBigIntLE_1 as cs,toBufferLE_1 as ct,createDirective as cu,isKeyCode as cv,QSpinner as cw,useRouterLinkProps as cx,useRouterLink as cy,stopAndPrevent as cz,effectScope as d,preventDraggable as d0,useGlobalStaratlasAPIStore as d1,getNormalizedVNodes as d2,dist as d3,GM_PROGRAM_ID as d4,useGlobalFactoryStore as d5,useRoute as d6,useSpinnerProps as d7,useSpinner as d8,isNumber$2 as d9,isDate$3 as da,isObject$5 as db,injectMultipleProps as dc,tabsKey as dd,u32$1 as de,ASSOCIATED_TOKEN_PROGRAM_ID$1 as df,watchDebounced as dg,SERVICE_FEE as dh,VersionedTransaction as di,effect as e,isReactive as f,getCurrentScope as g,isReadonly as h,isProxy as i,isRef as j,isShallow as k,readonly as l,markRaw as m,ref as n,onScopeDispose as o,proxyRefs as p,shallowReadonly as q,reactive as r,shallowReactive as s,shallowRef as t,stop$1 as u,toRaw as v,toRef as w,toRefs as x,toValue$1 as y,triggerRef as z};
