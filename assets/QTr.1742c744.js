import{ak as l,c1 as j,d7 as _t,d8 as wt,a9 as Ct,aI as Pt,Z as qt,bc as kt,a0 as pt,G as Tt,A as xt,ci as Rt,cc as Ot,n as N,Y as f,b7 as L,ay as be,cR as De,cQ as Ae,bh as Bt,ah as Y,c6 as $,cz as Mt,c4 as Et,cl as Re,ax as We,aC as Ge,aw as Ft,aA as Lt,cH as Ve,c9 as Dt,cD as At,cC as He,d9 as xe,da as je,db as Vt,av as Ke,dc as Ht,cN as te,cb as fe}from"./index.3903359f.js";import{_ as jt}from"./plugin-vue_export-helper.21dcd24c.js";import{B as Nt,u as Qt,C as $t,D as Ne,E as zt,a as It,F as Ut,b as Wt,G as Gt,H as Kt,I as Yt,c as Jt,J as Zt,K as Qe,L as Xt,t as $e,v as Ye,M as ze,N as el,O as tl,P as ll,n as al,k as nl,l as ol,m as rl,R as Je,h as il,q as sl}from"./use-checkbox.da1e6161.js";import{Q as ul}from"./QSeparator.5f8b894e.js";import{u as Ze,a as Xe}from"./use-dark.2fcd2a76.js";const cl=[l("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none"}),l("g",{transform:"translate(25 25)"},[l("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.9"},[l("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),l("g",{transform:"translate(75 25)"},[l("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.8"},[l("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.1s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),l("g",{transform:"translate(25 75)"},[l("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.7"},[l("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.3s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])]),l("g",{transform:"translate(75 75)"},[l("rect",{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.6"},[l("animateTransform",{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.2s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"})])])];var Il=j({name:"QSpinnerCube",props:_t,setup(e){const{cSize:a,classes:n}=wt(e);return()=>l("svg",{class:n.value,width:a.value,height:a.value,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},cl)}});const dl=["src"],vl=Ct({__name:"CurrencyIcon",props:{currency:{type:Object},size:{default:"xs"}},setup(e){const a=e;return(n,c)=>(Pt(),qt(Ot,{size:e.size},{default:kt(()=>{var o,v;return[pt("img",{class:"border-1",style:Tt(((o=a.currency)==null?void 0:o.type)!=xt(Rt).ATLAS?"border-color: transparent":" "),src:(v=a.currency)==null?void 0:v.img_path,alt:"asset_image"},null,12,dl)]}),_:1},8,["size"]))}});var Ul=jt(vl,[["__scopeId","data-v-10bbb41b"]]),Wl=j({name:"QTooltip",inheritAttrs:!1,props:{...Nt,...Qt,...$t,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ne},self:{type:String,default:"top middle",validator:Ne},offset:{type:Array,default:()=>[14,14],validator:zt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...It],setup(e,{slots:a,emit:n,attrs:c}){let o,v;const u=Y(),{proxy:{$q:i}}=u,d=N(null),b=N(!1),r=f(()=>ze(e.anchor,i.lang.rtl)),m=f(()=>ze(e.self,i.lang.rtl)),w=f(()=>e.persistent!==!0),{registerTick:C,removeTick:q}=Ut(),{registerTimeout:S}=Wt(),{transitionProps:_,transitionStyle:O}=Gt(e),{localScrollTarget:R,changeScrollEvent:M,unconfigureScrollTarget:p}=Kt(e,ne),{anchorEl:P,canShow:z,anchorEvents:Q}=Yt({showing:b,configureAnchorEl:U}),{show:J,hide:I}=Jt({showing:b,canShow:z,handleShow:ae,handleHide:he,hideOnRouteChange:w,processOnMount:!0});Object.assign(Q,{delayShow:X,delayHide:ye});const{showPortal:E,hidePortal:D,renderPortal:me}=Zt(u,d,oe,"tooltip");if(i.platform.is.mobile===!0){const x={anchorEl:P,innerRef:d,onClickOutside(V){return I(V),V.target.classList.contains("q-dialog__backdrop")&&Mt(V),!0}},ee=f(()=>e.modelValue===null&&e.persistent!==!0&&b.value===!0);L(ee,V=>{(V===!0?el:Qe)(x)}),be(()=>{Qe(x)})}function ae(x){E(),C(()=>{v=new MutationObserver(()=>A()),v.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),A(),ne()}),o===void 0&&(o=L(()=>i.screen.width+"|"+i.screen.height+"|"+e.self+"|"+e.anchor+"|"+i.lang.rtl,A)),S(()=>{E(!0),n("show",x)},e.transitionDuration)}function he(x){q(),D(),Z(),S(()=>{D(!0),n("hide",x)},e.transitionDuration)}function Z(){v!==void 0&&(v.disconnect(),v=void 0),o!==void 0&&(o(),o=void 0),p(),De(Q,"tooltipTemp")}function A(){Xt({targetEl:d.value,offset:e.offset,anchorEl:P.value,anchorOrigin:r.value,selfOrigin:m.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function X(x){if(i.platform.is.mobile===!0){$e(),document.body.classList.add("non-selectable");const ee=P.value,V=["touchmove","touchcancel","touchend","click"].map(W=>[ee,W,"delayHide","passiveCapture"]);Ae(Q,"tooltipTemp",V)}S(()=>{J(x)},e.delay)}function ye(x){i.platform.is.mobile===!0&&(De(Q,"tooltipTemp"),$e(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),S(()=>{I(x)},e.hideDelay)}function U(){if(e.noParentEvent===!0||P.value===null)return;const x=i.platform.is.mobile===!0?[[P.value,"touchstart","delayShow","passive"]]:[[P.value,"mouseenter","delayShow","passive"],[P.value,"mouseleave","delayHide","passive"]];Ae(Q,"anchor",x)}function ne(){if(P.value!==null||e.scrollTarget!==void 0){R.value=Ye(P.value,e.scrollTarget);const x=e.noParentEvent===!0?A:I;M(R.value,x)}}function F(){return b.value===!0?l("div",{...c,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",c.class],style:[c.style,O.value],role:"tooltip"},$(a.default)):null}function oe(){return l(Bt,_.value,F)}return be(Z),Object.assign(u.proxy,{updatePosition:A}),me}}),fl=j({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:a,emit:n}){const c=Y(),{proxy:{$q:o}}=c,v=u=>{n("click",u)};return()=>{if(e.props===void 0)return l("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:v},$(a.default));let u,i;const d=c.vnode.key;if(d){if(u=e.props.colsMap[d],u===void 0)return}else u=e.props.col;if(u.sortable===!0){const r=u.align==="right"?"unshift":"push";i=Et(a.default,[]),i[r](l(Re,{class:u.__iconClass,name:o.iconSet.table.arrowUp}))}else i=$(a.default);const b={class:u.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:u.headerStyle,onClick:r=>{u.sortable===!0&&e.props.sort(u),v(r)}};return l("th",b,i)}}});const gl=["horizontal","vertical","cell","none"];var bl=j({name:"QMarkupTable",props:{...Ze,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>gl.includes(e)}},setup(e,{slots:a}){const n=Y(),c=Xe(e,n.proxy.$q),o=f(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(c.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>l("div",{class:o.value},[l("table",{class:"q-table"},$(a.default))])}});function et(e,a){return l("div",e,[l("table",{class:"q-table"},a)])}const ml={list:al,table:bl},hl=["list","table","__qtable"];var yl=j({name:"QVirtualScroll",props:{...tl,type:{type:String,default:"list",validator:e=>hl.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:a,attrs:n}){let c;const o=N(null),v=f(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:u,localResetVirtualScroll:i,padVirtualScroll:d,onVirtualScrollEvt:b}=ll({virtualScrollLength:v,getVirtualScrollTarget:q,getVirtualScrollEl:C}),r=f(()=>{if(v.value===0)return[];const R=(M,p)=>({index:u.value.from+p,item:M});return e.itemsFn===void 0?e.items.slice(u.value.from,u.value.to).map(R):e.itemsFn(u.value.from,u.value.to-u.value.from).map(R)}),m=f(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),w=f(()=>e.scrollTarget!==void 0?{}:{tabindex:0});L(v,()=>{i()}),L(()=>e.scrollTarget,()=>{_(),S()});function C(){return o.value.$el||o.value}function q(){return c}function S(){c=Ye(C(),e.scrollTarget),c.addEventListener("scroll",b,Ve.passive)}function _(){c!==void 0&&(c.removeEventListener("scroll",b,Ve.passive),c=void 0)}function O(){let R=d(e.type==="list"?"div":"tbody",r.value.map(a.default));return a.before!==void 0&&(R=a.before().concat(R)),Dt(a.after,R)}return We(()=>{i()}),Ge(()=>{S()}),Ft(()=>{S()}),Lt(()=>{_()}),be(()=>{_()}),()=>{if(a.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?et({ref:o,class:"q-table__middle "+m.value},O()):l(ml[e.type],{...n,ref:o,class:[n.class,m.value],...w.value},O)}}});const Sl=l("div",{key:"svg",class:"q-checkbox__bg absolute"},[l("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[l("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),l("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Te=j({name:"QCheckbox",props:nl,emits:ol,setup(e){function a(n,c){const o=f(()=>(n.value===!0?e.checkedIcon:c.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>o.value!==null?[l("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[l(Re,{class:"q-checkbox__icon",name:o.value})])]:[Sl]}return rl("checkbox",a)}});let le=0;const _l={fullscreen:Boolean,noRouteFullscreenExit:Boolean},wl=["update:fullscreen","fullscreen"];function Cl(){const e=Y(),{props:a,emit:n,proxy:c}=e;let o,v,u;const i=N(!1);At(e)===!0&&L(()=>c.$route.fullPath,()=>{a.noRouteFullscreenExit!==!0&&r()}),L(()=>a.fullscreen,m=>{i.value!==m&&d()}),L(i,m=>{n("update:fullscreen",m),n("fullscreen",m)});function d(){i.value===!0?r():b()}function b(){i.value!==!0&&(i.value=!0,u=c.$el.parentNode,u.replaceChild(v,c.$el),document.body.appendChild(c.$el),le++,le===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:r},He.add(o))}function r(){i.value===!0&&(o!==void 0&&(He.remove(o),o=void 0),u.replaceChild(c.$el,v),i.value=!1,le=Math.max(0,le-1),le===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),c.$el.scrollIntoView!==void 0&&setTimeout(()=>{c.$el.scrollIntoView()})))}return We(()=>{v=document.createElement("span")}),Ge(()=>{a.fullscreen===!0&&b()}),be(r),Object.assign(c,{toggleFullscreen:d,setFullscreen:b,exitFullscreen:r}),{inFullscreen:i,toggleFullscreen:d}}function Pl(e,a){return new Date(e)-new Date(a)}const ql={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function kl(e,a,n,c){const o=f(()=>{const{sortBy:i}=a.value;return i&&n.value.find(d=>d.name===i)||null}),v=f(()=>e.sortMethod!==void 0?e.sortMethod:(i,d,b)=>{const r=n.value.find(C=>C.name===d);if(r===void 0||r.field===void 0)return i;const m=b===!0?-1:1,w=typeof r.field=="function"?C=>r.field(C):C=>C[r.field];return i.sort((C,q)=>{let S=w(C),_=w(q);return r.rawSort!==void 0?r.rawSort(S,_,C,q)*m:S==null?-1*m:_==null?1*m:r.sort!==void 0?r.sort(S,_,C,q)*m:xe(S)===!0&&xe(_)===!0?(S-_)*m:je(S)===!0&&je(_)===!0?Pl(S,_)*m:typeof S=="boolean"&&typeof _=="boolean"?(S-_)*m:([S,_]=[S,_].map(O=>(O+"").toLocaleString().toLowerCase()),S<_?-1*m:S===_?0:m)})});function u(i){let d=e.columnSortOrder;if(Vt(i)===!0)i.sortOrder&&(d=i.sortOrder),i=i.name;else{const m=n.value.find(w=>w.name===i);m!==void 0&&m.sortOrder&&(d=m.sortOrder)}let{sortBy:b,descending:r}=a.value;b!==i?(b=i,r=d==="da"):e.binaryStateSort===!0?r=!r:r===!0?d==="ad"?b=null:r=!1:d==="ad"?r=!0:b=null,c({sortBy:b,descending:r,page:1})}return{columnToSort:o,computedSortMethod:v,sort:u}}const pl={filter:[String,Object],filterMethod:Function};function Tl(e,a){const n=f(()=>e.filterMethod!==void 0?e.filterMethod:(c,o,v,u)=>{const i=o?o.toLowerCase():"";return c.filter(d=>v.some(b=>{const r=u(b,d)+"";return(r==="undefined"||r==="null"?"":r.toLowerCase()).indexOf(i)!==-1}))});return L(()=>e.filter,()=>{Ke(()=>{a({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function xl(e,a){for(const n in a)if(a[n]!==e[n])return!1;return!0}function Ie(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Rl={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Ol(e,a){const{props:n,emit:c}=e,o=N(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),v=f(()=>{const r=n["onUpdate:pagination"]!==void 0?{...o.value,...n.pagination}:o.value;return Ie(r)}),u=f(()=>v.value.rowsNumber!==void 0);function i(r){d({pagination:r,filter:n.filter})}function d(r={}){Ke(()=>{c("request",{pagination:r.pagination||v.value,filter:r.filter||n.filter,getCellValue:a})})}function b(r,m){const w=Ie({...v.value,...r});if(xl(v.value,w)===!0){u.value===!0&&m===!0&&i(w);return}if(u.value===!0){i(w);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?c("update:pagination",w):o.value=w}return{innerPagination:o,computedPagination:v,isServerSide:u,requestServerInteraction:d,setPagination:b}}function Bl(e,a,n,c,o,v){const{props:u,emit:i,proxy:{$q:d}}=e,b=f(()=>c.value===!0?n.value.rowsNumber||0:v.value),r=f(()=>{const{page:p,rowsPerPage:P}=n.value;return(p-1)*P}),m=f(()=>{const{page:p,rowsPerPage:P}=n.value;return p*P}),w=f(()=>n.value.page===1),C=f(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(b.value/n.value.rowsPerPage))),q=f(()=>m.value===0?!0:n.value.page>=C.value),S=f(()=>(u.rowsPerPageOptions.includes(a.value.rowsPerPage)?u.rowsPerPageOptions:[a.value.rowsPerPage].concat(u.rowsPerPageOptions)).map(P=>({label:P===0?d.lang.table.allRows:""+P,value:P})));L(C,(p,P)=>{if(p===P)return;const z=n.value.page;p&&!z?o({page:1}):p<z&&o({page:p})});function _(){o({page:1})}function O(){const{page:p}=n.value;p>1&&o({page:p-1})}function R(){const{page:p,rowsPerPage:P}=n.value;m.value>0&&p*P<b.value&&o({page:p+1})}function M(){o({page:C.value})}return u["onUpdate:pagination"]!==void 0&&i("update:pagination",{...n.value}),{firstRowIndex:r,lastRowIndex:m,isFirstPage:w,isLastPage:q,pagesNumber:C,computedRowsPerPageOptions:S,computedRowsNumber:b,firstPage:_,prevPage:O,nextPage:R,lastPage:M}}const Ml={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},El=["update:selected","selection"];function Fl(e,a,n,c){const o=f(()=>{const q={};return e.selected.map(c.value).forEach(S=>{q[S]=!0}),q}),v=f(()=>e.selection!=="none"),u=f(()=>e.selection==="single"),i=f(()=>e.selection==="multiple"),d=f(()=>n.value.length!==0&&n.value.every(q=>o.value[c.value(q)]===!0)),b=f(()=>d.value!==!0&&n.value.some(q=>o.value[c.value(q)]===!0)),r=f(()=>e.selected.length);function m(q){return o.value[q]===!0}function w(){a("update:selected",[])}function C(q,S,_,O){a("selection",{rows:S,added:_,keys:q,evt:O});const R=u.value===!0?_===!0?S:[]:_===!0?e.selected.concat(S):e.selected.filter(M=>q.includes(c.value(M))===!1);a("update:selected",R)}return{hasSelectionMode:v,singleSelection:u,multipleSelection:i,allRowsSelected:d,someRowsSelected:b,rowsSelectedNumber:r,isRowSelected:m,clearSelection:w,updateSelection:C}}function Ue(e){return Array.isArray(e)?e.slice():[]}const Ll={expanded:Array},Dl=["update:expanded"];function Al(e,a){const n=N(Ue(e.expanded));L(()=>e.expanded,u=>{n.value=Ue(u)});function c(u){return n.value.includes(u)}function o(u){e.expanded!==void 0?a("update:expanded",u):n.value=u}function v(u,i){const d=n.value.slice(),b=d.indexOf(u);i===!0?b===-1&&(d.push(u),o(d)):b!==-1&&(d.splice(b,1),o(d))}return{isRowExpanded:c,setExpanded:o,updateExpanded:v}}const Vl={visibleColumns:Array};function Hl(e,a,n){const c=f(()=>{if(e.columns!==void 0)return e.columns;const i=e.rows[0];return i!==void 0?Object.keys(i).map(d=>({name:d,label:d.toUpperCase(),field:d,align:xe(i[d])?"right":"left",sortable:!0})):[]}),o=f(()=>{const{sortBy:i,descending:d}=a.value;return(e.visibleColumns!==void 0?c.value.filter(r=>r.required===!0||e.visibleColumns.includes(r.name)===!0):c.value).map(r=>{const m=r.align||"right",w=`text-${m}`;return{...r,align:m,__iconClass:`q-table__sort-icon q-table__sort-icon--${m}`,__thClass:w+(r.headerClasses!==void 0?" "+r.headerClasses:"")+(r.sortable===!0?" sortable":"")+(r.name===i?` sorted ${d===!0?"sort-desc":""}`:""),__tdStyle:r.style!==void 0?typeof r.style!="function"?()=>r.style:r.style:()=>null,__tdClass:r.classes!==void 0?typeof r.classes!="function"?()=>w+" "+r.classes:C=>w+" "+r.classes(C):()=>w}})}),v=f(()=>{const i={};return o.value.forEach(d=>{i[d.name]=d}),i}),u=f(()=>e.tableColspan!==void 0?e.tableColspan:o.value.length+(n.value===!0?1:0));return{colList:c,computedCols:o,computedColsMap:v,computedColspan:u}}const ge="q-table__bottom row items-center",tt={};Je.forEach(e=>{tt[e]={}});var Gl=j({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...tt,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Ze,..._l,...Vl,...pl,...Rl,...Ll,...Ml,...ql},emits:["request","virtualScroll",...wl,...Dl,...El],setup(e,{slots:a,emit:n}){const c=Y(),{proxy:{$q:o}}=c,v=Xe(e,o),{inFullscreen:u,toggleFullscreen:i}=Cl(),d=f(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),b=N(null),r=N(null),m=f(()=>e.grid!==!0&&e.virtualScroll===!0),w=f(()=>" q-table__card"+(v.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),C=f(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":w.value)+(v.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(u.value===!0?" fullscreen scroll":"")),q=f(()=>C.value+(e.loading===!0?" q-table--loading":""));L(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+C.value,()=>{m.value===!0&&r.value!==null&&r.value.reset()});const{innerPagination:S,computedPagination:_,isServerSide:O,requestServerInteraction:R,setPagination:M}=Ol(c,G),{computedFilterMethod:p}=Tl(e,M),{isRowExpanded:P,setExpanded:z,updateExpanded:Q}=Al(e,n),J=f(()=>{let t=e.rows;if(O.value===!0||t.length===0)return t;const{sortBy:s,descending:g}=_.value;return e.filter&&(t=p.value(t,e.filter,F.value,G)),ee.value!==null&&(t=V.value(e.rows===t?t.slice():t,s,g)),t}),I=f(()=>J.value.length),E=f(()=>{let t=J.value;if(O.value===!0)return t;const{rowsPerPage:s}=_.value;return s!==0&&(re.value===0&&e.rows!==t?t.length>ie.value&&(t=t.slice(0,ie.value)):t=t.slice(re.value,ie.value)),t}),{hasSelectionMode:D,singleSelection:me,multipleSelection:ae,allRowsSelected:he,someRowsSelected:Z,rowsSelectedNumber:A,isRowSelected:X,clearSelection:ye,updateSelection:U}=Fl(e,n,E,d),{colList:ne,computedCols:F,computedColsMap:oe,computedColspan:x}=Hl(e,_,D),{columnToSort:ee,computedSortMethod:V,sort:W}=kl(e,_,ne,M),{firstRowIndex:re,lastRowIndex:ie,isFirstPage:Se,isLastPage:_e,pagesNumber:se,computedRowsPerPageOptions:lt,computedRowsNumber:ue,firstPage:we,prevPage:Ce,nextPage:Pe,lastPage:qe}=Bl(c,S,_,O,M,I),at=f(()=>E.value.length===0),nt=f(()=>{const t={};return Je.forEach(s=>{t[s]=e[s]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function ot(){m.value===!0&&r.value.reset()}function rt(){if(e.grid===!0)return yt();const t=e.hideHeader!==!0?Fe:null;if(m.value===!0){const g=a["top-row"],h=a["bottom-row"],y={default:T=>Be(T.item,a.body,T.index)};if(g!==void 0){const T=l("tbody",g({cols:F.value}));y.before=t===null?()=>T:()=>[t()].concat(T)}else t!==null&&(y.before=t);return h!==void 0&&(y.after=()=>l("tbody",h({cols:F.value}))),l(yl,{ref:r,class:e.tableClass,style:e.tableStyle,...nt.value,scrollTarget:e.virtualScrollTarget,items:E.value,type:"__qtable",tableColspan:x.value,onVirtualScroll:st},y)}const s=[ut()];return t!==null&&s.unshift(t()),et({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},s)}function it(t,s){if(r.value!==null){r.value.scrollTo(t,s);return}t=parseInt(t,10);const g=b.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(g!==null){const h=b.value.querySelector(".q-table__middle.scroll"),y=g.offsetTop-e.virtualScrollStickySizeStart,T=y<h.scrollTop?"decrease":"increase";h.scrollTop=y,n("virtualScroll",{index:t,from:0,to:S.value.rowsPerPage-1,direction:T})}}function st(t){n("virtualScroll",t)}function Oe(){return[l(sl,{class:"q-table__linear-progress",color:e.color,dark:v.value,indeterminate:!0,trackColor:"transparent"})]}function Be(t,s,g){const h=d.value(t),y=X(h);if(s!==void 0)return s(Me({key:h,row:t,pageIndex:g,__trClass:y?"selected":""}));const T=a["body-cell"],k=F.value.map(B=>{const de=a[`body-cell-${B.name}`],ve=de!==void 0?de:T;return ve!==void 0?ve(ct({key:h,row:t,pageIndex:g,col:B})):l("td",{class:B.__tdClass(t),style:B.__tdStyle(t)},G(B,t))});if(D.value===!0){const B=a["body-selection"],de=B!==void 0?B(dt({key:h,row:t,pageIndex:g})):[l(Te,{modelValue:y,color:e.color,dark:v.value,dense:e.dense,"onUpdate:modelValue":(ve,St)=>{U([h],[t],ve,St)}})];k.unshift(l("td",{class:"q-table--col-auto-width"},de))}const H={key:h,class:{selected:y}};return e.onRowClick!==void 0&&(H.class["cursor-pointer"]=!0,H.onClick=B=>{n("RowClick",B,t,g)}),e.onRowDblclick!==void 0&&(H.class["cursor-pointer"]=!0,H.onDblclick=B=>{n("RowDblclick",B,t,g)}),e.onRowContextmenu!==void 0&&(H.class["cursor-pointer"]=!0,H.onContextmenu=B=>{n("RowContextmenu",B,t,g)}),l("tr",H,k)}function ut(){const t=a.body,s=a["top-row"],g=a["bottom-row"];let h=E.value.map((y,T)=>Be(y,t,T));return s!==void 0&&(h=s({cols:F.value}).concat(h)),g!==void 0&&(h=h.concat(g({cols:F.value}))),l("tbody",h)}function Me(t){return ke(t),t.cols=t.cols.map(s=>te({...s},"value",()=>G(s,t.row))),t}function ct(t){return ke(t),te(t,"value",()=>G(t.col,t.row)),t}function dt(t){return ke(t),t}function ke(t){Object.assign(t,{cols:F.value,colsMap:oe.value,sort:W,rowIndex:re.value+t.pageIndex,color:e.color,dark:v.value,dense:e.dense}),D.value===!0&&te(t,"selected",()=>X(t.key),(s,g)=>{U([t.key],[t.row],s,g)}),te(t,"expand",()=>P(t.key),s=>{Q(t.key,s)})}function G(t,s){const g=typeof t.field=="function"?t.field(s):s[t.field];return t.format!==void 0?t.format(g,s):g}const K=f(()=>({pagination:_.value,pagesNumber:se.value,isFirstPage:Se.value,isLastPage:_e.value,firstPage:we,prevPage:Ce,nextPage:Pe,lastPage:qe,inFullscreen:u.value,toggleFullscreen:i}));function vt(){const t=a.top,s=a["top-left"],g=a["top-right"],h=a["top-selection"],y=D.value===!0&&h!==void 0&&A.value>0,T="q-table__top relative-position row items-center";if(t!==void 0)return l("div",{class:T},[t(K.value)]);let k;if(y===!0?k=h(K.value).slice():(k=[],s!==void 0?k.push(l("div",{class:"q-table__control"},[s(K.value)])):e.title&&k.push(l("div",{class:"q-table__control"},[l("div",{class:["q-table__title",e.titleClass]},e.title)]))),g!==void 0&&(k.push(l("div",{class:"q-table__separator col"})),k.push(l("div",{class:"q-table__control"},[g(K.value)]))),k.length!==0)return l("div",{class:T},k)}const Ee=f(()=>Z.value===!0?null:he.value);function Fe(){const t=ft();return e.loading===!0&&a.loading===void 0&&t.push(l("tr",{class:"q-table__progress"},[l("th",{class:"relative-position",colspan:x.value},Oe())])),l("thead",t)}function ft(){const t=a.header,s=a["header-cell"];if(t!==void 0)return t(pe({header:!0})).slice();const g=F.value.map(h=>{const y=a[`header-cell-${h.name}`],T=y!==void 0?y:s,k=pe({col:h});return T!==void 0?T(k):l(fl,{key:h.name,props:k},()=>h.label)});if(me.value===!0&&e.grid!==!0)g.unshift(l("th",{class:"q-table--col-auto-width"}," "));else if(ae.value===!0){const h=a["header-selection"],y=h!==void 0?h(pe({})):[l(Te,{color:e.color,modelValue:Ee.value,dark:v.value,dense:e.dense,"onUpdate:modelValue":Le})];g.unshift(l("th",{class:"q-table--col-auto-width"},y))}return[l("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},g)]}function pe(t){return Object.assign(t,{cols:F.value,sort:W,colsMap:oe.value,color:e.color,dark:v.value,dense:e.dense}),ae.value===!0&&te(t,"selected",()=>Ee.value,Le),t}function Le(t){Z.value===!0&&(t=!1),U(E.value.map(d.value),E.value,t)}const ce=f(()=>{const t=[e.iconFirstPage||o.iconSet.table.firstPage,e.iconPrevPage||o.iconSet.table.prevPage,e.iconNextPage||o.iconSet.table.nextPage,e.iconLastPage||o.iconSet.table.lastPage];return o.lang.rtl===!0?t.reverse():t});function gt(){if(e.hideBottom===!0)return;if(at.value===!0){if(e.hideNoData===!0)return;const g=e.loading===!0?e.loadingLabel||o.lang.table.loading:e.filter?e.noResultsLabel||o.lang.table.noResults:e.noDataLabel||o.lang.table.noData,h=a["no-data"],y=h!==void 0?[h({message:g,icon:o.iconSet.table.warning,filter:e.filter})]:[l(Re,{class:"q-table__bottom-nodata-icon",name:o.iconSet.table.warning}),g];return l("div",{class:ge+" q-table__bottom--nodata"},y)}const t=a.bottom;if(t!==void 0)return l("div",{class:ge},[t(K.value)]);const s=e.hideSelectedBanner!==!0&&D.value===!0&&A.value>0?[l("div",{class:"q-table__control"},[l("div",[(e.selectedRowsLabel||o.lang.table.selectedRecords)(A.value)])])]:[];if(e.hidePagination!==!0)return l("div",{class:ge+" justify-end"},mt(s));if(s.length!==0)return l("div",{class:ge},s)}function bt(t){M({page:1,rowsPerPage:t.value})}function mt(t){let s;const{rowsPerPage:g}=_.value,h=e.paginationLabel||o.lang.table.pagination,y=a.pagination,T=e.rowsPerPageOptions.length>1;if(t.push(l("div",{class:"q-table__separator col"})),T===!0&&t.push(l("div",{class:"q-table__control"},[l("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||o.lang.table.recordsPerPage]),l(il,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:g,options:lt.value,displayValue:g===0?o.lang.table.allRows:g,dark:v.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":bt})])),y!==void 0)s=y(K.value);else if(s=[l("span",g!==0?{class:"q-table__bottom-item"}:{},[g?h(re.value+1,Math.min(ie.value,ue.value),ue.value):h(1,I.value,ue.value)])],g!==0&&se.value>1){const k={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(k.size="sm"),se.value>2&&s.push(l(fe,{key:"pgFirst",...k,icon:ce.value[0],disable:Se.value,onClick:we})),s.push(l(fe,{key:"pgPrev",...k,icon:ce.value[1],disable:Se.value,onClick:Ce}),l(fe,{key:"pgNext",...k,icon:ce.value[2],disable:_e.value,onClick:Pe})),se.value>2&&s.push(l(fe,{key:"pgLast",...k,icon:ce.value[3],disable:_e.value,onClick:qe}))}return t.push(l("div",{class:"q-table__control"},s)),t}function ht(){const t=e.gridHeader===!0?[l("table",{class:"q-table"},[Fe()])]:e.loading===!0&&a.loading===void 0?Oe():void 0;return l("div",{class:"q-table__middle"},t)}function yt(){const t=a.item!==void 0?a.item:s=>{const g=s.cols.map(y=>l("div",{class:"q-table__grid-item-row"},[l("div",{class:"q-table__grid-item-title"},[y.label]),l("div",{class:"q-table__grid-item-value"},[y.value])]));if(D.value===!0){const y=a["body-selection"],T=y!==void 0?y(s):[l(Te,{modelValue:s.selected,color:e.color,dark:v.value,dense:e.dense,"onUpdate:modelValue":(k,H)=>{U([s.key],[s.row],k,H)}})];g.unshift(l("div",{class:"q-table__grid-item-row"},T),l(ul,{dark:v.value}))}const h={class:["q-table__grid-item-card"+w.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(h.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(h.onClick=y=>{n("RowClick",y,s.row,s.pageIndex)}),e.onRowDblclick!==void 0&&(h.onDblclick=y=>{n("RowDblclick",y,s.row,s.pageIndex)})),l("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(s.selected===!0?" q-table__grid-item--selected":"")},[l("div",h,g)])};return l("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},E.value.map((s,g)=>t(Me({key:d.value(s),row:s,pageIndex:g}))))}return Object.assign(c.proxy,{requestServerInteraction:R,setPagination:M,firstPage:we,prevPage:Ce,nextPage:Pe,lastPage:qe,isRowSelected:X,clearSelection:ye,isRowExpanded:P,setExpanded:z,sort:W,resetVirtualScroll:ot,scrollTo:it,getCellValue:G}),Ht(c.proxy,{filteredSortedRows:()=>J.value,computedRows:()=>E.value,computedRowsNumber:()=>ue.value}),()=>{const t=[vt()],s={ref:b,class:q.value};return e.grid===!0?t.push(ht()):Object.assign(s,{class:[s.class,e.cardClass],style:e.cardStyle}),t.push(rt(),gt()),e.loading===!0&&a.loading!==void 0&&t.push(a.loading()),l("div",s,t)}}}),Kl=j({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:a}){const n=Y(),c=f(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return l("td",{class:c.value},$(a.default));const o=n.vnode.key,v=(e.props.colsMap!==void 0?e.props.colsMap[o]:null)||e.props.col;if(v===void 0)return;const{row:u}=e.props;return l("td",{class:c.value+v.__tdClass(u),style:v.__tdStyle(u)},$(a.default))}}}),Yl=j({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:a}){const n=f(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>l("tr",{class:n.value},$(a.default))}});export{Ul as C,Gl as Q,Kl as a,Yl as b,Wl as c,Il as d};
